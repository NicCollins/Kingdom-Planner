const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browserAll-xYnCVj9H.js","./webworkerAll-BroNdky7.js","./colorToUniform-CcBwb51o.js","./CanvasPool-BIlhpUxG.js","./WebGPURenderer-MFJ2y2dx.js","./SharedSystems-BmVk6CXD.js","./WebGLRenderer-DC6NA6b_.js"])))=>i.map(i=>d[i]);
var Pm=Object.defineProperty;var Tm=(t,e,r)=>e in t?Pm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Eu=(t,e,r)=>Tm(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wh={exports:{}},Zi={},Yh={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),Em=Symbol.for("react.portal"),Am=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Dm=Symbol.for("react.memo"),zm=Symbol.for("react.lazy"),Au=Symbol.iterator;function Bm(t){return t===null||typeof t!="object"?null:(t=Au&&t[Au]||t["@@iterator"],typeof t=="function"?t:null)}var Xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qh=Object.assign,Qh={};function fn(t,e,r){this.props=t,this.context=e,this.refs=Qh,this.updater=r||Xh}fn.prototype.isReactComponent={};fn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kh(){}Kh.prototype=fn.prototype;function ba(t,e,r){this.props=t,this.context=e,this.refs=Qh,this.updater=r||Xh}var Ca=ba.prototype=new Kh;Ca.constructor=ba;qh(Ca,fn.prototype);Ca.isPureReactComponent=!0;var Nu=Array.isArray,Zh=Object.prototype.hasOwnProperty,ka={current:null},Jh={key:!0,ref:!0,__self:!0,__source:!0};function ed(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zh.call(e,n)&&!Jh.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ms,type:t,key:i,ref:o,props:s,_owner:ka.current}}function Gm(t,e){return{$$typeof:Ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ma(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms}function Om(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ru=/\/+/g;function vo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Om(""+t.key):e.toString(36)}function ci(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ms:case Em:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+vo(o,0):n,Nu(s)?(r="",t!=null&&(r=t.replace(Ru,"$&/")+"/"),ci(s,e,r,"",function(u){return u})):s!=null&&(Ma(s)&&(s=Gm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ru,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Nu(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+vo(i,l);o+=ci(i,e,r,a,s)}else if(a=Bm(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+vo(i,l++),o+=ci(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rs(t,e,r){if(t==null)return t;var n=[],s=0;return ci(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Um(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},hi={transition:null},$m={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:hi,ReactCurrentOwner:ka};function td(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Rs,forEach:function(t,e,r){Rs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rs(t,function(){e++}),e},toArray:function(t){return Rs(t,function(e){return e})||[]},only:function(t){if(!Ma(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=fn;B.Fragment=Am;B.Profiler=Rm;B.PureComponent=ba;B.StrictMode=Nm;B.Suspense=Lm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$m;B.act=td;B.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ka.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Zh.call(e,a)&&!Jh.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ms,type:t.type,key:s,ref:i,props:n,_owner:o}};B.createContext=function(t){return t={$$typeof:Im,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jm,_context:t},t.Consumer=t};B.createElement=ed;B.createFactory=function(t){var e=ed.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Fm,render:t}};B.isValidElement=Ma;B.lazy=function(t){return{$$typeof:zm,_payload:{_status:-1,_result:t},_init:Um}};B.memo=function(t,e){return{$$typeof:Dm,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=hi.transition;hi.transition={};try{t()}finally{hi.transition=e}};B.unstable_act=td;B.useCallback=function(t,e){return Ne.current.useCallback(t,e)};B.useContext=function(t){return Ne.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ne.current.useEffect(t,e)};B.useId=function(){return Ne.current.useId()};B.useImperativeHandle=function(t,e,r){return Ne.current.useImperativeHandle(t,e,r)};B.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ne.current.useMemo(t,e)};B.useReducer=function(t,e,r){return Ne.current.useReducer(t,e,r)};B.useRef=function(t){return Ne.current.useRef(t)};B.useState=function(t){return Ne.current.useState(t)};B.useSyncExternalStore=function(t,e,r){return Ne.current.useSyncExternalStore(t,e,r)};B.useTransition=function(){return Ne.current.useTransition()};B.version="18.3.1";Yh.exports=B;var $=Yh.exports;const Vm=Sa($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=$,Wm=Symbol.for("react.element"),Ym=Symbol.for("react.fragment"),Xm=Object.prototype.hasOwnProperty,qm=Hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qm={key:!0,ref:!0,__self:!0,__source:!0};function rd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Xm.call(e,n)&&!Qm.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Wm,type:t,key:i,ref:o,props:s,_owner:qm.current}}Zi.Fragment=Ym;Zi.jsx=rd;Zi.jsxs=rd;Wh.exports=Zi;var g=Wh.exports,dl={},nd={exports:{}},We={},sd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,A){var D=R.length;R.push(A);e:for(;0<D;){var V=D-1>>>1,K=R[V];if(0<s(K,A))R[V]=A,R[D]=K,D=V;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var A=R[0],D=R.pop();if(D!==A){R[0]=D;e:for(var V=0,K=R.length,Xe=K>>>1;V<Xe;){var qe=2*(V+1)-1,at=R[qe],je=qe+1,X=R[je];if(0>s(at,D))je<K&&0>s(X,at)?(R[V]=X,R[je]=D,V=je):(R[V]=at,R[qe]=D,V=qe);else if(je<K&&0>s(X,D))R[V]=X,R[je]=D,V=je;else break e}}return A}function s(R,A){var D=R.sortIndex-A.sortIndex;return D!==0?D:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,d=!1,y=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=R)n(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=r(u)}}function w(R){if(_=!1,x(R),!y)if(r(a)!==null)y=!0,j(C);else{var A=r(u);A!==null&&L(w,A.startTime-R)}}function C(R,A){y=!1,_&&(_=!1,m(k),k=-1),d=!0;var D=f;try{for(x(A),h=r(a);h!==null&&(!(h.expirationTime>A)||R&&!T());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var K=V(h.expirationTime<=A);A=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(a)&&n(a),x(A)}else n(a);h=r(a)}if(h!==null)var Xe=!0;else{var qe=r(u);qe!==null&&L(w,qe.startTime-A),Xe=!1}return Xe}finally{h=null,f=D,d=!1}}var b=!1,S=null,k=-1,M=5,P=-1;function T(){return!(t.unstable_now()-P<M)}function F(){if(S!==null){var R=t.unstable_now();P=R;var A=!0;try{A=S(!0,R)}finally{A?N():(b=!1,S=null)}}else b=!1}var N;if(typeof p=="function")N=function(){p(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,xe=z.port2;z.port1.onmessage=F,N=function(){xe.postMessage(null)}}else N=function(){v(F,0)};function j(R){S=R,b||(b=!0,N())}function L(R,A){k=v(function(){R(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||d||(y=!0,j(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var D=f;f=A;try{return R()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=f;f=R;try{return A()}finally{f=D}},t.unstable_scheduleCallback=function(R,A,D){var V=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?V+D:V):D=V,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=D+K,R={id:c++,callback:A,priorityLevel:R,startTime:D,expirationTime:K,sortIndex:-1},D>V?(R.sortIndex=D,e(u,R),r(a)===null&&R===r(u)&&(_?(m(k),k=-1):_=!0,L(w,D-V))):(R.sortIndex=K,e(a,R),y||d||(y=!0,j(C))),R},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(R){var A=f;return function(){var D=f;f=A;try{return R.apply(this,arguments)}finally{f=D}}}})(id);sd.exports=id;var Km=sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=$,He=Km;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,rs={};function Er(t,e){nn(t,e),nn(t+"Capture",e)}function nn(t,e){for(rs[t]=e,t=0;t<e.length;t++)od.add(e[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,Jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},Iu={};function eg(t){return fl.call(Iu,t)?!0:fl.call(ju,t)?!1:Jm.test(t)?Iu[t]=!0:(ju[t]=!0,!1)}function tg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rg(t,e,r,n){if(e===null||typeof e>"u"||tg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Re(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Re(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Re(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Re(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Re(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Re(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Re(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Re(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Re(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pa=/[\-:]([a-z])/g;function Ta(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pa,Ta);we[e]=new Re(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pa,Ta);we[e]=new Re(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pa,Ta);we[e]=new Re(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Re(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Re(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ea(t,e,r,n){var s=we.hasOwnProperty(e)?we[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rg(e,r,s,n)&&(r=null),n||s===null?eg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bt=Zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Aa=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ad=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),Ra=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),Fu=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=Fu&&t[Fu]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,_o;function jn(t){if(_o===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_o=e&&e[1]||""}return`
`+_o+t}var wo=!1;function So(t,e){if(!t||wo)return"";wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{wo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?jn(t):""}function ng(t){switch(t.tag){case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function yl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Br:return"Fragment";case zr:return"Portal";case pl:return"Profiler";case Aa:return"StrictMode";case ml:return"Suspense";case gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ad:return(t.displayName||"Context")+".Consumer";case ld:return(t._context.displayName||"Context")+".Provider";case Na:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ra:return e=t.displayName||null,e!==null?e:yl(t.type)||"Memo";case Ut:e=t._payload,t=t._init;try{return yl(t(e))}catch{}}return null}function sg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(e);case 8:return e===Aa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ig(t){var e=cd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Is(t){t._valueTracker||(t._valueTracker=ig(t))}function hd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=cd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xl(t,e){var r=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Lu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=nr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dd(t,e){e=e.checked,e!=null&&Ea(t,"checked",e,!1)}function vl(t,e){dd(t,e);var r=nr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_l(t,e.type,r):e.hasOwnProperty("defaultValue")&&_l(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Du(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _l(t,e,r){(e!=="number"||Ci(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var In=Array.isArray;function Kr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+nr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(In(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:nr(r)}}function fd(t,e){var r=nr(e.value),n=nr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fs,md=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},og=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(t){og.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Un[e]=Un[t]})});function gd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Un.hasOwnProperty(t)&&Un[t]?(""+e).trim():e+"px"}function yd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=gd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var lg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(t,e){if(e){if(lg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Cl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ml=null,Zr=null,Jr=null;function Gu(t){if(t=Es(t)){if(typeof Ml!="function")throw Error(E(280));var e=t.stateNode;e&&(e=no(e),Ml(t.stateNode,t.type,e))}}function xd(t){Zr?Jr?Jr.push(t):Jr=[t]:Zr=t}function vd(){if(Zr){var t=Zr,e=Jr;if(Jr=Zr=null,Gu(t),e)for(t=0;t<e.length;t++)Gu(e[t])}}function _d(t,e){return t(e)}function wd(){}var bo=!1;function Sd(t,e,r){if(bo)return t(e,r);bo=!0;try{return _d(t,e,r)}finally{bo=!1,(Zr!==null||Jr!==null)&&(wd(),vd())}}function ss(t,e){var r=t.stateNode;if(r===null)return null;var n=no(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var Pl=!1;if(Ft)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Pl=!1}function ag(t,e,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var $n=!1,ki=null,Mi=!1,Tl=null,ug={onError:function(t){$n=!0,ki=t}};function cg(t,e,r,n,s,i,o,l,a){$n=!1,ki=null,ag.apply(ug,arguments)}function hg(t,e,r,n,s,i,o,l,a){if(cg.apply(this,arguments),$n){if($n){var u=ki;$n=!1,ki=null}else throw Error(E(198));Mi||(Mi=!0,Tl=u)}}function Ar(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ou(t){if(Ar(t)!==t)throw Error(E(188))}function dg(t){var e=t.alternate;if(!e){if(e=Ar(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ou(s),t;if(i===n)return Ou(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Cd(t){return t=dg(t),t!==null?kd(t):null}function kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kd(t);if(e!==null)return e;t=t.sibling}return null}var Md=He.unstable_scheduleCallback,Uu=He.unstable_cancelCallback,fg=He.unstable_shouldYield,pg=He.unstable_requestPaint,ae=He.unstable_now,mg=He.unstable_getCurrentPriorityLevel,Ia=He.unstable_ImmediatePriority,Pd=He.unstable_UserBlockingPriority,Pi=He.unstable_NormalPriority,gg=He.unstable_LowPriority,Td=He.unstable_IdlePriority,Ji=null,Ct=null;function yg(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ji,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:_g,xg=Math.log,vg=Math.LN2;function _g(t){return t>>>=0,t===0?32:31-(xg(t)/vg|0)|0}var Ls=64,Ds=4194304;function Fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ti(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Fn(l):(i&=o,i!==0&&(n=Fn(i)))}else o=r&~s,o!==0?n=Fn(o):i!==0&&(n=Fn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pt(e),s=1<<r,n|=t[r],e&=~s;return n}function wg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pt(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=wg(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function El(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ed(){var t=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),t}function Co(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ps(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=r}function bg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Fa(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var H=0;function Ad(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nd,La,Rd,jd,Id,Al=!1,zs=[],qt=null,Qt=null,Kt=null,is=new Map,os=new Map,Vt=[],Cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(t,e){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function vn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&La(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kg(t,e,r,n,s){switch(e){case"focusin":return qt=vn(qt,t,e,r,n,s),!0;case"dragenter":return Qt=vn(Qt,t,e,r,n,s),!0;case"mouseover":return Kt=vn(Kt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,vn(is.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,vn(os.get(i)||null,t,e,r,n,s)),!0}return!1}function Fd(t){var e=xr(t.target);if(e!==null){var r=Ar(e);if(r!==null){if(e=r.tag,e===13){if(e=bd(r),e!==null){t.blockedOn=e,Id(t.priority,function(){Rd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function di(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Nl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kl=n,r.target.dispatchEvent(n),kl=null}else return e=Es(r),e!==null&&La(e),t.blockedOn=r,!1;e.shift()}return!0}function Vu(t,e,r){di(t)&&r.delete(e)}function Mg(){Al=!1,qt!==null&&di(qt)&&(qt=null),Qt!==null&&di(Qt)&&(Qt=null),Kt!==null&&di(Kt)&&(Kt=null),is.forEach(Vu),os.forEach(Vu)}function _n(t,e){t.blockedOn===e&&(t.blockedOn=null,Al||(Al=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Mg)))}function ls(t){function e(s){return _n(s,t)}if(0<zs.length){_n(zs[0],t);for(var r=1;r<zs.length;r++){var n=zs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qt!==null&&_n(qt,t),Qt!==null&&_n(Qt,t),Kt!==null&&_n(Kt,t),is.forEach(e),os.forEach(e),r=0;r<Vt.length;r++)n=Vt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vt.length&&(r=Vt[0],r.blockedOn===null);)Fd(r),r.blockedOn===null&&Vt.shift()}var en=Bt.ReactCurrentBatchConfig,Ei=!0;function Pg(t,e,r,n){var s=H,i=en.transition;en.transition=null;try{H=1,Da(t,e,r,n)}finally{H=s,en.transition=i}}function Tg(t,e,r,n){var s=H,i=en.transition;en.transition=null;try{H=4,Da(t,e,r,n)}finally{H=s,en.transition=i}}function Da(t,e,r,n){if(Ei){var s=Nl(t,e,r,n);if(s===null)Io(t,e,n,Ai,r),$u(t,n);else if(kg(s,t,e,r,n))n.stopPropagation();else if($u(t,n),e&4&&-1<Cg.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&Nd(i),i=Nl(t,e,r,n),i===null&&Io(t,e,n,Ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Io(t,e,n,null,r)}}var Ai=null;function Nl(t,e,r,n){if(Ai=null,t=ja(n),t=xr(t),t!==null)if(e=Ar(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ai=t,null}function Ld(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case Ia:return 1;case Pd:return 4;case Pi:case gg:return 16;case Td:return 536870912;default:return 16}default:return 16}}var Wt=null,za=null,fi=null;function Dd(){if(fi)return fi;var t,e=za,r=e.length,n,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return fi=s.slice(t,1<n?1-n:void 0)}function pi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function Hu(){return!1}function Ye(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bs:Hu,this.isPropagationStopped=Hu,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),e}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Ye(pn),Ts=ie({},pn,{view:0,detail:0}),Eg=Ye(Ts),ko,Mo,wn,eo=ie({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wn&&(wn&&t.type==="mousemove"?(ko=t.screenX-wn.screenX,Mo=t.screenY-wn.screenY):Mo=ko=0,wn=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:Mo}}),Wu=Ye(eo),Ag=ie({},eo,{dataTransfer:0}),Ng=Ye(Ag),Rg=ie({},Ts,{relatedTarget:0}),Po=Ye(Rg),jg=ie({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=Ye(jg),Fg=ie({},pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lg=Ye(Fg),Dg=ie({},pn,{data:0}),Yu=Ye(Dg),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gg[t])?!!e[t]:!1}function Ga(){return Og}var Ug=ie({},Ts,{key:function(t){if(t.key){var e=zg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$g=Ye(Ug),Vg=ie({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=Ye(Vg),Hg=ie({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Wg=Ye(Hg),Yg=ie({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xg=Ye(Yg),qg=ie({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=Ye(qg),Kg=[9,13,27,32],Oa=Ft&&"CompositionEvent"in window,Vn=null;Ft&&"documentMode"in document&&(Vn=document.documentMode);var Zg=Ft&&"TextEvent"in window&&!Vn,zd=Ft&&(!Oa||Vn&&8<Vn&&11>=Vn),qu=" ",Qu=!1;function Bd(t,e){switch(t){case"keyup":return Kg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function Jg(t,e){switch(t){case"compositionend":return Gd(e);case"keypress":return e.which!==32?null:(Qu=!0,qu);case"textInput":return t=e.data,t===qu&&Qu?null:t;default:return null}}function ey(t,e){if(Gr)return t==="compositionend"||!Oa&&Bd(t,e)?(t=Dd(),fi=za=Wt=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zd&&e.locale!=="ko"?null:e.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ty[t.type]:e==="textarea"}function Od(t,e,r,n){xd(n),e=Ni(e,"onChange"),0<e.length&&(r=new Ba("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hn=null,as=null;function ry(t){Zd(t,0)}function to(t){var e=$r(t);if(hd(e))return t}function ny(t,e){if(t==="change")return e}var Ud=!1;if(Ft){var To;if(Ft){var Eo="oninput"in document;if(!Eo){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Eo=typeof Zu.oninput=="function"}To=Eo}else To=!1;Ud=To&&(!document.documentMode||9<document.documentMode)}function Ju(){Hn&&(Hn.detachEvent("onpropertychange",$d),as=Hn=null)}function $d(t){if(t.propertyName==="value"&&to(as)){var e=[];Od(e,as,t,ja(t)),Sd(ry,e)}}function sy(t,e,r){t==="focusin"?(Ju(),Hn=e,as=r,Hn.attachEvent("onpropertychange",$d)):t==="focusout"&&Ju()}function iy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return to(as)}function oy(t,e){if(t==="click")return to(e)}function ly(t,e){if(t==="input"||t==="change")return to(e)}function ay(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:ay;function us(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fl.call(e,s)||!gt(t[s],e[s]))return!1}return!0}function ec(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tc(t,e){var r=ec(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ec(r)}}function Vd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hd(){for(var t=window,e=Ci();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ci(t.document)}return e}function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uy(t){var e=Hd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Vd(r.ownerDocument.documentElement,r)){if(n!==null&&Ua(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=tc(r,i);var o=tc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cy=Ft&&"documentMode"in document&&11>=document.documentMode,Or=null,Rl=null,Wn=null,jl=!1;function rc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jl||Or==null||Or!==Ci(n)||(n=Or,"selectionStart"in n&&Ua(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&us(Wn,n)||(Wn=n,n=Ni(Rl,"onSelect"),0<n.length&&(e=new Ba("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Or)))}function Gs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ur={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Ao={},Wd={};Ft&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function ro(t){if(Ao[t])return Ao[t];if(!Ur[t])return t;var e=Ur[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wd)return Ao[t]=e[r];return t}var Yd=ro("animationend"),Xd=ro("animationiteration"),qd=ro("animationstart"),Qd=ro("transitionend"),Kd=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(t,e){Kd.set(t,e),Er(e,[t])}for(var No=0;No<nc.length;No++){var Ro=nc[No],hy=Ro.toLowerCase(),dy=Ro[0].toUpperCase()+Ro.slice(1);lr(hy,"on"+dy)}lr(Yd,"onAnimationEnd");lr(Xd,"onAnimationIteration");lr(qd,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr(Qd,"onTransitionEnd");nn("onMouseEnter",["mouseout","mouseover"]);nn("onMouseLeave",["mouseout","mouseover"]);nn("onPointerEnter",["pointerout","pointerover"]);nn("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function sc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hg(n,e,void 0,t),t.currentTarget=null}function Zd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;sc(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;sc(s,l,u),i=a}}}if(Mi)throw t=Tl,Mi=!1,Tl=null,t}function J(t,e){var r=e[zl];r===void 0&&(r=e[zl]=new Set);var n=t+"__bubble";r.has(n)||(Jd(e,t,2,!1),r.add(n))}function jo(t,e,r){var n=0;e&&(n|=4),Jd(r,t,n,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function cs(t){if(!t[Os]){t[Os]=!0,od.forEach(function(r){r!=="selectionchange"&&(fy.has(r)||jo(r,!1,t),jo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,jo("selectionchange",!1,e))}}function Jd(t,e,r,n){switch(Ld(e)){case 1:var s=Pg;break;case 4:s=Tg;break;default:s=Da}r=s.bind(null,e,r,t),s=void 0,!Pl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Io(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xr(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Sd(function(){var u=i,c=ja(r),h=[];e:{var f=Kd.get(t);if(f!==void 0){var d=Ba,y=t;switch(t){case"keypress":if(pi(r)===0)break e;case"keydown":case"keyup":d=$g;break;case"focusin":y="focus",d=Po;break;case"focusout":y="blur",d=Po;break;case"beforeblur":case"afterblur":d=Po;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Wg;break;case Yd:case Xd:case qd:d=Ig;break;case Qd:d=Xg;break;case"scroll":d=Eg;break;case"wheel":d=Qg;break;case"copy":case"cut":case"paste":d=Lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Xu}var _=(e&4)!==0,v=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=ss(p,m),w!=null&&_.push(hs(p,w,x)))),v)break;p=p.return}0<_.length&&(f=new d(f,y,null,r,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&r!==kl&&(y=r.relatedTarget||r.fromElement)&&(xr(y)||y[Lt]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=r.relatedTarget||r.toElement,d=u,y=y?xr(y):null,y!==null&&(v=Ar(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(_=Wu,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Xu,w="onPointerLeave",m="onPointerEnter",p="pointer"),v=d==null?f:$r(d),x=y==null?f:$r(y),f=new _(w,p+"leave",d,r,c),f.target=v,f.relatedTarget=x,w=null,xr(c)===u&&(_=new _(m,p+"enter",y,r,c),_.target=x,_.relatedTarget=v,w=_),v=w,d&&y)t:{for(_=d,m=y,p=0,x=_;x;x=jr(x))p++;for(x=0,w=m;w;w=jr(w))x++;for(;0<p-x;)_=jr(_),p--;for(;0<x-p;)m=jr(m),x--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=jr(_),m=jr(m)}_=null}else _=null;d!==null&&ic(h,f,d,_,!1),y!==null&&v!==null&&ic(h,v,y,_,!0)}}e:{if(f=u?$r(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var C=ny;else if(Ku(f))if(Ud)C=ly;else{C=iy;var b=sy}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=oy);if(C&&(C=C(t,u))){Od(h,C,r,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&_l(f,"number",f.value)}switch(b=u?$r(u):window,t){case"focusin":(Ku(b)||b.contentEditable==="true")&&(Or=b,Rl=u,Wn=null);break;case"focusout":Wn=Rl=Or=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,rc(h,r,c);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":rc(h,r,c)}var S;if(Oa)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gr?Bd(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(zd&&r.locale!=="ko"&&(Gr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Gr&&(S=Dd()):(Wt=c,za="value"in Wt?Wt.value:Wt.textContent,Gr=!0)),b=Ni(u,k),0<b.length&&(k=new Yu(k,t,null,r,c),h.push({event:k,listeners:b}),S?k.data=S:(S=Gd(r),S!==null&&(k.data=S)))),(S=Zg?Jg(t,r):ey(t,r))&&(u=Ni(u,"onBeforeInput"),0<u.length&&(c=new Yu("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=S))}Zd(h,e)})}function hs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ni(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(t,r),i!=null&&n.unshift(hs(t,i,s)),i=ss(t,e),i!=null&&n.push(hs(t,i,s))),t=t.return}return n}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ic(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=ss(r,i),a!=null&&o.unshift(hs(r,a,l))):s||(a=ss(r,i),a!=null&&o.push(hs(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var py=/\r\n?/g,my=/\u0000|\uFFFD/g;function oc(t){return(typeof t=="string"?t:""+t).replace(py,`
`).replace(my,"")}function Us(t,e,r){if(e=oc(e),oc(t)!==e&&r)throw Error(E(425))}function Ri(){}var Il=null,Fl=null;function Ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(t){return lc.resolve(null).then(t).catch(xy)}:Dl;function xy(t){setTimeout(function(){throw t})}function Fo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ls(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ls(e)}function Zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ac(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mn=Math.random().toString(36).slice(2),bt="__reactFiber$"+mn,ds="__reactProps$"+mn,Lt="__reactContainer$"+mn,zl="__reactEvents$"+mn,vy="__reactListeners$"+mn,_y="__reactHandles$"+mn;function xr(t){var e=t[bt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Lt]||r[bt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ac(t);t!==null;){if(r=t[bt])return r;t=ac(t)}return e}t=r,r=t.parentNode}return null}function Es(t){return t=t[bt]||t[Lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function no(t){return t[ds]||null}var Bl=[],Vr=-1;function ar(t){return{current:t}}function ee(t){0>Vr||(t.current=Bl[Vr],Bl[Vr]=null,Vr--)}function Z(t,e){Vr++,Bl[Vr]=t.current,t.current=e}var sr={},Pe=ar(sr),De=ar(!1),br=sr;function sn(t,e){var r=t.type.contextTypes;if(!r)return sr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ze(t){return t=t.childContextTypes,t!=null}function ji(){ee(De),ee(Pe)}function uc(t,e,r){if(Pe.current!==sr)throw Error(E(168));Z(Pe,e),Z(De,r)}function ef(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,sg(t)||"Unknown",s));return ie({},r,n)}function Ii(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,br=Pe.current,Z(Pe,t),Z(De,De.current),!0}function cc(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=ef(t,e,br),n.__reactInternalMemoizedMergedChildContext=t,ee(De),ee(Pe),Z(Pe,t)):ee(De),Z(De,r)}var Et=null,so=!1,Lo=!1;function tf(t){Et===null?Et=[t]:Et.push(t)}function wy(t){so=!0,tf(t)}function ur(){if(!Lo&&Et!==null){Lo=!0;var t=0,e=H;try{var r=Et;for(H=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Et=null,so=!1}catch(s){throw Et!==null&&(Et=Et.slice(t+1)),Md(Ia,ur),s}finally{H=e,Lo=!1}}return null}var Hr=[],Wr=0,Fi=null,Li=0,Ze=[],Je=0,Cr=null,At=1,Nt="";function dr(t,e){Hr[Wr++]=Li,Hr[Wr++]=Fi,Fi=t,Li=e}function rf(t,e,r){Ze[Je++]=At,Ze[Je++]=Nt,Ze[Je++]=Cr,Cr=t;var n=At;t=Nt;var s=32-pt(n)-1;n&=~(1<<s),r+=1;var i=32-pt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,At=1<<32-pt(e)+s|r<<s|n,Nt=i+t}else At=1<<i|r<<s|n,Nt=t}function $a(t){t.return!==null&&(dr(t,1),rf(t,1,0))}function Va(t){for(;t===Fi;)Fi=Hr[--Wr],Hr[Wr]=null,Li=Hr[--Wr],Hr[Wr]=null;for(;t===Cr;)Cr=Ze[--Je],Ze[Je]=null,Nt=Ze[--Je],Ze[Je]=null,At=Ze[--Je],Ze[Je]=null}var $e=null,Ue=null,te=!1,ft=null;function nf(t,e){var r=et(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Ue=Zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cr!==null?{id:At,overflow:Nt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=et(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Ue=null,!0):!1;default:return!1}}function Gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ol(t){if(te){var e=Ue;if(e){var r=e;if(!hc(t,e)){if(Gl(t))throw Error(E(418));e=Zt(r.nextSibling);var n=$e;e&&hc(t,e)?nf(n,r):(t.flags=t.flags&-4097|2,te=!1,$e=t)}}else{if(Gl(t))throw Error(E(418));t.flags=t.flags&-4097|2,te=!1,$e=t}}}function dc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function $s(t){if(t!==$e)return!1;if(!te)return dc(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ll(t.type,t.memoizedProps)),e&&(e=Ue)){if(Gl(t))throw sf(),Error(E(418));for(;e;)nf(t,e),e=Zt(e.nextSibling)}if(dc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ue=Zt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=$e?Zt(t.stateNode.nextSibling):null;return!0}function sf(){for(var t=Ue;t;)t=Zt(t.nextSibling)}function on(){Ue=$e=null,te=!1}function Ha(t){ft===null?ft=[t]:ft.push(t)}var Sy=Bt.ReactCurrentBatchConfig;function Sn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Vs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fc(t){var e=t._init;return e(t._payload)}function of(t){function e(m,p){if(t){var x=m.deletions;x===null?(m.deletions=[p],m.flags|=16):x.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=rr(m,p),m.index=0,m.sibling=null,m}function i(m,p,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<p?(m.flags|=2,p):x):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,x,w){return p===null||p.tag!==6?(p=$o(x,m.mode,w),p.return=m,p):(p=s(p,x),p.return=m,p)}function a(m,p,x,w){var C=x.type;return C===Br?c(m,p,x.props.children,w,x.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&fc(C)===p.type)?(w=s(p,x.props),w.ref=Sn(m,p,x),w.return=m,w):(w=wi(x.type,x.key,x.props,null,m.mode,w),w.ref=Sn(m,p,x),w.return=m,w)}function u(m,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Vo(x,m.mode,w),p.return=m,p):(p=s(p,x.children||[]),p.return=m,p)}function c(m,p,x,w,C){return p===null||p.tag!==7?(p=Sr(x,m.mode,w,C),p.return=m,p):(p=s(p,x),p.return=m,p)}function h(m,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$o(""+p,m.mode,x),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return x=wi(p.type,p.key,p.props,null,m.mode,x),x.ref=Sn(m,null,p),x.return=m,x;case zr:return p=Vo(p,m.mode,x),p.return=m,p;case Ut:var w=p._init;return h(m,w(p._payload),x)}if(In(p)||yn(p))return p=Sr(p,m.mode,x,null),p.return=m,p;Vs(m,p)}return null}function f(m,p,x,w){var C=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(m,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case js:return x.key===C?a(m,p,x,w):null;case zr:return x.key===C?u(m,p,x,w):null;case Ut:return C=x._init,f(m,p,C(x._payload),w)}if(In(x)||yn(x))return C!==null?null:c(m,p,x,w,null);Vs(m,x)}return null}function d(m,p,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,l(p,m,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case js:return m=m.get(w.key===null?x:w.key)||null,a(p,m,w,C);case zr:return m=m.get(w.key===null?x:w.key)||null,u(p,m,w,C);case Ut:var b=w._init;return d(m,p,x,b(w._payload),C)}if(In(w)||yn(w))return m=m.get(x)||null,c(p,m,w,C,null);Vs(p,w)}return null}function y(m,p,x,w){for(var C=null,b=null,S=p,k=p=0,M=null;S!==null&&k<x.length;k++){S.index>k?(M=S,S=null):M=S.sibling;var P=f(m,S,x[k],w);if(P===null){S===null&&(S=M);break}t&&S&&P.alternate===null&&e(m,S),p=i(P,p,k),b===null?C=P:b.sibling=P,b=P,S=M}if(k===x.length)return r(m,S),te&&dr(m,k),C;if(S===null){for(;k<x.length;k++)S=h(m,x[k],w),S!==null&&(p=i(S,p,k),b===null?C=S:b.sibling=S,b=S);return te&&dr(m,k),C}for(S=n(m,S);k<x.length;k++)M=d(S,m,k,x[k],w),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?k:M.key),p=i(M,p,k),b===null?C=M:b.sibling=M,b=M);return t&&S.forEach(function(T){return e(m,T)}),te&&dr(m,k),C}function _(m,p,x,w){var C=yn(x);if(typeof C!="function")throw Error(E(150));if(x=C.call(x),x==null)throw Error(E(151));for(var b=C=null,S=p,k=p=0,M=null,P=x.next();S!==null&&!P.done;k++,P=x.next()){S.index>k?(M=S,S=null):M=S.sibling;var T=f(m,S,P.value,w);if(T===null){S===null&&(S=M);break}t&&S&&T.alternate===null&&e(m,S),p=i(T,p,k),b===null?C=T:b.sibling=T,b=T,S=M}if(P.done)return r(m,S),te&&dr(m,k),C;if(S===null){for(;!P.done;k++,P=x.next())P=h(m,P.value,w),P!==null&&(p=i(P,p,k),b===null?C=P:b.sibling=P,b=P);return te&&dr(m,k),C}for(S=n(m,S);!P.done;k++,P=x.next())P=d(S,m,k,P.value,w),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?k:P.key),p=i(P,p,k),b===null?C=P:b.sibling=P,b=P);return t&&S.forEach(function(F){return e(m,F)}),te&&dr(m,k),C}function v(m,p,x,w){if(typeof x=="object"&&x!==null&&x.type===Br&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case js:e:{for(var C=x.key,b=p;b!==null;){if(b.key===C){if(C=x.type,C===Br){if(b.tag===7){r(m,b.sibling),p=s(b,x.props.children),p.return=m,m=p;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&fc(C)===b.type){r(m,b.sibling),p=s(b,x.props),p.ref=Sn(m,b,x),p.return=m,m=p;break e}r(m,b);break}else e(m,b);b=b.sibling}x.type===Br?(p=Sr(x.props.children,m.mode,w,x.key),p.return=m,m=p):(w=wi(x.type,x.key,x.props,null,m.mode,w),w.ref=Sn(m,p,x),w.return=m,m=w)}return o(m);case zr:e:{for(b=x.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(m,p.sibling),p=s(p,x.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Vo(x,m.mode,w),p.return=m,m=p}return o(m);case Ut:return b=x._init,v(m,p,b(x._payload),w)}if(In(x))return y(m,p,x,w);if(yn(x))return _(m,p,x,w);Vs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,x),p.return=m,m=p):(r(m,p),p=$o(x,m.mode,w),p.return=m,m=p),o(m)):r(m,p)}return v}var ln=of(!0),lf=of(!1),Di=ar(null),zi=null,Yr=null,Wa=null;function Ya(){Wa=Yr=zi=null}function Xa(t){var e=Di.current;ee(Di),t._currentValue=e}function Ul(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tn(t,e){zi=t,Wa=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(Wa!==t)if(t={context:t,memoizedValue:e,next:null},Yr===null){if(zi===null)throw Error(E(308));Yr=t,zi.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return e}var vr=null;function qa(t){vr===null?vr=[t]:vr.push(t)}function af(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,qa(e)):(r.next=s.next,s.next=r),e.interleaved=r,Dt(t,n)}function Dt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $t=!1;function Qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,O&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Dt(t,r)}return s=n.interleaved,s===null?(e.next=e,qa(n)):(e.next=s.next,s.next=e),n.interleaved=e,Dt(t,r)}function mi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fa(t,r)}}function pc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bi(t,e,r,n){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,d=l.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(f=e,d=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(d,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(d,h,f):y,f==null)break e;h=ie({},h,f);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,a=h):c=c.next=d,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mr|=o,t.lanes=o,t.memoizedState=h}}function mc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var As={},kt=ar(As),fs=ar(As),ps=ar(As);function _r(t){if(t===As)throw Error(E(174));return t}function Ka(t,e){switch(Z(ps,e),Z(fs,t),Z(kt,As),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sl(e,t)}ee(kt),Z(kt,e)}function an(){ee(kt),ee(fs),ee(ps)}function cf(t){_r(ps.current);var e=_r(kt.current),r=Sl(e,t.type);e!==r&&(Z(fs,t),Z(kt,r))}function Za(t){fs.current===t&&(ee(kt),ee(fs))}var re=ar(0);function Gi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=[];function Ja(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var gi=Bt.ReactCurrentDispatcher,zo=Bt.ReactCurrentBatchConfig,kr=0,se=null,de=null,pe=null,Oi=!1,Yn=!1,ms=0,by=0;function Se(){throw Error(E(321))}function eu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gt(t[r],e[r]))return!1;return!0}function tu(t,e,r,n,s,i){if(kr=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gi.current=t===null||t.memoizedState===null?Py:Ty,t=r(n,s),Yn){i=0;do{if(Yn=!1,ms=0,25<=i)throw Error(E(301));i+=1,pe=de=null,e.updateQueue=null,gi.current=Ey,t=r(n,s)}while(Yn)}if(gi.current=Ui,e=de!==null&&de.next!==null,kr=0,pe=de=se=null,Oi=!1,e)throw Error(E(300));return t}function ru(){var t=ms!==0;return ms=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?se.memoizedState=pe=t:pe=pe.next=t,pe}function it(){if(de===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=pe===null?se.memoizedState:pe.next;if(e!==null)pe=e,de=t;else{if(t===null)throw Error(E(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?se.memoizedState=pe=t:pe=pe.next=t}return pe}function gs(t,e){return typeof e=="function"?e(t):e}function Bo(t){var e=it(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=de,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((kr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,se.lanes|=c,Mr|=c}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,gt(n,e.memoizedState)||(Le=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,Mr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Go(t){var e=it(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function hf(){}function df(t,e){var r=se,n=it(),s=e(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,Le=!0),n=n.queue,nu(mf.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,ys(9,pf.bind(null,r,n,s,e),void 0,null),ye===null)throw Error(E(349));kr&30||ff(r,e,s)}return s}function ff(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pf(t,e,r,n){e.value=r,e.getSnapshot=n,gf(e)&&yf(t)}function mf(t,e,r){return r(function(){gf(e)&&yf(t)})}function gf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gt(t,r)}catch{return!0}}function yf(t){var e=Dt(t,1);e!==null&&mt(e,t,1,-1)}function gc(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},e.queue=t,t=t.dispatch=My.bind(null,se,t),[e.memoizedState,t]}function ys(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xf(){return it().memoizedState}function yi(t,e,r,n){var s=St();se.flags|=t,s.memoizedState=ys(1|e,r,void 0,n===void 0?null:n)}function io(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,n!==null&&eu(n,o.deps)){s.memoizedState=ys(e,r,i,n);return}}se.flags|=t,s.memoizedState=ys(1|e,r,i,n)}function yc(t,e){return yi(8390656,8,t,e)}function nu(t,e){return io(2048,8,t,e)}function vf(t,e){return io(4,2,t,e)}function _f(t,e){return io(4,4,t,e)}function wf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sf(t,e,r){return r=r!=null?r.concat([t]):null,io(4,4,wf.bind(null,e,t),r)}function su(){}function bf(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Cf(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kf(t,e,r){return kr&21?(gt(r,e)||(r=Ed(),se.lanes|=r,Mr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=r)}function Cy(t,e){var r=H;H=r!==0&&4>r?r:4,t(!0);var n=zo.transition;zo.transition={};try{t(!1),e()}finally{H=r,zo.transition=n}}function Mf(){return it().memoizedState}function ky(t,e,r){var n=tr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pf(t))Tf(e,r);else if(r=af(t,e,r,n),r!==null){var s=Ae();mt(r,t,n,s),Ef(r,e,n)}}function My(t,e,r){var n=tr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pf(t))Tf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,gt(l,o)){var a=e.interleaved;a===null?(s.next=s,qa(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=af(t,e,s,n),r!==null&&(s=Ae(),mt(r,t,n,s),Ef(r,e,n))}}function Pf(t){var e=t.alternate;return t===se||e!==null&&e===se}function Tf(t,e){Yn=Oi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ef(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fa(t,r)}}var Ui={readContext:st,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Py={readContext:st,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:yc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yi(4194308,4,wf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yi(4194308,4,t,e)},useInsertionEffect:function(t,e){return yi(4,2,t,e)},useMemo:function(t,e){var r=St();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=St();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ky.bind(null,se,t),[n.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:gc,useDebugValue:su,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=gc(!1),e=t[0];return t=Cy.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=se,s=St();if(te){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),ye===null)throw Error(E(349));kr&30||ff(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,yc(mf.bind(null,n,i,t),[t]),n.flags|=2048,ys(9,pf.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=St(),e=ye.identifierPrefix;if(te){var r=Nt,n=At;r=(n&~(1<<32-pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ms++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=by++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ty={readContext:st,useCallback:bf,useContext:st,useEffect:nu,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:_f,useMemo:Cf,useReducer:Bo,useRef:xf,useState:function(){return Bo(gs)},useDebugValue:su,useDeferredValue:function(t){var e=it();return kf(e,de.memoizedState,t)},useTransition:function(){var t=Bo(gs)[0],e=it().memoizedState;return[t,e]},useMutableSource:hf,useSyncExternalStore:df,useId:Mf,unstable_isNewReconciler:!1},Ey={readContext:st,useCallback:bf,useContext:st,useEffect:nu,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:_f,useMemo:Cf,useReducer:Go,useRef:xf,useState:function(){return Go(gs)},useDebugValue:su,useDeferredValue:function(t){var e=it();return de===null?e.memoizedState=t:kf(e,de.memoizedState,t)},useTransition:function(){var t=Go(gs)[0],e=it().memoizedState;return[t,e]},useMutableSource:hf,useSyncExternalStore:df,useId:Mf,unstable_isNewReconciler:!1};function ht(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function $l(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oo={isMounted:function(t){return(t=t._reactInternals)?Ar(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ae(),s=tr(t),i=Rt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(mt(e,t,s,n),mi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ae(),s=tr(t),i=Rt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(mt(e,t,s,n),mi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ae(),n=tr(t),s=Rt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Jt(t,s,n),e!==null&&(mt(e,t,n,r),mi(e,t,n))}};function xc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!us(r,n)||!us(s,i):!0}function Af(t,e,r){var n=!1,s=sr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=ze(e)?br:Pe.current,n=e.contextTypes,i=(n=n!=null)?sn(t,s):sr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&oo.enqueueReplaceState(e,e.state,null)}function Vl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Qa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=ze(e)?br:Pe.current,s.context=sn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($l(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oo.enqueueReplaceState(s,s.state,null),Bi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function un(t,e){try{var r="",n=e;do r+=ng(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Oo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ay=typeof WeakMap=="function"?WeakMap:Map;function Nf(t,e,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vi||(Vi=!0,ta=n),Hl(t,e)},r}function Rf(t,e,r){r=Rt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hl(t,e),typeof n!="function"&&(er===null?er=new Set([this]):er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function _c(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ay;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Vy.bind(null,t,e,r),e.then(t,t))}function wc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Rt(-1,1),e.tag=2,Jt(r,e,1))),r.lanes|=1),t)}var Ny=Bt.ReactCurrentOwner,Le=!1;function Te(t,e,r,n){e.child=t===null?lf(e,null,r,n):ln(e,t.child,r,n)}function bc(t,e,r,n,s){r=r.render;var i=e.ref;return tn(e,s),n=tu(t,e,r,n,i,s),r=ru(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zt(t,e,s)):(te&&r&&$a(e),e.flags|=1,Te(t,e,n,s),e.child)}function Cc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!du(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,jf(t,e,i,n,s)):(t=wi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(o,n)&&t.ref===e.ref)return zt(t,e,s)}return e.flags|=1,t=rr(i,n),t.ref=e.ref,t.return=e,e.child=t}function jf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(us(i,n)&&t.ref===e.ref)if(Le=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,zt(t,e,s)}return Wl(t,e,r,n,s)}function If(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(qr,Oe),Oe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(qr,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(qr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Z(qr,Oe),Oe|=n;return Te(t,e,s,r),e.child}function Ff(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wl(t,e,r,n,s){var i=ze(r)?br:Pe.current;return i=sn(e,i),tn(e,s),r=tu(t,e,r,n,i,s),n=ru(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zt(t,e,s)):(te&&n&&$a(e),e.flags|=1,Te(t,e,r,s),e.child)}function kc(t,e,r,n,s){if(ze(r)){var i=!0;Ii(e)}else i=!1;if(tn(e,s),e.stateNode===null)xi(t,e),Af(e,r,n),Vl(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=ze(r)?br:Pe.current,u=sn(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&vc(e,o,n,u),$t=!1;var f=e.memoizedState;o.state=f,Bi(e,n,o,s),a=e.memoizedState,l!==n||f!==a||De.current||$t?(typeof c=="function"&&($l(e,r,c,n),a=e.memoizedState),(l=$t||xc(e,r,l,n,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,uf(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ht(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=st(a):(a=ze(r)?br:Pe.current,a=sn(e,a));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&vc(e,o,n,a),$t=!1,f=e.memoizedState,o.state=f,Bi(e,n,o,s);var y=e.memoizedState;l!==h||f!==y||De.current||$t?(typeof d=="function"&&($l(e,r,d,n),y=e.memoizedState),(u=$t||xc(e,r,u,n,f,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Yl(t,e,r,n,i,s)}function Yl(t,e,r,n,s,i){Ff(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&cc(e,r,!1),zt(t,e,i);n=e.stateNode,Ny.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ln(e,t.child,null,i),e.child=ln(e,null,l,i)):Te(t,e,l,i),e.memoizedState=n.state,s&&cc(e,r,!0),e.child}function Lf(t){var e=t.stateNode;e.pendingContext?uc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uc(t,e.context,!1),Ka(t,e.containerInfo)}function Mc(t,e,r,n,s){return on(),Ha(s),e.flags|=256,Te(t,e,r,n),e.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function ql(t){return{baseLanes:t,cachePool:null,transitions:null}}function Df(t,e,r){var n=e.pendingProps,s=re.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(re,s&1),t===null)return Ol(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uo(o,n,0,null),t=Sr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ql(r),e.memoizedState=Xl,t):iu(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ry(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=rr(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=rr(l,i):(i=Sr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ql(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Xl,n}return i=t.child,t=i.sibling,n=rr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function iu(t,e){return e=uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hs(t,e,r,n){return n!==null&&Ha(n),ln(e,t.child,null,r),t=iu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ry(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Oo(Error(E(422))),Hs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=uo({mode:"visible",children:n.children},s,0,null),i=Sr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ln(e,t.child,null,o),e.child.memoizedState=ql(o),e.memoizedState=Xl,i);if(!(e.mode&1))return Hs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=Oo(i,n,void 0),Hs(t,e,o,n)}if(l=(o&t.childLanes)!==0,Le||l){if(n=ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(t,s),mt(n,t,s,-1))}return hu(),n=Oo(Error(E(421))),Hs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ue=Zt(s.nextSibling),$e=e,te=!0,ft=null,t!==null&&(Ze[Je++]=At,Ze[Je++]=Nt,Ze[Je++]=Cr,At=t.id,Nt=t.overflow,Cr=e),e=iu(e,n.children),e.flags|=4096,e)}function Pc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ul(t.return,e,r)}function Uo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function zf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Te(t,e,n.children,r),n=re.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pc(t,r,e);else if(t.tag===19)Pc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Z(re,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Gi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Uo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Uo(e,!0,r,null,i);break;case"together":Uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=rr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jy(t,e,r){switch(e.tag){case 3:Lf(e),on();break;case 5:cf(e);break;case 1:ze(e.type)&&Ii(e);break;case 4:Ka(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Z(Di,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Z(re,re.current&1),e.flags|=128,null):r&e.child.childLanes?Df(t,e,r):(Z(re,re.current&1),t=zt(t,e,r),t!==null?t.sibling:null);Z(re,re.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(re,re.current),n)break;return null;case 22:case 23:return e.lanes=0,If(t,e,r)}return zt(t,e,r)}var Bf,Ql,Gf,Of;Bf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ql=function(){};Gf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_r(kt.current);var i=null;switch(r){case"input":s=xl(t,s),n=xl(t,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=wl(t,s),n=wl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ri)}bl(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Of=function(t,e,r,n){r!==n&&(e.flags|=4)};function bn(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Iy(t,e,r){var n=e.pendingProps;switch(Va(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return ze(e.type)&&ji(),be(e),null;case 3:return n=e.stateNode,an(),ee(De),ee(Pe),Ja(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(sa(ft),ft=null))),Ql(t,e),be(e),null;case 5:Za(e);var s=_r(ps.current);if(r=e.type,t!==null&&e.stateNode!=null)Gf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return be(e),null}if(t=_r(kt.current),$s(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[bt]=e,n[ds]=i,t=(e.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<Ln.length;s++)J(Ln[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":Lu(n,i),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},J("invalid",n);break;case"textarea":zu(n,i),J("invalid",n)}bl(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Us(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Us(n.textContent,l,t),s=["children",""+l]):rs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",n)}switch(r){case"input":Is(n),Du(n,i,!0);break;case"textarea":Is(n),Bu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ri)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[bt]=e,t[ds]=n,Bf(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cl(r,n),r){case"dialog":J("cancel",t),J("close",t),s=n;break;case"iframe":case"object":case"embed":J("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ln.length;s++)J(Ln[s],t);s=n;break;case"source":J("error",t),s=n;break;case"img":case"image":case"link":J("error",t),J("load",t),s=n;break;case"details":J("toggle",t),s=n;break;case"input":Lu(t,n),s=xl(t,n),J("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),J("invalid",t);break;case"textarea":zu(t,n),s=wl(t,n),J("invalid",t);break;default:s=n}bl(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?yd(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&md(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&ns(t,a):typeof a=="number"&&ns(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&J("scroll",t):a!=null&&Ea(t,i,a,o))}switch(r){case"input":Is(t),Du(t,n,!1);break;case"textarea":Is(t),Bu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+nr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Kr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Kr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ri)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Of(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=_r(ps.current),_r(kt.current),$s(e)){if(n=e.stateNode,r=e.memoizedProps,n[bt]=e,(i=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:Us(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Us(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bt]=e,e.stateNode=n}return be(e),null;case 13:if(ee(re),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Ue!==null&&e.mode&1&&!(e.flags&128))sf(),on(),e.flags|=98560,i=!1;else if(i=$s(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[bt]=e}else on(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else ft!==null&&(sa(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):hu())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return an(),Ql(t,e),t===null&&cs(e.stateNode.containerInfo),be(e),null;case 10:return Xa(e.type._context),be(e),null;case 17:return ze(e.type)&&ji(),be(e),null;case 19:if(ee(re),i=e.memoizedState,i===null)return be(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)bn(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gi(t),o!==null){for(e.flags|=128,bn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Z(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>cn&&(e.flags|=128,n=!0,bn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Gi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return be(e),null}else 2*ae()-i.renderingStartTime>cn&&r!==1073741824&&(e.flags|=128,n=!0,bn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=re.current,Z(re,n?r&1|2:r&1),e):(be(e),null);case 22:case 23:return cu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Oe&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Fy(t,e){switch(Va(e),e.tag){case 1:return ze(e.type)&&ji(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return an(),ee(De),ee(Pe),Ja(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Za(e),null;case 13:if(ee(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));on()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(re),null;case 4:return an(),null;case 10:return Xa(e.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var Ws=!1,ke=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,I=null;function Xr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){le(t,e,n)}else r.current=null}function Kl(t,e,r){try{r()}catch(n){le(t,e,n)}}var Tc=!1;function Dy(t,e){if(Il=Ei,t=Hd(),Ua(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++c===n&&(a=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fl={focusedElem:t,selectionRange:r},Ei=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,v=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:ht(e.type,_),v);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){le(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return y=Tc,Tc=!1,y}function Xn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kl(e,r,i)}s=s.next}while(s!==n)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Zl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Uf(t){var e=t.alternate;e!==null&&(t.alternate=null,Uf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[ds],delete e[zl],delete e[vy],delete e[_y])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $f(t){return t.tag===5||t.tag===3||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$f(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ri));else if(n!==4&&(t=t.child,t!==null))for(Jl(t,e,r),t=t.sibling;t!==null;)Jl(t,e,r),t=t.sibling}function ea(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ea(t,e,r),t=t.sibling;t!==null;)ea(t,e,r),t=t.sibling}var ve=null,dt=!1;function Ot(t,e,r){for(r=r.child;r!==null;)Vf(t,e,r),r=r.sibling}function Vf(t,e,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ji,r)}catch{}switch(r.tag){case 5:ke||Xr(r,e);case 6:var n=ve,s=dt;ve=null,Ot(t,e,r),ve=n,dt=s,ve!==null&&(dt?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(dt?(t=ve,r=r.stateNode,t.nodeType===8?Fo(t.parentNode,r):t.nodeType===1&&Fo(t,r),ls(t)):Fo(ve,r.stateNode));break;case 4:n=ve,s=dt,ve=r.stateNode.containerInfo,dt=!0,Ot(t,e,r),ve=n,dt=s;break;case 0:case 11:case 14:case 15:if(!ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kl(r,e,o),s=s.next}while(s!==n)}Ot(t,e,r);break;case 1:if(!ke&&(Xr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){le(r,e,l)}Ot(t,e,r);break;case 21:Ot(t,e,r);break;case 22:r.mode&1?(ke=(n=ke)||r.memoizedState!==null,Ot(t,e,r),ke=n):Ot(t,e,r);break;default:Ot(t,e,r)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ly),e.forEach(function(n){var s=Wy.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ut(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,dt=!1;break e;case 3:ve=l.stateNode.containerInfo,dt=!0;break e;case 4:ve=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(ve===null)throw Error(E(160));Vf(i,o,s),ve=null,dt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){le(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hf(e,t),e=e.sibling}function Hf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ut(e,t),vt(t),n&4){try{Xn(3,t,t.return),lo(3,t)}catch(_){le(t,t.return,_)}try{Xn(5,t,t.return)}catch(_){le(t,t.return,_)}}break;case 1:ut(e,t),vt(t),n&512&&r!==null&&Xr(r,r.return);break;case 5:if(ut(e,t),vt(t),n&512&&r!==null&&Xr(r,r.return),t.flags&32){var s=t.stateNode;try{ns(s,"")}catch(_){le(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dd(s,i),Cl(l,o);var u=Cl(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?yd(s,h):c==="dangerouslySetInnerHTML"?md(s,h):c==="children"?ns(s,h):Ea(s,c,h,u)}switch(l){case"input":vl(s,i);break;case"textarea":fd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?Kr(s,!!i.multiple,d,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kr(s,!!i.multiple,i.defaultValue,!0):Kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ds]=i}catch(_){le(t,t.return,_)}}break;case 6:if(ut(e,t),vt(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){le(t,t.return,_)}}break;case 3:if(ut(e,t),vt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(_){le(t,t.return,_)}break;case 4:ut(e,t),vt(t);break;case 13:ut(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(au=ae())),n&4&&Ac(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ke=(u=ke)||c,ut(e,t),ke=u):ut(e,t),vt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(h=I=c;I!==null;){switch(f=I,d=f.child,f.tag){case 0:case 11:case 14:case 15:Xn(4,f,f.return);break;case 1:Xr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){le(n,r,_)}}break;case 5:Xr(f,f.return);break;case 22:if(f.memoizedState!==null){Rc(h);continue}}d!==null?(d.return=f,I=d):Rc(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=gd("display",o))}catch(_){le(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){le(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ut(e,t),vt(t),n&4&&Ac(t);break;case 21:break;default:ut(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($f(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ns(s,""),n.flags&=-33);var i=Ec(t);ea(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ec(t);Jl(t,l,o);break;default:throw Error(E(161))}}catch(a){le(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zy(t,e,r){I=t,Wf(t)}function Wf(t,e,r){for(var n=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ws;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ke;l=Ws;var u=ke;if(Ws=o,(ke=a)&&!u)for(I=s;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?jc(s):a!==null?(a.return=o,I=a):jc(s);for(;i!==null;)I=i,Wf(i),i=i.sibling;I=s,Ws=l,ke=u}Nc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Nc(t)}}function Nc(t){for(;I!==null;){var e=I;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||lo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ke)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ht(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mc(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ke||e.flags&512&&Zl(e)}catch(f){le(e,e.return,f)}}if(e===t){I=null;break}if(r=e.sibling,r!==null){r.return=e.return,I=r;break}I=e.return}}function Rc(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var r=e.sibling;if(r!==null){r.return=e.return,I=r;break}I=e.return}}function jc(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lo(4,e)}catch(a){le(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){le(e,s,a)}}var i=e.return;try{Zl(e)}catch(a){le(e,i,a)}break;case 5:var o=e.return;try{Zl(e)}catch(a){le(e,o,a)}}}catch(a){le(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var By=Math.ceil,$i=Bt.ReactCurrentDispatcher,ou=Bt.ReactCurrentOwner,rt=Bt.ReactCurrentBatchConfig,O=0,ye=null,ce=null,_e=0,Oe=0,qr=ar(0),fe=0,xs=null,Mr=0,ao=0,lu=0,qn=null,Ie=null,au=0,cn=1/0,Tt=null,Vi=!1,ta=null,er=null,Ys=!1,Yt=null,Hi=0,Qn=0,ra=null,vi=-1,_i=0;function Ae(){return O&6?ae():vi!==-1?vi:vi=ae()}function tr(t){return t.mode&1?O&2&&_e!==0?_e&-_e:Sy.transition!==null?(_i===0&&(_i=Ed()),_i):(t=H,t!==0||(t=window.event,t=t===void 0?16:Ld(t.type)),t):1}function mt(t,e,r,n){if(50<Qn)throw Qn=0,ra=null,Error(E(185));Ps(t,r,n),(!(O&2)||t!==ye)&&(t===ye&&(!(O&2)&&(ao|=r),fe===4&&Ht(t,_e)),Be(t,n),r===1&&O===0&&!(e.mode&1)&&(cn=ae()+500,so&&ur()))}function Be(t,e){var r=t.callbackNode;Sg(t,e);var n=Ti(t,t===ye?_e:0);if(n===0)r!==null&&Uu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Uu(r),e===1)t.tag===0?wy(Ic.bind(null,t)):tf(Ic.bind(null,t)),yy(function(){!(O&6)&&ur()}),r=null;else{switch(Ad(n)){case 1:r=Ia;break;case 4:r=Pd;break;case 16:r=Pi;break;case 536870912:r=Td;break;default:r=Pi}r=ep(r,Yf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Yf(t,e){if(vi=-1,_i=0,O&6)throw Error(E(327));var r=t.callbackNode;if(rn()&&t.callbackNode!==r)return null;var n=Ti(t,t===ye?_e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wi(t,n);else{e=n;var s=O;O|=2;var i=qf();(ye!==t||_e!==e)&&(Tt=null,cn=ae()+500,wr(t,e));do try{Uy();break}catch(l){Xf(t,l)}while(!0);Ya(),$i.current=i,O=s,ce!==null?e=0:(ye=null,_e=0,e=fe)}if(e!==0){if(e===2&&(s=El(t),s!==0&&(n=s,e=na(t,s))),e===1)throw r=xs,wr(t,0),Ht(t,n),Be(t,ae()),r;if(e===6)Ht(t,n);else{if(s=t.current.alternate,!(n&30)&&!Gy(s)&&(e=Wi(t,n),e===2&&(i=El(t),i!==0&&(n=i,e=na(t,i))),e===1))throw r=xs,wr(t,0),Ht(t,n),Be(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:fr(t,Ie,Tt);break;case 3:if(Ht(t,n),(n&130023424)===n&&(e=au+500-ae(),10<e)){if(Ti(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dl(fr.bind(null,t,Ie,Tt),e);break}fr(t,Ie,Tt);break;case 4:if(Ht(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-pt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*By(n/1960))-n,10<n){t.timeoutHandle=Dl(fr.bind(null,t,Ie,Tt),n);break}fr(t,Ie,Tt);break;case 5:fr(t,Ie,Tt);break;default:throw Error(E(329))}}}return Be(t,ae()),t.callbackNode===r?Yf.bind(null,t):null}function na(t,e){var r=qn;return t.current.memoizedState.isDehydrated&&(wr(t,e).flags|=256),t=Wi(t,e),t!==2&&(e=Ie,Ie=r,e!==null&&sa(e)),t}function sa(t){Ie===null?Ie=t:Ie.push.apply(Ie,t)}function Gy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ht(t,e){for(e&=~lu,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pt(e),n=1<<r;t[r]=-1,e&=~n}}function Ic(t){if(O&6)throw Error(E(327));rn();var e=Ti(t,0);if(!(e&1))return Be(t,ae()),null;var r=Wi(t,e);if(t.tag!==0&&r===2){var n=El(t);n!==0&&(e=n,r=na(t,n))}if(r===1)throw r=xs,wr(t,0),Ht(t,e),Be(t,ae()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fr(t,Ie,Tt),Be(t,ae()),null}function uu(t,e){var r=O;O|=1;try{return t(e)}finally{O=r,O===0&&(cn=ae()+500,so&&ur())}}function Pr(t){Yt!==null&&Yt.tag===0&&!(O&6)&&rn();var e=O;O|=1;var r=rt.transition,n=H;try{if(rt.transition=null,H=1,t)return t()}finally{H=n,rt.transition=r,O=e,!(O&6)&&ur()}}function cu(){Oe=qr.current,ee(qr)}function wr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gy(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Va(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:an(),ee(De),ee(Pe),Ja();break;case 5:Za(n);break;case 4:an();break;case 13:ee(re);break;case 19:ee(re);break;case 10:Xa(n.type._context);break;case 22:case 23:cu()}r=r.return}if(ye=t,ce=t=rr(t.current,null),_e=Oe=e,fe=0,xs=null,lu=ao=Mr=0,Ie=qn=null,vr!==null){for(e=0;e<vr.length;e++)if(r=vr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}vr=null}return t}function Xf(t,e){do{var r=ce;try{if(Ya(),gi.current=Ui,Oi){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Oi=!1}if(kr=0,pe=de=se=null,Yn=!1,ms=0,ou.current=null,r===null||r.return===null){fe=1,xs=e,ce=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=wc(o);if(d!==null){d.flags&=-257,Sc(d,o,l,i,e),d.mode&1&&_c(i,u,e),e=d,a=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(a),e.updateQueue=_}else y.add(a);break e}else{if(!(e&1)){_c(i,u,e),hu();break e}a=Error(E(426))}}else if(te&&l.mode&1){var v=wc(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sc(v,o,l,i,e),Ha(un(a,l));break e}}i=a=un(a,l),fe!==4&&(fe=2),qn===null?qn=[i]:qn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Nf(i,a,e);pc(i,m);break e;case 1:l=a;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(er===null||!er.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Rf(i,l,e);pc(i,w);break e}}i=i.return}while(i!==null)}Kf(r)}catch(C){e=C,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function qf(){var t=$i.current;return $i.current=Ui,t===null?Ui:t}function hu(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(Mr&268435455)&&!(ao&268435455)||Ht(ye,_e)}function Wi(t,e){var r=O;O|=2;var n=qf();(ye!==t||_e!==e)&&(Tt=null,wr(t,e));do try{Oy();break}catch(s){Xf(t,s)}while(!0);if(Ya(),O=r,$i.current=n,ce!==null)throw Error(E(261));return ye=null,_e=0,fe}function Oy(){for(;ce!==null;)Qf(ce)}function Uy(){for(;ce!==null&&!fg();)Qf(ce)}function Qf(t){var e=Jf(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Kf(t):ce=e,ou.current=null}function Kf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Fy(r,e),r!==null){r.flags&=32767,ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(r=Iy(r,e,Oe),r!==null){ce=r;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function fr(t,e,r){var n=H,s=rt.transition;try{rt.transition=null,H=1,$y(t,e,r,n)}finally{rt.transition=s,H=n}return null}function $y(t,e,r,n){do rn();while(Yt!==null);if(O&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bg(t,i),t===ye&&(ce=ye=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ys||(Ys=!0,ep(Pi,function(){return rn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var o=H;H=1;var l=O;O|=4,ou.current=null,Dy(t,r),Hf(r,t),uy(Fl),Ei=!!Il,Fl=Il=null,t.current=r,zy(r),pg(),O=l,H=o,rt.transition=i}else t.current=r;if(Ys&&(Ys=!1,Yt=t,Hi=s),i=t.pendingLanes,i===0&&(er=null),yg(r.stateNode),Be(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vi)throw Vi=!1,t=ta,ta=null,t;return Hi&1&&t.tag!==0&&rn(),i=t.pendingLanes,i&1?t===ra?Qn++:(Qn=0,ra=t):Qn=0,ur(),null}function rn(){if(Yt!==null){var t=Ad(Hi),e=rt.transition,r=H;try{if(rt.transition=null,H=16>t?16:t,Yt===null)var n=!1;else{if(t=Yt,Yt=null,Hi=0,O&6)throw Error(E(331));var s=O;for(O|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Xn(8,c,i)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var f=c.sibling,d=c.return;if(Uf(c),c===u){I=null;break}if(f!==null){f.return=d,I=f;break}I=d}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,I=m;break e}I=i.return}}var p=t.current;for(I=p;I!==null;){o=I;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,I=x;else e:for(o=p;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lo(9,l)}}catch(C){le(l,l.return,C)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(O=s,ur(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ji,t)}catch{}n=!0}return n}finally{H=r,rt.transition=e}}return!1}function Fc(t,e,r){e=un(r,e),e=Nf(t,e,1),t=Jt(t,e,1),e=Ae(),t!==null&&(Ps(t,1,e),Be(t,e))}function le(t,e,r){if(t.tag===3)Fc(t,t,r);else for(;e!==null;){if(e.tag===3){Fc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(er===null||!er.has(n))){t=un(r,t),t=Rf(e,t,1),e=Jt(e,t,1),t=Ae(),e!==null&&(Ps(e,1,t),Be(e,t));break}}e=e.return}}function Vy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&r,ye===t&&(_e&r)===r&&(fe===4||fe===3&&(_e&130023424)===_e&&500>ae()-au?wr(t,0):lu|=r),Be(t,e)}function Zf(t,e){e===0&&(t.mode&1?(e=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):e=1);var r=Ae();t=Dt(t,e),t!==null&&(Ps(t,e,r),Be(t,r))}function Hy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zf(t,r)}function Wy(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Zf(t,r)}var Jf;Jf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)Le=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Le=!1,jy(t,e,r);Le=!!(t.flags&131072)}else Le=!1,te&&e.flags&1048576&&rf(e,Li,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xi(t,e),t=e.pendingProps;var s=sn(e,Pe.current);tn(e,r),s=tu(null,e,n,t,s,r);var i=ru();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(n)?(i=!0,Ii(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qa(e),s.updater=oo,e.stateNode=s,s._reactInternals=e,Vl(e,n,t,r),e=Yl(null,e,n,!0,i,r)):(e.tag=0,te&&i&&$a(e),Te(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Xy(n),t=ht(n,t),s){case 0:e=Wl(null,e,n,t,r);break e;case 1:e=kc(null,e,n,t,r);break e;case 11:e=bc(null,e,n,t,r);break e;case 14:e=Cc(null,e,n,ht(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),Wl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),kc(t,e,n,s,r);case 3:e:{if(Lf(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,uf(t,e),Bi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=un(Error(E(423)),e),e=Mc(t,e,n,r,s);break e}else if(n!==s){s=un(Error(E(424)),e),e=Mc(t,e,n,r,s);break e}else for(Ue=Zt(e.stateNode.containerInfo.firstChild),$e=e,te=!0,ft=null,r=lf(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(on(),n===s){e=zt(t,e,r);break e}Te(t,e,n,r)}e=e.child}return e;case 5:return cf(e),t===null&&Ol(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ll(n,s)?o=null:i!==null&&Ll(n,i)&&(e.flags|=32),Ff(t,e),Te(t,e,o,r),e.child;case 6:return t===null&&Ol(e),null;case 13:return Df(t,e,r);case 4:return Ka(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ln(e,null,n,r):Te(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),bc(t,e,n,s,r);case 7:return Te(t,e,e.pendingProps,r),e.child;case 8:return Te(t,e,e.pendingProps.children,r),e.child;case 12:return Te(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(Di,n._currentValue),n._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!De.current){e=zt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=Rt(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ul(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ul(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,tn(e,r),s=st(s),n=n(s),e.flags|=1,Te(t,e,n,r),e.child;case 14:return n=e.type,s=ht(n,e.pendingProps),s=ht(n.type,s),Cc(t,e,n,s,r);case 15:return jf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),xi(t,e),e.tag=1,ze(n)?(t=!0,Ii(e)):t=!1,tn(e,r),Af(e,n,s),Vl(e,n,s,r),Yl(null,e,n,!0,t,r);case 19:return zf(t,e,r);case 22:return If(t,e,r)}throw Error(E(156,e.tag))};function ep(t,e){return Md(t,e)}function Yy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,r,n){return new Yy(t,e,r,n)}function du(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xy(t){if(typeof t=="function")return du(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Na)return 11;if(t===Ra)return 14}return 2}function rr(t,e){var r=t.alternate;return r===null?(r=et(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")du(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Br:return Sr(r.children,s,i,e);case Aa:o=8,s|=8;break;case pl:return t=et(12,r,e,s|2),t.elementType=pl,t.lanes=i,t;case ml:return t=et(13,r,e,s),t.elementType=ml,t.lanes=i,t;case gl:return t=et(19,r,e,s),t.elementType=gl,t.lanes=i,t;case ud:return uo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ld:o=10;break e;case ad:o=9;break e;case Na:o=11;break e;case Ra:o=14;break e;case Ut:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=et(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Sr(t,e,r,n){return t=et(7,t,n,e),t.lanes=r,t}function uo(t,e,r,n){return t=et(22,t,n,e),t.elementType=ud,t.lanes=r,t.stateNode={isHidden:!1},t}function $o(t,e,r){return t=et(6,t,null,e),t.lanes=r,t}function Vo(t,e,r){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qy(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fu(t,e,r,n,s,i,o,l,a){return t=new qy(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=et(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(i),t}function Qy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tp(t){if(!t)return sr;t=t._reactInternals;e:{if(Ar(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(ze(r))return ef(t,r,e)}return e}function rp(t,e,r,n,s,i,o,l,a){return t=fu(r,n,!0,t,s,i,o,l,a),t.context=tp(null),r=t.current,n=Ae(),s=tr(r),i=Rt(n,s),i.callback=e??null,Jt(r,i,s),t.current.lanes=s,Ps(t,s,n),Be(t,n),t}function co(t,e,r,n){var s=e.current,i=Ae(),o=tr(s);return r=tp(r),e.context===null?e.context=r:e.pendingContext=r,e=Rt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jt(s,e,o),t!==null&&(mt(t,s,o,i),mi(t,s,o)),o}function Yi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pu(t,e){Lc(t,e),(t=t.alternate)&&Lc(t,e)}function Ky(){return null}var np=typeof reportError=="function"?reportError:function(t){console.error(t)};function mu(t){this._internalRoot=t}ho.prototype.render=mu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));co(t,e,null,null)};ho.prototype.unmount=mu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){co(null,t,null,null)}),e[Lt]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var e=jd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vt.length&&e!==0&&e<Vt[r].priority;r++);Vt.splice(r,0,t),r===0&&Fd(t)}};function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dc(){}function Zy(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Yi(o);i.call(u)}}var o=rp(e,n,t,0,null,!1,!1,"",Dc);return t._reactRootContainer=o,t[Lt]=o.current,cs(t.nodeType===8?t.parentNode:t),Pr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Yi(a);l.call(u)}}var a=fu(t,0,!1,null,null,!1,!1,"",Dc);return t._reactRootContainer=a,t[Lt]=a.current,cs(t.nodeType===8?t.parentNode:t),Pr(function(){co(e,a,r,n)}),a}function po(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Yi(o);l.call(a)}}co(e,o,t,s)}else o=Zy(r,e,t,s,n);return Yi(o)}Nd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fn(e.pendingLanes);r!==0&&(Fa(e,r|1),Be(e,ae()),!(O&6)&&(cn=ae()+500,ur()))}break;case 13:Pr(function(){var n=Dt(t,1);if(n!==null){var s=Ae();mt(n,t,1,s)}}),pu(t,1)}};La=function(t){if(t.tag===13){var e=Dt(t,134217728);if(e!==null){var r=Ae();mt(e,t,134217728,r)}pu(t,134217728)}};Rd=function(t){if(t.tag===13){var e=tr(t),r=Dt(t,e);if(r!==null){var n=Ae();mt(r,t,e,n)}pu(t,e)}};jd=function(){return H};Id=function(t,e){var r=H;try{return H=t,e()}finally{H=r}};Ml=function(t,e,r){switch(e){case"input":if(vl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=no(n);if(!s)throw Error(E(90));hd(n),vl(n,s)}}}break;case"textarea":fd(t,r);break;case"select":e=r.value,e!=null&&Kr(t,!!r.multiple,e,!1)}};_d=uu;wd=Pr;var Jy={usingClientEntryPoint:!1,Events:[Es,$r,no,xd,vd,uu]},Cn={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e0={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cd(t),t===null?null:t.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Ji=Xs.inject(e0),Ct=Xs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(e))throw Error(E(200));return Qy(t,e,null,r)};We.createRoot=function(t,e){if(!gu(t))throw Error(E(299));var r=!1,n="",s=np;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fu(t,1,!1,null,null,r,!1,n,s),t[Lt]=e.current,cs(t.nodeType===8?t.parentNode:t),new mu(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Cd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return Pr(t)};We.hydrate=function(t,e,r){if(!fo(e))throw Error(E(200));return po(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!gu(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=np;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=rp(e,null,t,1,r??null,s,!1,i,o),t[Lt]=e.current,cs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ho(e)};We.render=function(t,e,r){if(!fo(e))throw Error(E(200));return po(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!fo(t))throw Error(E(40));return t._reactRootContainer?(Pr(function(){po(null,null,t,!1,function(){t._reactRootContainer=null,t[Lt]=null})}),!0):!1};We.unstable_batchedUpdates=uu;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fo(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return po(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sp)}catch(t){console.error(t)}}sp(),nd.exports=We;var t0=nd.exports,zc=t0;dl.createRoot=zc.createRoot,dl.hydrateRoot=zc.hydrateRoot;const r0=({onStart:t})=>g.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4 flex items-center justify-center",children:g.jsxs("div",{className:"max-w-2xl bg-gray-800 rounded-lg p-8 border-2 border-amber-600 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h1",{className:"text-4xl font-bold text-amber-400 mb-2",children:"Colony Charter"}),g.jsx("div",{className:"text-sm text-gray-400",children:"By Order of His Majesty's Crown"})]}),g.jsxs("div",{className:"bg-gray-900 p-6 rounded border border-gray-700 mb-6 text-gray-300 leading-relaxed space-y-4",children:[g.jsx("p",{className:"text-amber-300 font-semibold",children:"To the Bearer of this Charter:"}),g.jsx("p",{children:"By royal decree, you are hereby granted stewardship over a colony in the New World. The Crown, in its wisdom and generosity, has provided you with the following provisions:"}),g.jsxs("ul",{className:"list-none space-y-2 ml-4",children:[g.jsxs("li",{children:[" ",g.jsx("span",{className:"text-amber-200",children:"Fifty souls"}),", brave and hardy, willing to carve civilization from wilderness"]}),g.jsxs("li",{children:[" ",g.jsx("span",{className:"text-amber-200",children:"One hundred rations"}),", preserved meats and hardtack for your first days"]}),g.jsxs("li",{children:[""," ",g.jsx("span",{className:"text-amber-200",children:"Fifty sticks and twenty logs"}),", for shelter and warmth"]}),g.jsxs("li",{children:[""," ",g.jsx("span",{className:"text-amber-200",children:"Thirty rocks and ten stones"}),", foundation for your future"]}),g.jsxs("li",{children:[" ",g.jsx("span",{className:"text-amber-200",children:"Five iron tools"}),", axes and implements for labor"]}),g.jsxs("li",{children:[" ",g.jsx("span",{className:"text-amber-200",children:"Twenty sacks of grain"}),", saved for future planting"]})]}),g.jsxs("p",{children:["You arrive in ",g.jsx("span",{className:"text-amber-200",children:"mid-Spring"}),", when the earth softens and game is plentiful. Your gatherers can forage berries and collect materials, while hunters pursue game in the forests. Use your time wisely, for winter comes swiftly in these lands."]}),g.jsx("p",{className:"text-gray-400 italic text-sm",children:"The Crown expects regular tithes and tribute. Failure to maintain the colony reflects poorly upon your house. Success, however, brings glory and advancement."}),g.jsx("p",{className:"text-amber-300 font-semibold",children:"May fortune favor the bold."})]}),g.jsx("div",{className:"text-center",children:g.jsx("button",{onClick:t,className:"px-8 py-3 bg-amber-600 hover:bg-amber-500 text-white font-semibold rounded-lg text-lg transition-colors shadow-lg",children:"Begin Your Venture"})}),g.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:"Difficulty and scenario options coming soon..."})]})}),Kn={paused:0,slow:2e3,normal:1e3,fast:500,veryFast:250},yu=t=>Math.floor(t.rations*1+t.berries*.3+t.smallGame*.8+t.largeGame*2+t.grain*.5),n0=t=>t.sticks,s0=t=>t.grain+t.logs+t.rocks+t.stone,i0=({state:t,timeSpeed:e,gameStarted:r,chronicle:n,mapTiles:s,colonyLocation:i,onClose:o,regenerateMap:l,currentSeed:a})=>{var w;const u=$.useRef(null);let c=0,h=0,f=0,d=0,y=0;s.forEach(C=>{C.terrain==="water"&&c++,C.terrain==="field"&&h++,C.terrain==="forest"&&f++,C.terrain==="mountain"&&d++,C.revealed&&y++});const _=s.size,v={total:_,revealed:y,water:{count:c,pct:(c/_*100).toFixed(1)},field:{count:h,pct:(h/_*100).toFixed(1)},forest:{count:f,pct:(f/_*100).toFixed(1)},mountain:{count:d,pct:(d/_*100).toFixed(1)}};let m=0,p=0,x=0;return s.forEach(C=>{C.revealed&&(C.terrain==="field"&&m++,C.terrain==="forest"&&p++,C.terrain==="mountain"&&x++)}),g.jsxs("div",{className:"fixed top-4 right-4 bg-black/90 border border-amber-600 rounded-lg p-4 text-xs font-mono max-w-sm z-50",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-700",children:[g.jsx("h3",{className:"text-amber-400 font-bold",children:"DEBUG MODE"}),g.jsx("button",{onClick:o,className:"text-red-400 hover:text-red-300 font-bold",children:""})]}),g.jsxs("div",{ref:u,className:"space-y-3 max-h-96 overflow-y-auto",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Game State"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Day: ",t.day," (",t.season,")"]}),g.jsxs("div",{children:["Time Speed: ",e," (",Kn[e],"ms)"]}),g.jsxs("div",{children:["Game Started: ",r?"Yes":"No"]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Food Resources"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Rations: ",t.rations]}),g.jsxs("div",{children:["Berries: ",t.berries]}),g.jsxs("div",{children:["Small Game: ",t.smallGame]}),g.jsxs("div",{children:["Large Game: ",t.largeGame]}),g.jsxs("div",{children:["Grain: ",t.grain]}),g.jsxs("div",{className:"text-yellow-400",children:["Total Food: ",yu(t)]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Materials"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Sticks: ",t.sticks]}),g.jsxs("div",{children:["Logs: ",t.logs]}),g.jsxs("div",{children:["Rocks: ",t.rocks]}),g.jsxs("div",{children:["Stone: ",t.stone]}),g.jsxs("div",{children:["Tools: ",t.tools]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Labor Allocation"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Population: ",t.population]}),g.jsxs("div",{children:["Gatherers: ",t.gatherers]}),g.jsxs("div",{children:["Hunters: ",t.hunters]}),g.jsxs("div",{children:["Woodcutters: ",t.woodcutters]}),g.jsxs("div",{children:["Stone Workers: ",t.stoneWorkers]}),g.jsxs("div",{children:["Farmers: ",t.farmers]}),g.jsxs("div",{children:["Idle: ",t.idle]}),g.jsx("div",{className:"text-red-400",children:t.gatherers+t.hunters+t.woodcutters+t.stoneWorkers+t.farmers+t.idle!==t.population&&" Labor mismatch!"})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Production Rates"}),g.jsx("div",{className:"text-gray-300 space-y-0.5",children:(()=>{let C=0,b=0,S=0;s.forEach(N=>{N.revealed&&(N.terrain==="field"&&C++,N.terrain==="forest"&&b++,N.terrain==="mountain"&&S++)});const k=Math.min(1,(C+b)/15),M=Math.min(1,(C+b)/12),P=Math.min(1,b/5),T=Math.min(1,b/5),F=Math.min(1,S/3);return g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:["Berries:"," ",Math.floor(t.gatherers*.3*k*t.happiness),"/day"]}),g.jsxs("div",{children:["Sticks:"," ",Math.floor(t.gatherers*.4*k*t.happiness),"/day"]}),g.jsxs("div",{children:["Rocks:"," ",Math.floor(t.gatherers*.2*k*t.happiness),"/day"]}),g.jsxs("div",{children:["Small Game:"," ",Math.floor(t.hunters*.4*M*t.happiness),"/day"]}),g.jsxs("div",{children:["Large Game:"," ",Math.floor(t.hunters*.2*P*t.happiness),"/day"]}),g.jsxs("div",{children:["Logs:"," ",Math.floor(Math.min(t.woodcutters,t.tools)*.3*T),"/day",t.woodcutters>t.tools&&g.jsx("span",{className:"text-yellow-400",children:" (tool-limited)"})]}),g.jsxs("div",{children:["Stone: ",Math.floor(t.stoneWorkers*.2*F),"/day"]}),g.jsxs("div",{className:"text-red-400",children:["Food consumed: ",(t.population*.1).toFixed(1),"/day"]})]})})()})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Map Statistics"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Colony: (",i.q,", ",i.r,")"]}),g.jsxs("div",{children:["Total Tiles: ",v.total]}),g.jsxs("div",{children:["Revealed: ",v.revealed," (",(v.revealed/v.total*100).toFixed(1),"%)"]}),g.jsx("div",{className:"mt-1 pt-1 border-t border-gray-700",children:"Terrain Distribution:"}),g.jsxs("div",{children:["Water: ",v.water.count," (",v.water.pct,"%)"]}),g.jsxs("div",{children:["Fields: ",v.field.count," (",v.field.pct,"%)"]}),g.jsxs("div",{children:["Forest: ",v.forest.count," (",v.forest.pct,"%)"]}),g.jsxs("div",{children:["Mountain: ",v.mountain.count," (",v.mountain.pct,"%)"]}),g.jsx("div",{className:"mt-1 pt-1 border-t border-gray-700",children:"Revealed Terrain:"}),g.jsxs("div",{children:["Fields: ",m," (need 10 for 100%)"]}),g.jsxs("div",{children:["Forest: ",p," (need 5 for 100%)"]}),g.jsxs("div",{children:["Mountain: ",x," (need 3 for 100%)"]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Map Controls"}),g.jsxs("div",{className:"text-gray-300 space-y-1",children:[g.jsxs("div",{children:["Seed: ",g.jsx("span",{className:"text-cyan-400",children:a})]}),g.jsx("button",{onClick:()=>l(),className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Generate New Map"}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("input",{type:"number",id:"seedInput",placeholder:"Seed",className:"flex-1 bg-gray-700 text-white px-2 py-1 rounded text-xs"}),g.jsx("button",{onClick:()=>{const C=document.getElementById("seedInput"),b=C!=null&&C.value?parseInt(C.value):void 0;l(b)},className:"bg-green-600 hover:bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Load"})]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Chronicle"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["Total Entries: ",n.length]}),g.jsxs("div",{children:["Latest: Day ",(w=n[n.length-1])==null?void 0:w.day]})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-amber-300 font-semibold mb-1",children:"Performance"}),g.jsxs("div",{className:"text-gray-300 space-y-0.5",children:[g.jsxs("div",{children:["FPS: ",Math.round(1e3/(Kn[e]||1))]}),g.jsxs("div",{children:["Ticks/sec:"," ",e==="paused"?0:(1e3/Kn[e]).toFixed(2)]})]})]})]})]})};class ip{constructor(e){Eu(this,"seed");this.seed=e}next(){return this.seed=(this.seed*9301+49297)%233280,this.seed/233280}}const o0=(t,e,r)=>{let n=r>>>0;return n=(n^Math.floor(t*1e4)>>>0)>>>0,n=(n<<13|n>>>19)>>>0,n=(n^Math.floor(e*1e4)>>>0)>>>0,n=(n<<13|n>>>19)>>>0,n=n*2654435761>>>0,n=(n>>>16^n)>>>0,(n>>>0)/4294967296},op=(t,e,r)=>{const n=o0(t,e,r);return n<.15?"water":n>.65?"forest":"field"},Ho=t=>{let e=0,r=0,n=0,s=0,i="none";t.forEach(f=>{f.terrain==="water"&&e++,f.terrain==="field"&&r++,f.terrain==="forest"&&n++,f.terrain==="mountain"&&s++});const o=t.size,l=e/o,a=r/o,u=n/o,c=s/o;switch(!0){case e===0:i="no water";break;case r===0:i="no field";break;case n===0:i="no forest";break;case s===0:i="no mountain";break;case l<.05:i="water too low";break;case l>.2:i="water too high";break;case a<.2:i="field too low";break;case u<.15:i="forest too low";break;case c<.05:i="mountain too low";break}const h=e>0&&r>0&&n>0&&s>0&&l>=.05&&l<=.2&&a>=.2&&u>=.15&&c>=.05;return h||console.debug(`Map validation failed: Water=${e}(${(l*100).toFixed(1)}%), Field=${r}(${(a*100).toFixed(1)}%), Forest=${n}(${(u*100).toFixed(1)}%), Mountain=${s}(${(c*100).toFixed(1)}%), Reason=${i}`),h},Bc=t=>{let e=0;const r=1e3,n=15;for(;e<r;){const l=t!==void 0?t:Math.floor(Math.random()*1e6),a=new Map,u=new ip(l);for(let c=-n;c<=n;c++)for(let h=-n;h<=n;h++){if(Math.abs(c+h)>n)continue;const f=`${c},${h}`;let d=op(c,h,l);d!=="water"&&u.next()>.94&&(d="mountain"),a.set(f,{q:c,r:h,terrain:d,revealed:!1})}if(Ho(a)){let c={q:0,r:0};const h={q:0,r:0},f=a.get("0,0");if(f&&f.terrain==="water"){let _=!1;for(let v=1;v<=20&&!_;v++)for(let m=-v;m<=v&&!_;m++)for(let p=-v;p<=v&&!_;p++){const x={q:h.q+m,r:h.r+p},w=a.get(`${x.q},${x.r}`);w&&w.terrain!=="water"&&(c=x,_=!0)}}else c=h;const d=a.get(`${c.q},${c.r}`);if(d&&d.terrain!=="field"&&d.terrain!=="water"){const _=d.terrain;d.terrain="field",console.debug(`Colony location (${c.q},${c.r}): converted ${_} -> field`)}if(Ho(a))return console.log(` Valid map generated (seed: ${l}, attempt: ${e+1})`),{tiles:a,seed:l,colonyLocation:c};console.debug("Map became invalid after colony placement")}e++}console.warn(`Could not generate valid map after ${r} attempts, using fallback`);const s=t!==void 0?t:Math.floor(Math.random()*1e6),i=l0(s);return Ho(i.tiles)||console.error("Fallback map is also invalid!"),i},l0=(t=42)=>{const e=new Map,r=new ip(t);for(let n=-7;n<=7;n++)for(let s=-7;s<=7;s++){if(Math.abs(n+s)>7)continue;const i=`${n},${s}`;let o=op(n,s,t);o!=="water"&&r.next()>.98&&(o="mountain"),e.set(i,{q:n,r:s,terrain:o,revealed:!1})}return{tiles:e,seed:t,colonyLocation:{q:0,r:0}}},Gc=(t,e,r,n)=>(Math.abs(t-r)+Math.abs(e-n)+Math.abs(t+e-r-n))/2,a0=t=>Math.max(2,Math.ceil(t)),u0=(t,e,r,n)=>{const s=[],i=Math.max(Math.abs(r-t),Math.abs(n-e),Math.abs(r+n-(t+e)));for(let o=0;o<=i;o++){const l=i===0?0:o/i,a=t*(1-l)+r*l,u=e*(1-l)+n*l,c=-a-u;let h=Math.round(a),f=Math.round(u);const d=Math.round(c),y=Math.abs(h-a),_=Math.abs(f-u),v=Math.abs(d-c);y>_&&y>v?h=-f-d:_>v&&(f=-h-d),s.push({q:h,r:f})}return s},c0=(t,e,r,n,s)=>{let i=0;u0(e,r,n,s).forEach(({q:l,r:a})=>{const u=t.get(`${l},${a}`);u&&!u.revealed&&(u.revealed=!0,i++)});for(let l=-1;l<=1;l++)for(let a=-1;a<=1;a++){if(Math.abs(l)+Math.abs(a)+Math.abs(l+a)>2)continue;const u=n+l,c=s+a,h=t.get(`${u},${c}`);h&&!h.revealed&&(h.revealed=!0,i++)}return i},h0=t=>{const e=.02+t*.01;return Math.random()<e},d0=["The settlers hum work songs as they toil. Morale is high.","Children play by the river. Your colony thrives.","The evening fires burn bright with laughter and stories.","The settlers move with purpose and joy in their hearts.","A sense of camaraderie fills the air. The colony is strong.","The settlers gather for a feast, celebrating their successes."],f0=["A cold wind blows through the settlement. Morale is low.","The settlers move about silently, burdened by hardship.","Dark clouds gather overhead as the colony struggles.","Grumbling voices echo from the workers' quarters.","The settlers move slowly, their spirits flagging.","Tension hangs heavy in the air. Something must change."],qs={highMorale:d0,lowMorale:f0},p0=t=>t<.4?qs.lowMorale[Math.floor(Math.random()*qs.lowMorale.length)]:qs.highMorale[Math.floor(Math.random()*qs.highMorale.length)],m0=()=>{const[t,e]=$.useState(!1),[r,n]=$.useState(()=>Bc()),s=r.tiles,i=r.colonyLocation,o=S=>{n(Bc(S))};$.useEffect(()=>{for(let S=-2;S<=2;S++)for(let k=-2;k<=2;k++){if(Math.abs(S+k)>2)continue;const M=s.get(`${i.q+S},${i.r+k}`);M&&(M.revealed=!0)}},[r,s,i]);const[l,a]=$.useState({population:50,rations:100,berries:0,smallGame:0,largeGame:0,grain:20,sticks:50,logs:20,rocks:30,stone:10,tools:5,happiness:1,gatherers:15,hunters:5,farmers:0,woodcutters:5,stoneWorkers:3,idle:22,day:1,season:"Spring",fieldCount:0,forestCount:0,mountainCount:0}),[u,c]=$.useState("normal"),[h,f]=$.useState([{day:1,message:"Your expedition has arrived. The land offers both bounty and challenge.",type:"info"}]),[d,y]=$.useState([]),[_,v]=$.useState(0),m=$.useRef(null),p=$.useRef(-1),x=$.useRef(-1),w=(S,k,M="info")=>{f(P=>[...P,{day:S,message:k,type:M}])},C=(S,k,M)=>{if(l.idle<M)return w(l.day,"Not enough idle workers for expedition!","warning"),!1;const P=s.get(`${S},${k}`);if(!P||P.revealed)return!1;const T=Gc(i.q,i.r,S,k),F=a0(T),N={id:`exp_${Date.now()}`,targetQ:S,targetR:k,workers:M,startDay:l.day,arrivalDay:l.day+F,status:"in-progress"};return y(z=>[...z,N]),a(z=>({...z,idle:z.idle-M})),w(l.day,`Expedition of ${M} settlers departs to explore distant lands. Expected return: Day ${N.arrivalDay}.`,"info"),!0};return $.useEffect(()=>{if(u==="paused"||!t)return;const S=setInterval(()=>{a(k=>{const M={...k};let P=0,T=0,F=0;s.forEach(X=>{X.revealed&&(X.terrain==="field"&&P++,X.terrain==="forest"&&T++,X.terrain==="mountain"&&F++)});const N=Math.min(1,T/5),z=Math.min(1,F/3),xe=Math.min(1,(P+T)/15),j=Math.floor(k.gatherers*.3*xe*k.happiness),L=Math.floor(k.gatherers*.4*xe*k.happiness),R=Math.floor(k.gatherers*.2*xe*k.happiness),A=Math.min(1,(P+T)/12),D=Math.min(1,T/5),V=Math.floor(k.hunters*.4*A*k.happiness),K=Math.floor(k.hunters*.2*D*k.happiness),Xe=Math.floor(Math.min(k.woodcutters,k.tools)*.3*N),qe=Math.floor(k.stoneWorkers*.2*z);M.berries=k.berries+j,M.smallGame=k.smallGame+V,M.largeGame=k.largeGame+K,M.sticks=k.sticks+L,M.logs=k.logs+Xe,M.rocks=k.rocks+R,M.stone=k.stone+qe;const at=k.population*.1;if(yu(k)>=at){let X=at;const Nr=Math.min(M.berries,Math.ceil(X/.3));if(M.berries=Math.max(0,M.berries-Nr),X-=Nr*.3,X>0){const U=Math.min(M.rations,Math.ceil(X/1));M.rations=Math.max(0,M.rations-U),X-=U*1}if(X>0){const U=Math.min(M.smallGame,Math.ceil(X/.8));M.smallGame=Math.max(0,M.smallGame-U),X-=U*.8}if(X>0){const U=Math.min(M.largeGame,Math.ceil(X/2));M.largeGame=Math.max(0,M.largeGame-U)}k.happiness<1&&(M.happiness=Math.min(1,k.happiness+.01))}else M.happiness=Math.max(.1,k.happiness-.05),p.current!==M.day&&(p.current=M.day,w(M.day,"Food supplies depleted. The colony goes hungry.","danger"));if(M.day=k.day+1,y(X=>X.map(U=>{if(U.status==="in-progress"&&U.arrivalDay<=M.day){const Rr=Gc(i.q,i.r,U.targetQ,U.targetR);if(h0(Rr))return w(M.day,`The expedition to distant lands has gone missing. ${U.workers} souls lost to the wilderness.`,"danger"),{...U,status:"lost"};if(U.status==="in-progress"){const gn=c0(s,i.q,i.r,U.targetQ,U.targetR);v(Ke=>Ke+1),a(Ke=>({...Ke,idle:Ke.idle+U.workers}));const Qe=s.get(`${U.targetQ},${U.targetR}`),Mt=Qe?Qe.terrain==="water"?"a great water":Qe.terrain==="mountain"?"towering peaks":Qe.terrain==="forest"?"dense woodlands":"fertile fields":"unknown lands";w(M.day,`Expedition returns! They discovered ${Mt} and mapped their journey, revealing ${gn} hexes. ${U.workers} settlers rejoin the colony.`,"info")}return{...U,status:"completed"}}return U}).filter(U=>U.status==="in-progress"||M.day-U.arrivalDay<5)),M.day%10===0&&x.current!==M.day){x.current=M.day;const X=p0(M.happiness);w(M.day,X,"info")}return M})},Kn[u]);return()=>clearInterval(S)},[u,t,s,i]),{state:l,allocateLabor:(S,k)=>{a(M=>{if(M.gatherers+M.hunters+M.farmers+M.woodcutters+M.stoneWorkers+M.idle!==M.population)return M;const T={...M,[S]:Math.max(0,Math.min(M.population,k))};return T.idle=M.population-(T.gatherers+T.hunters+T.farmers+T.woodcutters+T.stoneWorkers),T})},timeSpeed:u,setTimeSpeed:c,gameStarted:t,setGameStarted:e,chronicle:h,chronicleRef:m,mapTiles:s,colonyLocation:i,regenerateMap:o,currentSeed:r.seed,expeditions:d,startExpedition:C,mapRevealCounter:_}},g0=({state:t,totalFood:e,stores:r})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-amber-300",children:"Colony Status"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("p",{className:"text-gray-300",children:["Day ",t.day," of colonization. Your people work the land and hunt the forests."]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-2 text-amber-200",children:"Food Supplies"}),g.jsxs("div",{className:"text-sm space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Rations:"}),g.jsx("span",{children:t.rations})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Berries:"}),g.jsx("span",{children:t.berries})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Small Game:"}),g.jsx("span",{children:t.smallGame})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Large Game:"}),g.jsx("span",{children:t.largeGame})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Grain:"}),g.jsx("span",{children:t.grain})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-700 flex justify-between font-bold",children:[g.jsx("span",{children:"Total Food Value:"}),g.jsx("span",{className:e<20?"text-red-400":"text-green-400",children:e})]}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Daily consumption: ",(t.population*.1).toFixed(1)]})]})]}),g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-2 text-amber-200",children:"Materials"}),g.jsxs("div",{className:"text-sm space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Sticks:"}),g.jsx("span",{children:t.sticks})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Logs:"}),g.jsx("span",{children:t.logs})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Rocks:"}),g.jsx("span",{children:t.rocks})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-400",children:"Stone:"}),g.jsx("span",{children:t.stone})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-700 flex justify-between font-bold",children:[g.jsx("span",{children:"Total Stores:"}),g.jsx("span",{className:"text-blue-400",children:r})]})]})]})]}),e<20&&g.jsx("div",{className:"bg-red-900/30 border border-red-700 p-3 rounded text-red-200",children:" Warning: Food supplies critically low! Assign more gatherers and hunters."})]})]}),y0=({state:t,allocateLabor:e})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-amber-300",children:"Labor Allocation"}),g.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Total Population: ",t.population," | Idle: ",t.idle]}),g.jsx("div",{className:"space-y-4",children:[{key:"gatherers",label:"Gatherers",desc:"Collect berries, sticks, and rocks (fields & forests)"},{key:"hunters",label:"Hunters",desc:"Hunt small and large game"},{key:"woodcutters",label:"Woodcutters",desc:"Chop logs from forests (tool-limited)"},{key:"stoneWorkers",label:"Stone Workers",desc:"Mine stone from mountains"},{key:"farmers",label:"Farmers",desc:"Farm grain (disabled - no farming yet)",disabled:!0}].map(({key:r,label:n,desc:s,disabled:i})=>g.jsxs("div",{className:`bg-gray-900 p-4 rounded border border-gray-700 ${i?"opacity-50":""}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-amber-200",children:[n," ",i&&"(Disabled)"]}),g.jsx("div",{className:"text-xs text-gray-400",children:s})]}),g.jsx("div",{className:"text-2xl font-bold",children:t[r]})]}),!i&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>e(r,t[r]-5),className:"px-3 py-1 bg-red-800 hover:bg-red-700 rounded text-sm",children:"-5"}),g.jsx("button",{onClick:()=>e(r,t[r]-1),className:"px-3 py-1 bg-red-800 hover:bg-red-700 rounded text-sm",children:"-1"}),g.jsx("button",{onClick:()=>e(r,t[r]+1),className:"px-3 py-1 bg-green-800 hover:bg-green-700 rounded text-sm",disabled:t.idle<1,children:"+1"}),g.jsx("button",{onClick:()=>e(r,t[r]+5),className:"px-3 py-1 bg-green-800 hover:bg-green-700 rounded text-sm",disabled:t.idle<5,children:"+5"})]})]},r))})]}),x0="modulepreload",v0=function(t,e){return new URL(t,e).href},Oc={},Xi=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=v0(u,n),u in Oc)return;Oc[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const _=o[y];if(_.href===u&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":x0,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((y,_)=>{d.addEventListener("load",y),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var W=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(W||{});const ia=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Qs=(t,e)=>ia(t).priority??e,lt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(ia).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(ia).forEach(e=>{e.type.forEach(r=>{var i,o;const n=this._addHandlers,s=this._queue;n[r]?(o=n[r])==null||o.call(n,e):(s[r]=s[r]||[],(i=s[r])==null||i.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,s[t]=r;const i=this._queue;return i[t]&&((o=i[t])==null||o.forEach(l=>e(l)),delete i[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(i=>i.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((i,o)=>Qs(o.value,r)-Qs(i.value,r)))},n=>{const s=e.findIndex(i=>i.name===n.name);s!==-1&&e.splice(s,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,i)=>Qs(i,r)-Qs(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})},mixin(t,...e){for(const r of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(r))}},_0={extension:{type:W.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Xi(()=>import("./browserAll-xYnCVj9H.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)}},w0={extension:{type:W.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Xi(()=>import("./webworkerAll-BroNdky7.js"),__vite__mapDeps([1,2,3]),import.meta.url)}};class Ce{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Ce(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var lp={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(a,u,c){this.fn=a,this.context=u,this.once=c||!1}function i(a,u,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new s(c,h||a,f),y=r?r+u:u;return a._events[y]?a._events[y].fn?a._events[y]=[a._events[y],d]:a._events[y].push(d):(a._events[y]=d,a._eventsCount++),a}function o(a,u){--a._eventsCount===0?a._events=new n:delete a._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},l.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,y=new Array(d);f<d;f++)y[f]=h[f].fn;return y},l.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,c,h,f,d,y){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],m=arguments.length,p,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,f),!0;case 5:return v.fn.call(v.context,c,h,f,d),!0;case 6:return v.fn.call(v.context,c,h,f,d,y),!0}for(x=1,p=new Array(m-1);x<m;x++)p[x-1]=arguments[x];v.fn.apply(v.context,p)}else{var w=v.length,C;for(x=0;x<w;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),m){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,h);break;case 4:v[x].fn.call(v[x].context,c,h,f);break;default:if(!p)for(C=1,p=new Array(m-1);C<m;C++)p[C-1]=arguments[C];v[x].fn.apply(v[x].context,p)}}return!0},l.prototype.on=function(u,c,h){return i(this,u,c,h,!1)},l.prototype.once=function(u,c,h){return i(this,u,c,h,!0)},l.prototype.removeListener=function(u,c,h,f){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var y=this._events[d];if(y.fn)y.fn===c&&(!f||y.once)&&(!h||y.context===h)&&o(this,d);else{for(var _=0,v=[],m=y.length;_<m;_++)(y[_].fn!==c||f&&!y[_].once||h&&y[_].context!==h)&&v.push(y[_]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},l.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(lp);var S0=lp.exports;const Gt=Sa(S0),b0=Math.PI*2,C0=180/Math.PI,k0=Math.PI/180;class Me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Wo.x=0,Wo.y=0,Wo}}const Wo=new Me;class G{constructor(e=1,r=0,n=0,s=1,i=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=i,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,i,o){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=i,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Me;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new Me;const n=this.a,s=this.b,i=this.c,o=this.d,l=this.tx,a=this.ty,u=1/(n*o+i*-s),c=e.x,h=e.y;return r.x=o*u*c+-i*u*h+(a*i-l*o)*u,r.y=n*u*h+-s*u*c+(-a*n+l*s)*u,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,i=this.c,o=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=i*r-this.d*n,this.d=i*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,i=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*i,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*i,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}appendFrom(e,r){const n=e.a,s=e.b,i=e.c,o=e.d,l=e.tx,a=e.ty,u=r.a,c=r.b,h=r.c,f=r.d;return this.a=n*u+s*h,this.b=n*c+s*f,this.c=i*u+o*h,this.d=i*c+o*f,this.tx=l*u+a*h+r.tx,this.ty=l*c+a*f+r.ty,this}setTransform(e,r,n,s,i,o,l,a,u){return this.a=Math.cos(l+u)*i,this.b=Math.sin(l+u)*i,this.c=-Math.sin(l-a)*o,this.d=Math.cos(l-a)*o,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,i=this.d,o=e.pivot,l=-Math.atan2(-s,i),a=Math.atan2(n,r),u=Math.abs(l+a);return u<1e-5||Math.abs(b0-u)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=a),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+i*i),e.position.x=this.tx+(o.x*r+o.y*s),e.position.y=this.ty+(o.x*n+o.y*i),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,i=this.tx,o=e*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-s*i)/o,this.ty=-(e*this.ty-r*i)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new G;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return P0.identity()}static get shared(){return M0.identity()}}const M0=new G,P0=new G,pr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],mr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],yr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],oa=[],ap=[],Ks=Math.sign;function T0(){for(let t=0;t<16;t++){const e=[];oa.push(e);for(let r=0;r<16;r++){const n=Ks(pr[t]*pr[r]+gr[t]*mr[r]),s=Ks(mr[t]*pr[r]+yr[t]*mr[r]),i=Ks(pr[t]*gr[r]+gr[t]*yr[r]),o=Ks(mr[t]*gr[r]+yr[t]*yr[r]);for(let l=0;l<16;l++)if(pr[l]===n&&mr[l]===s&&gr[l]===i&&yr[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new G;e.set(pr[t],mr[t],gr[t],yr[t],0,0),ap.push(e)}}T0();const q={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>pr[t],uY:t=>mr[t],vX:t=>gr[t],vY:t=>yr[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>oa[t][e],sub:(t,e)=>oa[t][q.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?q.S:q.N:Math.abs(e)*2<=Math.abs(t)?t>0?q.E:q.W:e>0?t>0?q.SE:q.SW:t>0?q.NE:q.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=ap[q.inv(e)];s.tx=r,s.ty=n,t.append(s)},transformRectCoords:(t,e,r,n)=>{const{x:s,y:i,width:o,height:l}=t,{x:a,y:u,width:c,height:h}=e;return r===q.E?(n.set(s+a,i+u,o,l),n):r===q.S?n.set(c-i-l+a,s+u,l,o):r===q.W?n.set(c-s-o+a,h-i-l+u,o,l):r===q.N?n.set(i+a,h-s-o+u,l,o):n.set(s+a,i+u,o,l)}},Zs=[new Me,new Me,new Me,new Me];class ge{constructor(e=0,r=0,n=0,s=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ge(0,0,0,0)}clone(){return new ge(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n,s=.5){const{width:i,height:o}=this;if(i<=0||o<=0)return!1;const l=this.x,a=this.y,u=n*(1-s),c=n-u,h=l-u,f=l+i+u,d=a-u,y=a+o+u,_=l+c,v=l+i-c,m=a+c,p=a+o-c;return e>=h&&e<=f&&r>=d&&r<=y&&!(e>_&&e<v&&r>m&&r<p)}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const P=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>P}const n=this.left,s=this.right,i=this.top,o=this.bottom;if(s<=n||o<=i)return!1;const l=Zs[0].set(e.left,e.top),a=Zs[1].set(e.left,e.bottom),u=Zs[2].set(e.right,e.top),c=Zs[3].set(e.right,e.bottom);if(u.x<=l.x||a.y<=l.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(l,l),r.apply(a,a),r.apply(u,u),r.apply(c,c),Math.max(l.x,a.x,u.x,c.x)<=n||Math.min(l.x,a.x,u.x,c.x)>=s||Math.max(l.y,a.y,u.y,c.y)<=i||Math.min(l.y,a.y,u.y,c.y)>=o))return!1;const f=h*(a.y-l.y),d=h*(l.x-a.x),y=f*n+d*i,_=f*s+d*i,v=f*n+d*o,m=f*s+d*o;if(Math.max(y,_,v,m)<=f*l.x+d*l.y||Math.min(y,_,v,m)>=f*c.x+d*c.y)return!1;const p=h*(l.y-u.y),x=h*(u.x-l.x),w=p*n+x*i,C=p*s+x*i,b=p*n+x*o,S=p*s+x*o;return!(Math.max(w,C,b,S)<=p*l.x+x*l.y||Math.min(w,C,b,S)>=p*c.x+x*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(i-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this.width*=e,this.height*=r,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=i-s,this}getBounds(e){return e||(e=new ge),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const r=e.x,n=e.y,s=e.x+e.width,i=e.y+e.height;return r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height&&s>=this.x&&s<this.x+this.width&&i>=this.y&&i<this.y+this.height}set(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Yo={default:-1};function ue(t="default"){return Yo[t]===void 0&&(Yo[t]=-1),++Yo[t]}const Uc=new Set,he="8.0.0",E0="8.3.4",Qr={quiet:!1,noColor:!1},Y=(t,e,r=3)=>{if(Qr.quiet||Uc.has(e))return;let n=new Error().stack;const s=`${e}
Deprecated since v${t}`,i=typeof console.groupCollapsed=="function"&&!Qr.noColor;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",s):(n=n.split(`
`).splice(r).join(`
`),i?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",s),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",s),console.warn(n))),Uc.add(e)};Object.defineProperties(Y,{quiet:{get:()=>Qr.quiet,set:t=>{Qr.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>Qr.noColor,set:t=>{Qr.noColor=t},enumerable:!0,configurable:!1}});const up=()=>{};function $c(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Vc(t){return!(t&t-1)&&!!t}function cp(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const Hc=Object.create(null);function A0(t){const e=Hc[t];return e===void 0&&(Hc[t]=ue("resource")),e}const hp=class dp extends Gt{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...dp.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Y(he,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=A0(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};hp.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let fp=hp;const pp=class mp extends Gt{constructor(e={}){super(),this.options=e,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=ue("textureSource"),this._resourceType="textureSource",this._resourceId=ue("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...mp.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new fp(cp(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){var e,r;this._resourceId=ue("resource"),this.emit("change",this),this.emit("unload",this);for(const n in this._gpuData)(r=(e=this._gpuData[n])==null?void 0:e.destroy)==null||r.call(e);this._gpuData=Object.create(null)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n||(n=this._resolution),e||(e=this.width),r||(r=this.height);const s=Math.round(e*n),i=Math.round(r*n);return this.width=s/n,this.height=i/n,this._resolution=n,this.pixelWidth===s&&this.pixelHeight===i?!1:(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=i,this.emit("resize",this),this._resourceId=ue("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Vc(this.pixelWidth)&&Vc(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};pp.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let xt=pp;class xu extends xt{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}xu.extension=W.TextureSource;const Wc=new G;class N0{constructor(e,r){this.mapCoord=new G,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const i=e[s],o=e[s+1];r[s]=i*n.a+o*n.c+n.tx,r[s+1]=i*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,s=e.trim;s&&(Wc.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Wc));const i=e.source,o=this.uClampFrame,l=this.clampMargin/i._resolution,a=this.clampOffset/i._resolution;return o[0]=(e.frame.x+l+a)/i.width,o[1]=(e.frame.y+l+a)/i.height,o[2]=(e.frame.x+e.frame.width-l+a)/i.width,o[3]=(e.frame.y+e.frame.height-l+a)/i.height,this.uClampOffset[0]=this.clampOffset/i.pixelWidth,this.uClampOffset[1]=this.clampOffset/i.pixelHeight,this.isSimple=e.frame.width===i.width&&e.frame.height===i.height&&e.rotate===0,!0}}class Q extends Gt{constructor({source:e,label:r,frame:n,orig:s,trim:i,defaultAnchor:o,defaultBorders:l,rotate:a,dynamic:u}={}){if(super(),this.uid=ue("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ge,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new xt,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:c,height:h}=this._source;this.frame.width=c,this.frame.height=h}this.orig=s||this.frame,this.trim=i,this.rotate=a??0,this.defaultAnchor=o,this.defaultBorders=l,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new N0(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:s}=this._source,i=r.x/n,o=r.y/s,l=r.width/n,a=r.height/s;let u=this.rotate;if(u){const c=l/2,h=a/2,f=i+c,d=o+h;u=q.add(u,q.NW),e.x0=f+c*q.uX(u),e.y0=d+h*q.uY(u),u=q.add(u,2),e.x1=f+c*q.uX(u),e.y1=d+h*q.uY(u),u=q.add(u,2),e.x2=f+c*q.uX(u),e.y2=d+h*q.uY(u),u=q.add(u,2),e.x3=f+c*q.uX(u),e.y3=d+h*q.uY(u)}else e.x0=i,e.y0=o,e.x1=i+l,e.y1=o,e.x2=i+l,e.y2=o+a,e.x3=i,e.y3=o+a}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Y(he,"Texture.baseTexture is now Texture.source"),this._source}}Q.EMPTY=new Q({label:"EMPTY",source:new xt({label:"EMPTY"})});Q.EMPTY.destroy=up;Q.WHITE=new Q({source:new xu({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Q.WHITE.destroy=up;function R0(t,e,r){const{width:n,height:s}=r.orig,i=r.trim;if(i){const o=i.width,l=i.height;t.minX=i.x-e._x*n,t.maxX=t.minX+o,t.minY=i.y-e._y*s,t.maxY=t.minY+l}else t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*s,t.maxY=t.minY+s}const Yc=new G;class yt{constructor(e=1/0,r=1/0,n=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Yc,this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ge);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Yc,this}set(e,r,n,s){this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}addFrame(e,r,n,s,i){i||(i=this.matrix);const o=i.a,l=i.b,a=i.c,u=i.d,c=i.tx,h=i.ty;let f=this.minX,d=this.minY,y=this.maxX,_=this.maxY,v=o*e+a*r+c,m=l*e+u*r+h;v<f&&(f=v),m<d&&(d=m),v>y&&(y=v),m>_&&(_=m),v=o*n+a*r+c,m=l*n+u*r+h,v<f&&(f=v),m<d&&(d=m),v>y&&(y=v),m>_&&(_=m),v=o*e+a*s+c,m=l*e+u*s+h,v<f&&(f=v),m<d&&(d=m),v>y&&(y=v),m>_&&(_=m),v=o*n+a*s+c,m=l*n+u*s+h,v<f&&(f=v),m<d&&(d=m),v>y&&(y=v),m>_&&(_=m),this.minX=f,this.minY=d,this.maxX=y,this.maxY=_}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,s=this.maxX,i=this.maxY,{a:o,b:l,c:a,d:u,tx:c,ty:h}=e;let f=o*r+a*n+c,d=l*r+u*n+h;this.minX=f,this.minY=d,this.maxX=f,this.maxY=d,f=o*s+a*n+c,d=l*s+u*n+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=o*r+a*i+c,d=l*r+u*i+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=o*s+a*i+c,d=l*s+u*i+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,s){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>s&&(this.maxY=s),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new yt(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,s){let i=this.minX,o=this.minY,l=this.maxX,a=this.maxY;s||(s=this.matrix);const u=s.a,c=s.b,h=s.c,f=s.d,d=s.tx,y=s.ty;for(let _=r;_<n;_+=2){const v=e[_],m=e[_+1],p=u*v+h*m+d,x=c*v+f*m+y;i=p<i?p:i,o=x<o?x:o,l=p>l?p:l,a=x>a?x:a}this.minX=i,this.minY=o,this.maxX=l,this.maxY=a}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var j0={grad:.9,turn:360,rad:360/(2*Math.PI)},Pt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},me=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},tt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},gp=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Xc=function(t){return{r:tt(t.r,0,255),g:tt(t.g,0,255),b:tt(t.b,0,255),a:tt(t.a)}},Xo=function(t){return{r:me(t.r),g:me(t.g),b:me(t.b),a:me(t.a,3)}},I0=/^#([0-9a-f]{3,8})$/i,Js=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},yp=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,i=Math.max(e,r,n),o=i-Math.min(e,r,n),l=o?i===e?(r-n)/o:i===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:i?o/i*100:0,v:i/255*100,a:s}},xp=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var i=Math.floor(e),o=n*(1-r),l=n*(1-(e-i)*r),a=n*(1-(1-e+i)*r),u=i%6;return{r:255*[n,l,o,o,a,n][u],g:255*[a,n,n,l,o,o][u],b:255*[o,o,a,n,n,l][u],a:s}},qc=function(t){return{h:gp(t.h),s:tt(t.s,0,100),l:tt(t.l,0,100),a:tt(t.a)}},Qc=function(t){return{h:me(t.h),s:me(t.s),l:me(t.l),a:me(t.a,3)}},Kc=function(t){return xp((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Zn=function(t){return{h:(e=yp(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},F0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,D0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,la={string:[[function(t){var e=I0.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?me(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?me(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=D0.exec(t)||z0.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Xc({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=F0.exec(t)||L0.exec(t);if(!e)return null;var r,n,s=qc({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(j0[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Kc(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,i=s===void 0?1:s;return Pt(e)&&Pt(r)&&Pt(n)?Xc({r:Number(e),g:Number(r),b:Number(n),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,i=s===void 0?1:s;if(!Pt(e)||!Pt(r)||!Pt(n))return null;var o=qc({h:Number(e),s:Number(r),l:Number(n),a:Number(i)});return Kc(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,i=s===void 0?1:s;if(!Pt(e)||!Pt(r)||!Pt(n))return null;var o=function(l){return{h:gp(l.h),s:tt(l.s,0,100),v:tt(l.v,0,100),a:tt(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(i)});return xp(o)},"hsv"]]},Zc=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},B0=function(t){return typeof t=="string"?Zc(t.trim(),la.string):typeof t=="object"&&t!==null?Zc(t,la.object):[null,void 0]},qo=function(t,e){var r=Zn(t);return{h:r.h,s:tt(r.s+100*e,0,100),l:r.l,a:r.a}},Qo=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Jc=function(t,e){var r=Zn(t);return{h:r.h,s:r.s,l:tt(r.l+100*e,0,100),a:r.a}},aa=function(){function t(e){this.parsed=B0(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return me(Qo(this.rgba),2)},t.prototype.isDark=function(){return Qo(this.rgba)<.5},t.prototype.isLight=function(){return Qo(this.rgba)>=.5},t.prototype.toHex=function(){return e=Xo(this.rgba),r=e.r,n=e.g,s=e.b,o=(i=e.a)<1?Js(me(255*i)):"","#"+Js(r)+Js(n)+Js(s)+o;var e,r,n,s,i,o},t.prototype.toRgb=function(){return Xo(this.rgba)},t.prototype.toRgbString=function(){return e=Xo(this.rgba),r=e.r,n=e.g,s=e.b,(i=e.a)<1?"rgba("+r+", "+n+", "+s+", "+i+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,i},t.prototype.toHsl=function(){return Qc(Zn(this.rgba))},t.prototype.toHslString=function(){return e=Qc(Zn(this.rgba)),r=e.h,n=e.s,s=e.l,(i=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+i+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,i},t.prototype.toHsv=function(){return e=yp(this.rgba),{h:me(e.h),s:me(e.s),v:me(e.v),a:me(e.a,3)};var e},t.prototype.invert=function(){return _t({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),_t(qo(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),_t(qo(this.rgba,-e))},t.prototype.grayscale=function(){return _t(qo(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),_t(Jc(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),_t(Jc(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?_t({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):me(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Zn(this.rgba);return typeof e=="number"?_t({h:e,s:r.s,l:r.l,a:r.a}):me(r.h)},t.prototype.isEqual=function(e){return this.toHex()===_t(e).toHex()},t}(),_t=function(t){return t instanceof aa?t:new aa(t)},eh=[],G0=function(t){t.forEach(function(e){eh.indexOf(e)<0&&(e(aa,la),eh.push(e))})};function O0(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var i={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,a,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),h=1/0,f="black";if(!i.length)for(var d in r)i[d]=new t(r[d]).toRgb();for(var y in r){var _=(l=c,a=i[y],Math.pow(l.r-a.r,2)+Math.pow(l.g-a.g,2)+Math.pow(l.b-a.b,2));_<h&&(h=_,f=y)}return f}},e.string.push([function(o){var l=o.toLowerCase(),a=l==="transparent"?"#0000":r[l];return a?new t(a).toRgb():null},"name"])}G0([O0]);const hn=class Dn{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Dn)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,o)=>i===r[o]);if(e!==null&&r!==null){const i=Object.keys(e),o=Object.keys(r);return i.length!==o.length?!1:i.every(l=>e[l]===r[l])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,n,s,i]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=i,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,i]=Dn._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=i,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,i=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,i=i*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,s,i;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,s=(o&255)/255,i=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,i=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,i=255]=e,r/=255,n/=255,s/=255,i/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=Dn.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=_t(e);o.isValid()&&({r,g:n,b:s,a:i}=o.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=i,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,i)=>{e[i]=Math.min(Math.max(s,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Dn||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};hn.shared=new hn;hn._temp=new hn;hn.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let nt=hn;const U0={cullArea:null,cullable:!1,cullableChildren:!0};let Ko=0;const th=500;function Ve(...t){Ko!==th&&(Ko++,Ko===th?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const mo={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class $0{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:(r=new this._classType,this._count++),(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class V0{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new $0(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const ot=new V0;mo.register(ot);const H0={get isCachedAsTexture(){var t;return!!((t=this.renderGroup)!=null&&t.isCachedAsTexture)},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){var t;(t=this.renderGroup)==null||t.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Y("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function W0(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const i=n-r;for(s=e;s<i;++s)t[s]=t[s+r];t.length=i}const Y0={allowChildren:!0,removeChildren(t=0,e){var i;const r=e??this.children.length,n=r-t,s=[];if(n>0&&n<=r){for(let l=r-1;l>=t;l--){const a=this.children[l];a&&(s.push(a),a.parent=null)}W0(this.children,t,r);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(s);for(let l=0;l<s.length;++l){const a=s[l];(i=a.parentRenderLayer)==null||i.detach(a),this.emit("childRemoved",a,this,l),s[l].emit("removed",this)}return s.length>0&&this._didViewChangeTick++,s}else if(n===0&&this.children.length===0)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Y(he,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const s=t.parent.children.indexOf(t);if(t.parent===this&&s===e)return t;s!==-1&&t.parent.children.splice(s,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},X0={collectRenderables(t,e,r){this.parentRenderLayer&&this.parentRenderLayer!==r||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,r):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,r))},collectRenderablesSimple(t,e,r){const n=this.children,s=n.length;for(let i=0;i<s;i++)n[i].collectRenderables(t,e,r)},collectRenderablesWithEffects(t,e,r){const{renderPipes:n}=e;for(let s=0;s<this.effects.length;s++){const i=this.effects[s];n[i.pipe].push(i,this,t)}this.collectRenderablesSimple(t,e,r);for(let s=this.effects.length-1;s>=0;s--){const i=this.effects[s];n[i.pipe].pop(i,this,t)}}};class rh{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class q0{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return ot.get(n.maskClass,e)}return e}returnMaskEffect(e){ot.return(e)}}const ua=new q0;lt.handleByList(W.MaskEffect,ua._effectClasses);const Q0={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((r,n)=>r.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),ua.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=ua.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){var i;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new rh);t=t;const r=(t==null?void 0:t.length)>0,n=((i=e.filters)==null?void 0:i.length)>0,s=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),s&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new rh),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},K0={label:null,get name(){return Y(he,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Y(he,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const s=r[n];if(s.label===t||t instanceof RegExp&&t.test(s.label))return s}if(e)for(let n=0;n<r.length;n++){const i=r[n].getChildByLabel(t,!0);if(i)return i}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let s=0;s<n.length;s++){const i=n[s];(i.label===t||t instanceof RegExp&&t.test(i.label))&&r.push(i)}if(e)for(let s=0;s<n.length;s++)n[s].getChildrenByLabel(t,!0,r);return r}},Ee=ot.getPool(G),jt=ot.getPool(yt),Z0=new G,J0={getFastGlobalBounds(t,e){e||(e=new yt),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const r=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(r.worldTransform),e},_getGlobalBoundsRecursive(t,e,r){let n=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==r||this.localDisplayStatus!==7||!this.measurable)return;const s=!!this.effects.length;if((this.renderGroup||s)&&(n=jt.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;n.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const i=this.children;for(let o=0;o<i.length;o++)i[o]._getGlobalBoundsRecursive(t,n,r)}if(s){let i=!1;const o=this.renderGroup||this.parentRenderGroup;for(let l=0;l<this.effects.length;l++)this.effects[l].addBounds&&(i||(i=!0,n.applyMatrix(o.worldTransform)),this.effects[l].addBounds(n,!0));i&&n.applyMatrix(o.worldTransform.copyTo(Z0).invert()),e.addBounds(n),jt.return(n)}else this.renderGroup&&(e.addBounds(n,this.relativeGroupTransform),jt.return(n))}};function vp(t,e,r){r.clear();let n,s;return t.parent?e?n=t.parent.worldTransform:(s=Ee.get().identity(),n=vu(t,s)):n=G.IDENTITY,_p(t,r,n,e),s&&Ee.return(s),r.isValid||r.set(0,0,0,0),r}function _p(t,e,r,n){var l,a;if(!t.visible||!t.measurable)return;let s;n?s=t.worldTransform:(t.updateLocalTransform(),s=Ee.get(),s.appendFrom(t.localTransform,r));const i=e,o=!!t.effects.length;if(o&&(e=jt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{const u=t.bounds;u&&!u.isEmpty()&&(e.matrix=s,e.addBounds(u));for(let c=0;c<t.children.length;c++)_p(t.children[c],e,s,n)}if(o){for(let u=0;u<t.effects.length;u++)(a=(l=t.effects[u]).addBounds)==null||a.call(l,e);i.addBounds(e,G.IDENTITY),jt.return(e)}n||Ee.return(s)}function vu(t,e){const r=t.parent;return r&&(vu(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function wp(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,s=t&255,i=e>>16&255,o=e>>8&255,l=e&255,a=r*i/255|0,u=n*o/255|0,c=s*l/255|0;return(a<<16)+(u<<8)+c}const nh=16777215;function sh(t,e){return t===nh?e:e===nh?t:wp(t,e)}function Si(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const ex={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(t=new G,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const r=vu(this,Ee.get().identity());return t.appendFrom(this.localTransform,r),Ee.return(r),t},getGlobalTint(t){if(t)return this.renderGroup?Si(this.renderGroup.worldColor):this.parentRenderGroup?Si(sh(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=sh(e,r.localColor),r=r.parent;return Si(e)}};function Sp(t,e,r){return e.clear(),r||(r=G.IDENTITY),bp(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function bp(t,e,r,n,s){var a,u;let i;if(s)i=Ee.get(),i=r.copyTo(i);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const c=t.localTransform;i=Ee.get(),i.appendFrom(c,r)}const o=e,l=!!t.effects.length;if(l&&(e=jt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.renderPipeId&&(e.matrix=i,e.addBounds(t.bounds));const c=t.children;for(let h=0;h<c.length;h++)bp(c[h],e,i,n,!1)}if(l){for(let c=0;c<t.effects.length;c++)(u=(a=t.effects[c]).addLocalBounds)==null||u.call(a,e,n);o.addBounds(e,G.IDENTITY),jt.return(e)}Ee.return(i)}function Cp(t,e){const r=t.children;for(let n=0;n<r.length;n++){const s=r[n],i=s.uid,o=(s._didViewChangeTick&65535)<<16|s._didContainerChangeTick&65535,l=e.index;(e.data[l]!==i||e.data[l+1]!==o)&&(e.data[e.index]=i,e.data[e.index+1]=o,e.didChange=!0),e.index=l+2,s.children.length&&Cp(s,e)}return e.didChange}const tx=new G,rx={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new yt});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),Cp(this,t),t.didChange&&Sp(this,t.localBounds,tx),t.localBounds},getBounds(t,e){return vp(this,t,e||new yt)}},nx={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},sx={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ix))}};function ix(t,e){return t._zIndex-e._zIndex}const ox={getGlobalPosition(t=new Me,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){const n=this.getGlobalTransform(Ee.get(),r);return e=n.apply(t,e),Ee.return(n),e},toLocal(t,e,r,n){e&&(t=e.toGlobal(t,r,n));const s=this.getGlobalTransform(Ee.get(),n);return r=s.applyInverse(t,r),Ee.return(s),r}};class kp{constructor(){this.uid=ue("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let lx=0;class ax{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new fp(this.textureOptions)}createTexture(e,r,n){const s=new xt({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!1});return new Q({source:s,label:`texturePool_${lx++}`})}getOptimalTexture(e,r,n=1,s){let i=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);i=$c(i),o=$c(o);const l=(i<<17)+(o<<1)+(s?1:0);this._texturePool[l]||(this._texturePool[l]=[]);let a=this._texturePool[l].pop();return a||(a=this.createTexture(i,o,s)),a.source._resolution=n,a.source.width=i/n,a.source.height=o/n,a.source.pixelWidth=i,a.source.pixelHeight=o,a.frame.x=0,a.frame.y=0,a.frame.width=e,a.frame.height=r,a.updateUvs(),this._poolKeyHash[a.uid]=l,a}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e,r=!1){const n=this._poolKeyHash[e.uid];r&&(e.source.style=this.textureStyle),this._texturePool[n].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this._texturePool={}}}const Mp=new ax;mo.register(Mp);class ux{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new G,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new kp,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++){const s=r[n];s._updateFlags=15,this.addChild(s)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Mp.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let r=0;r<this._onRenderContainers.length;r++)this._onRenderContainers[r]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new G),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new G),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new G),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function cx(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const Zo=new Ce(null),ei=new Ce(null),Jo=new Ce(null,1,1),ti=new Ce(null),ih=1,hx=2,el=4;class ir extends Gt{constructor(e={}){var r,n;super(),this.uid=ue("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new G,this.relativeGroupTransform=new G,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ce(this,0,0),this._scale=Jo,this._pivot=ei,this._origin=ti,this._skew=Zo,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],cx(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(s=>this.addChild(s)),(n=e.parent)==null||n.addChild(this)}static mixin(e){Y("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),lt.mixin(ir,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Y(he,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let s=0;s<e.length;s++)this.addChild(e[s]);return e[0]}const r=e[0],n=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),n&&(n.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let s=0;s<e.length;s++)this.removeChild(e[s]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parentRenderLayer&&r.parentRenderLayer.detach(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=ot.get(ux,this),this.groupTransform=G.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),ot.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new G),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*C0}set angle(e){this.rotation=e*k0}get pivot(){return this._pivot===ei&&(this._pivot=new Ce(this,0,0)),this._pivot}set pivot(e){this._pivot===ei&&(this._pivot=new Ce(this,0,0),this._origin!==ti&&Ve("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Zo&&(this._skew=new Ce(this,0,0)),this._skew}set skew(e){this._skew===Zo&&(this._skew=new Ce(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Jo&&(this._scale=new Ce(this,1,1)),this._scale}set scale(e){this._scale===Jo&&(this._scale=new Ce(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===ti&&(this._origin=new Ce(this,0,0)),this._origin}set origin(e){this._origin===ti&&(this._origin=new Ce(this,0,0),this._pivot!==ei&&Ve("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,s=this._pivot,i=this._origin,o=this._position,l=n._x,a=n._y,u=s._x,c=s._y,h=-i._x,f=-i._y;r.a=this._cx*l,r.b=this._sx*l,r.c=this._cy*a,r.d=this._sy*a,r.tx=o._x-(u*r.a+c*r.c)+(h*r.a+f*r.c)-h,r.ty=o._y-(u*r.b+c*r.d)+(h*r.b+f*r.d)-f}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=ih,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=nt.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=ih,this._onUpdate())}get tint(){return Si(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hx,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=el,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=el,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=el,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var s;if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&r)for(let i=0;i<r.length;++i)r[i].destroy(e);(s=this.renderGroup)==null||s.destroy(),this.renderGroup=null}}lt.mixin(ir,Y0,J0,ox,nx,rx,Q0,K0,sx,U0,H0,ex,X0);class Pp extends ir{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new yt(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=e.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:s}=e;return n>=r.minX&&n<=r.maxX&&s>=r.minY&&s<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}unload(){var e;this.emit("unload",this);for(const r in this._gpuData)(e=this._gpuData[r])==null||e.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(e){this.unload(),super.destroy(e),this._bounds=null}collectRenderablesSimple(e,r,n){const{renderPipes:s}=r;s.blendMode.pushBlendMode(this,this.groupBlendMode,e),s[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,l=o.length;for(let a=0;a<l;a++)o[a].collectRenderables(e,r,n);s.blendMode.popBlendMode(e)}}class vs extends Pp{constructor(e=Q.EMPTY){e instanceof Q&&(e={texture:e});const{texture:r=Q.EMPTY,anchor:n,roundPixels:s,width:i,height:o,...l}=e;super({label:"Sprite",...l}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Ce({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=s??!1,i!==void 0&&(this.width=i),o!==void 0&&(this.height=o)}static from(e,r=!1){return e instanceof Q?new vs(e):new vs(Q.from(e,r))}set texture(e){e||(e=Q.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return R0(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Y("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,n=this._bounds,{width:s,height:i}=r.orig;n.minX=-e._x*s,n.maxX=n.minX+s,n.minY=-e._y*i,n.maxY=n.minY+i}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const dx=new yt;function Tp(t,e,r){const n=dx;t.measurable=!0,vp(t,r,n),e.addBoundsMask(n),t.measurable=!1}function Ep(t,e,r){const n=jt.get();t.measurable=!0;const s=Ee.get().identity(),i=Ap(t,r,s);Sp(t,n,i),t.measurable=!1,e.addBoundsMask(n),Ee.return(s),jt.return(n)}function Ap(t,e,r){return t?(t!==e&&(Ap(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Ve("Mask bounds, renderable is not inside the root container"),r)}class Np{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof vs),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,r){this.inverse||Tp(this.mask,e,r)}addLocalBounds(e,r){Ep(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof vs}}Np.extension=W.MaskEffect;class Rp{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}Rp.extension=W.MaskEffect;class jp{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,r){Tp(this.mask,e,r)}addLocalBounds(e,r){Ep(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof ir}}jp.extension=W.MaskEffect;const fx={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let oh=fx;const or={get(){return oh},set(t){oh=t}};class Ip extends xt{constructor(e){e.resource||(e.resource=or.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const s=super.resize(e,r,n);return s&&this.resizeCanvas(),s}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Ip.extension=W.TextureSource;class qi extends xt{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}qi.extension=W.TextureSource;var ca=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ca||{});class tl{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=s}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Fp=class Ge{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new tl(null,null,1/0),this.deltaMS=1/Ge.targetFPMS,this.elapsedMS=1/Ge.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ca.NORMAL){return this._addListener(new tl(e,r,n))}addOnce(e,r,n=ca.NORMAL){return this._addListener(new tl(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ge.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ge.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Ge._shared){const e=Ge._shared=new Ge;e.autoStart=!0,e._protected=!0}return Ge._shared}static get system(){if(!Ge._system){const e=Ge._system=new Ge;e.autoStart=!0,e._protected=!0}return Ge._system}};Fp.targetFPMS=.06;let ri=Fp,rl;async function px(){return rl??(rl=(async()=>{var o;const e=or.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(l=>{const a=document.createElement("video");a.onloadeddata=()=>l(a),a.onerror=()=>l(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(s),e.deleteTexture(n),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),i[0]<=i[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),rl}const go=class Lp extends xt{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Lp.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=ri.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await px(),this._load=new Promise((n,s)=>{this.isValid?n(this):(this._resolve=n,this._reject=s,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ri.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ri.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ri.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};go.extension=W.TextureSource;go.defaultOptions={...xt.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};go.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let mx=go;const Lr=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class gx{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Ve(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Lr(e);let s;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){s=u.getCacheableAssets(n,r);break}}const i=new Map(Object.entries(s||{}));s||n.forEach(a=>{i.set(a,r)});const o=[...i.keys()],l={cacheKeys:o,keys:n};n.forEach(a=>{this._cacheMap.set(a,l)}),o.forEach(a=>{const u=s?s[a]:r;this._cache.has(a)&&this._cache.get(a)!==u&&Ve("[Cache] already has key:",a),this._cache.set(a,i.get(a))})}remove(e){if(!this._cacheMap.has(e)){Ve(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(s=>{this._cache.delete(s)}),r.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const Dr=new gx,ha=[];lt.handleByList(W.TextureSource,ha);function Dp(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let s=0;s<ha.length;s++){const i=ha[s];if(i.test(r))return new i(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function yx(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,s=r?t:{resource:t};if(!e&&Dr.has(n))return Dr.get(n);const i=new Q({source:Dp(s)});return i.on("destroy",()=>{Dr.has(n)&&Dr.remove(n)}),e||Dr.set(n,i),i}function xx(t,e=!1){return typeof t=="string"?Dr.get(t):t instanceof xt?new Q({source:t}):yx(t,e)}Q.from=xx;xt.from=Dp;lt.add(Np,Rp,jp,mx,qi,Ip,xu);var zp=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(zp||{});function ct(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function kn(t){return t.split("?")[0].split("#")[0]}function vx(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _x(t,e,r){return t.replace(new RegExp(vx(e),"g"),r)}function wx(t,e){let r="",n=0,s=-1,i=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(s===l-1||i===1))if(s!==l-1&&i===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",n=0):(r=r.slice(0,a),n=r.length-1-r.lastIndexOf("/")),s=l,i=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,i=0;continue}}}else r.length>0?r+=`/${t.slice(s+1,l)}`:r=t.slice(s+1,l),n=l-s-1;s=l,i=0}else o===46&&i!==-1?++i:i=-1}return r}const _s={toPosix(t){return _x(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ct(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(ct(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=kn(this.toPosix(e??or.get().getBaseUrl())),s=kn(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?_s.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(ct(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=wx(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return ct(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(ct(n),n.length>0)if(e===void 0)e=n;else{const s=t[r-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ct(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const i=this.getProtocol(t),o=t;t=t.slice(i.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(o)?i+t:i:r&&n===1?"//":i+t.slice(0,n)},rootname(t){ct(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ct(t),e&&ct(e),t=kn(this.toPosix(t));let r=0,n=-1,s=!0,i;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(i=t.length-1;i>=0;--i){const a=t.charCodeAt(i);if(a===47){if(!s){r=i+1;break}}else l===-1&&(s=!1,l=i+1),o>=0&&(a===e.charCodeAt(o)?--o===-1&&(n=i):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=0;--i)if(t.charCodeAt(i)===47){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":t.slice(r,n)},extname(t){ct(t),t=kn(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,i=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),l===46?e===-1?e=o:i!==1&&(i=1):e!==-1&&(i=-1)}return e===-1||n===-1||i===0||i===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){ct(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=kn(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let i=-1,o=0,l=-1,a=!0,u=t.length-1,c=0;for(;u>=s;--u){if(r=t.charCodeAt(u),r===47){if(!a){o=u+1;break}continue}l===-1&&(a=!1,l=u+1),r===46?i===-1?i=u:c!==1&&(c=1):i!==-1&&(c=-1)}return i===-1||l===-1||c===0||c===1&&i===l-1&&i===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,i),e.base=t.slice(1,l)):(e.name=t.slice(o,i),e.base=t.slice(o,l)),e.ext=t.slice(i,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Bp(t,e,r,n,s){const i=e[r];for(let o=0;o<i.length;o++){const l=i[o];r<e.length-1?Bp(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function Sx(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(i=>{const o=i.substring(1,i.length-1).split(",");s.push(o)}),Bp(t,s,0,r,n)}else n.push(t);return n}const lh=t=>!Array.isArray(t);class Gp{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return Lr(r||n,i=>typeof i=="string"?i:Array.isArray(i)?i.map(o=>(o==null?void 0:o.src)??o):i!=null&&i.src?i.src:i,!0)}addManifest(e){this._manifest&&Ve("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let s=r;Array.isArray(r)||(s=Object.entries(r).map(([i,o])=>typeof o=="string"||Array.isArray(o)?{alias:i,src:o}:{alias:i,...o})),s.forEach(i=>{const o=i.src,l=i.alias;let a;if(typeof l=="string"){const u=this._createBundleAssetId(e,l);n.push(u),a=[l,u]}else{const u=l.map(c=>this._createBundleAssetId(e,c));n.push(...u),a=[...l,...u]}this.add({...i,alias:a,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=i=>{this.hasKey(i)&&Ve(`[Resolver] already has key: ${i} overwriting`)},Lr(r).forEach(i=>{const{src:o}=i;let{data:l,format:a,loadParser:u,parser:c}=i;const h=Lr(o).map(_=>typeof _=="string"?Sx(_):Array.isArray(_)?_:[_]),f=this.getAlias(i);Array.isArray(f)?f.forEach(n):n(f);const d=[],y=_=>{const v=this._parsers.find(m=>m.test(_));return{...v==null?void 0:v.parse(_),src:_}};h.forEach(_=>{_.forEach(v=>{let m={};if(typeof v!="object"?m=y(v):(l=v.data??l,a=v.format??a,(v.loadParser||v.parser)&&(u=v.loadParser??u,c=v.parser??c),m={...y(v.src),...v}),!f)throw new Error(`[Resolver] alias is undefined for this asset: ${m.src}`);m=this._buildResolvedAsset(m,{aliases:f,data:l,format:a,loadParser:u,parser:c,progressSize:i.progressSize}),d.push(m)})}),f.forEach(_=>{this._assetMap[_]=d})})}resolveBundle(e){const r=lh(e);e=Lr(e);const n={};return e.forEach(s=>{const i=this._bundles[s];if(i){const o=this.resolve(i),l={};for(const a in o){const u=o[a];l[this._extractAssetIdFromBundle(s,a)]=u}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=lh(e);e=Lr(e);const n={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let i=this._assetMap[s];const o=this._getPreferredOrder(i);o==null||o.priority.forEach(l=>{o.params[l].forEach(a=>{const u=i.filter(c=>c[l]?c[l]===a:!1);u.length&&(i=u)})}),this._resolverHash[s]=i[0]}else this._resolverHash[s]=this._buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[r],s=this._preferredOrder.find(i=>i.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:s,loadParser:i,parser:o,format:l,progressSize:a}=r;return(this._basePath||this._rootPath)&&(e.src=_s.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=i??e.loadParser,e.parser=o??e.parser,e.format=l??e.format??bx(e.src),a!==void 0&&(e.progressSize=a),e}}Gp.RETINA_PREFIX=/@([0-9\.]+)x/;function bx(t){return t.split(".").pop().split("?").shift().split("#").shift()}const ah=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},Op=class zn{constructor(e,r){this.linkedSheets=[];let n=e;(e==null?void 0:e.source)instanceof xt&&(n={texture:e,data:r});const{texture:s,data:i,cachePrefix:o=""}=n;this.cachePrefix=o,this._texture=s instanceof Q?s:null,this.textureSource=s.source,this.textures={},this.animations={},this.data=i;const l=parseFloat(i.meta.scale);l?(this.resolution=l,s.source.resolution=this.resolution):this.resolution=s.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=zn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=zn.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],i=this._frames[s],o=i.frame;if(o){let l=null,a=null;const u=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new ge(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);i.rotated?l=new ge(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new ge(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ge(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[s]=new Q({source:this.textureSource,frame:l,orig:c,trim:a,rotate:i.rotated?2:0,defaultAnchor:i.anchor,defaultBorders:i.borders,label:s.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*zn.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*zn.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Op.BATCH_SIZE=1e3;let uh=Op;const Cx=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Up(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[`${e.cachePrefix}${s}`]=e.textures[s]}),!r){const s=_s.dirname(t[0]);e.linkedSheets.forEach((i,o)=>{const l=Up([`${s}/${e.data.meta.related_multi_packs[o]}`],i,!0);Object.assign(n,l)})}return n}const kx={extension:W.Asset,cache:{test:t=>t instanceof uh,getCacheableAssets:(t,e)=>Up(t,e,!1)},resolver:{extension:{type:W.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),s=r.pop();return n==="json"&&Cx.includes(s)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Gp.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:W.LoadParser,priority:zp.Normal,name:"spritesheetLoader"},async testParse(t,e){return _s.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var h,f;const{texture:n,imageFilename:s,textureOptions:i,cachePrefix:o}=(e==null?void 0:e.data)??{};let l=_s.dirname(e.src);l&&l.lastIndexOf("/")!==l.length-1&&(l+="/");let a;if(n instanceof Q)a=n;else{const d=ah(l+(s??t.meta.image),e.src);a=(await r.load([{src:d,data:i}]))[d]}const u=new uh({texture:a.source,data:t,cachePrefix:o});await u.parse();const c=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const d=[];for(const _ of c){if(typeof _!="string")continue;let v=l+_;(f=e.data)!=null&&f.ignoreMultiPack||(v=ah(v,e.src),d.push(r.load({src:v,data:{textureOptions:i,ignoreMultiPack:!0}})))}const y=await Promise.all(d);u.linkedSheets=y,y.forEach(_=>{_.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==_))})}return u},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};lt.add(kx);const nl=Object.create(null),ch=Object.create(null);function _u(t,e){let r=ch[t];return r===void 0&&(nl[e]===void 0&&(nl[e]=1),ch[t]=r=nl[e]++),r}let Ir;function $p(){return(!Ir||Ir!=null&&Ir.isContextLost())&&(Ir=or.get().createCanvas().getContext("webgl",{})),Ir}let ni;function Mx(){if(!ni){ni="mediump";const t=$p();t&&t.getShaderPrecisionFormat&&(ni=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return ni}function Px(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function Tx(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let s=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return s==="highp"&&n!=="highp"&&(s="mediump"),`precision ${s} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function Ex(t,e){return e?`#version 300 es
${t}`:t}const Ax={},Nx={};function Rx(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?Ax:Nx;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function jx(t,e){return e?t.replace("#version 300 es",""):t}const sl={stripVersion:jx,ensurePrecision:Tx,addProgramDefines:Px,setProgramName:Rx,insertVersion:Ex},Mn=Object.create(null),Vp=class da{constructor(e){e={...da.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Mx()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let s=e.fragment,i=e.vertex;Object.keys(sl).forEach(o=>{const l=n[o];s=sl[o](s,l,!0),i=sl[o](i,l,!1)}),this.fragment=s,this.vertex=i,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=_u(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Mn[this._cacheKey]=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return Mn[r]||(Mn[r]=new da(e),Mn[r]._cacheKey=r),Mn[r]}};Vp.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Hp=Vp;const hh={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Ix(t){return hh[t]??hh.float32}const Fx={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Lx({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const s=t.indexOf("->",n);if(s!==-1){const i=t.substring(n,s),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let l;for(;(l=o.exec(i))!==null;){const a=Fx[l[3]]??"float32";r[l[2]]={location:parseInt(l[1],10),format:a,stride:Ix(a).stride,offset:0,instance:!1,start:0}}}}return r}function il(t){var h,f;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,i=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,l=/(\w+)\s*:\s*([\w\<\>]+)/g,a=/struct\s+(\w+)/,u=(h=t.match(e))==null?void 0:h.map(d=>({group:parseInt(d.match(r)[1],10),binding:parseInt(d.match(n)[1],10),name:d.match(s)[2],isUniform:d.match(s)[1]==="<uniform>",type:d.match(i)[1]}));if(!u)return{groups:[],structs:[]};const c=((f=t.match(o))==null?void 0:f.map(d=>{const y=d.match(a)[1],_=d.match(l).reduce((v,m)=>{const[p,x]=m.split(":");return v[p.trim()]=x.trim(),v},{});return _?{name:y,members:_}:null}).filter(({name:d})=>u.some(y=>y.type===d)))??[];return{groups:u,structs:c}}var Bn=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Bn||{});function Dx({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:Bn.VERTEX|Bn.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:Bn.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:Bn.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function zx({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function Bx(t,e){const r=new Set,n=new Set,s=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),i=[...t.groups,...e.groups].filter(o=>{const l=`${o.name}-${o.binding}`;return n.has(l)?!1:(n.add(l),!0)});return{structs:s,groups:i}}const Pn=Object.create(null);class yo{constructor(e){var l,a;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:n,layout:s,gpuLayout:i,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const u=il(r.source);this.structsAndGroups=u}else{const u=il(n.source),c=il(r.source);this.structsAndGroups=Bx(u,c)}this.layout=s??zx(this.structsAndGroups),this.gpuLayout=i??Dx(this.structsAndGroups),this.autoAssignGlobalUniforms=((l=this.layout[0])==null?void 0:l.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((a=this.layout[1])==null?void 0:a.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=_u(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=Lx(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Pn[this._cacheKey]=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Pn[r]||(Pn[r]=new yo(e),Pn[r]._cacheKey=r),Pn[r]}}const Wp=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Gx=Wp.reduce((t,e)=>(t[e]=!0,t),{});function Ox(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Yp=class Xp{constructor(e,r){this._touched=0,this.uid=ue("uniform"),this._resourceType="uniformGroup",this._resourceId=ue("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...Xp.defaultOptions,...r},this.uniformStructures=e;const n={};for(const s in e){const i=e[s];if(i.name=s,i.size=i.size??1,!Gx[i.type]){const o=i.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,l,a]=o;throw new Error(`Uniform type ${i.type} is not supported. Use type: '${l}', size: ${a} instead.`)}throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${Wp.join(", ")}`)}i.value??(i.value=Ox(i.type,i.size)),n[s]=i.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=_u(Object.keys(n).map(s=>`${s}-${e[s].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Yp.defaultOptions={ubo:!1,isStatic:!1};let qp=Yp;class bi{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const s=e[n];this.setResource(s,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var s,i;const n=this.resources[r];e!==n&&(n&&((s=e.off)==null||s.call(e,"change",this.onResourceChange,this)),(i=e.on)==null||i.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e,r){const n=this.resources;for(const s in n)n[s]._gcLastUsed=e,n[s]._touched=r}destroy(){var r;const e=this.resources;for(const n in e){const s=e[n];(r=s==null?void 0:s.off)==null||r.call(s,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var fa=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(fa||{});class wu extends Gt{constructor(e){super(),this.uid=ue("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:r,glProgram:n,groups:s,resources:i,compatibleRenderers:o,groupMap:l}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=fa.WEBGPU),n&&(o|=fa.WEBGL)),this.compatibleRenderers=o;const a={};if(!i&&!s&&(i={}),i&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&s&&!l)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&s&&l)for(const u in l)for(const c in l[u]){const h=l[u][c];a[h]={group:u,binding:c,name:h}}else if(r&&s&&!l){const u=r.structsAndGroups.groups;l={},u.forEach(c=>{l[c.group]=l[c.group]||{},l[c.group][c.binding]=c.name,a[c.name]=c})}else if(i){s={},l={},r&&r.structsAndGroups.groups.forEach(h=>{l[h.group]=l[h.group]||{},l[h.group][h.binding]=h.name,a[h.name]=h});let u=0;for(const c in i)a[c]||(s[99]||(s[99]=new bi,this._ownedBindGroups.push(s[99])),a[c]={group:99,binding:u,name:c},l[99]=l[99]||{},l[99][u]=c,u++);for(const c in i){const h=c;let f=i[c];!f.source&&!f._resourceType&&(f=new qp(f));const d=a[h];d&&(s[d.group]||(s[d.group]=new bi,this._ownedBindGroups.push(s[d.group])),s[d.group].setResource(f,d.binding))}}this.groups=s,this._uniformBindMap=l,this.resources=this._buildResourceAccessor(s,a)}addResource(e,r,n){var s,i;(s=this._uniformBindMap)[r]||(s[r]={}),(i=this._uniformBindMap[r])[n]||(i[n]=e),this.groups[r]||(this.groups[r]=new bi,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const s in r){const i=r[s];Object.defineProperty(n,i.name,{get(){return e[i.group].getResource(i.binding)},set(o){e[i.group].setResource(o,i.binding)}})}return n}destroy(e=!1){var r,n;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(s=>{s.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:r,gl:n,...s}=e;let i,o;return r&&(i=yo.from(r)),n&&(o=Hp.from(n)),new wu({gpuProgram:i,glProgram:o,...s})}}const pa=[];lt.handleByNamedList(W.Environment,pa);async function Ux(t){if(!t)for(let e=0;e<pa.length;e++){const r=pa[e];if(r.value.test()){await r.value.load();return}}}let Tn;function $x(){if(typeof Tn=="boolean")return Tn;try{Tn=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Tn=!1}return Tn}function dh(t,e,r=2){const n=e&&e.length,s=n?e[0]*r:t.length;let i=Qp(t,0,s,r,!0);const o=[];if(!i||i.next===i.prev)return o;let l,a,u;if(n&&(i=Xx(t,e,i,r)),t.length>80*r){l=t[0],a=t[1];let c=l,h=a;for(let f=r;f<s;f+=r){const d=t[f],y=t[f+1];d<l&&(l=d),y<a&&(a=y),d>c&&(c=d),y>h&&(h=y)}u=Math.max(c-l,h-a),u=u!==0?32767/u:0}return ws(i,o,r,l,a,u,0),o}function Qp(t,e,r,n,s){let i;if(s===iv(t,e,r,n)>0)for(let o=e;o<r;o+=n)i=fh(o/n|0,t[o],t[o+1],i);else for(let o=r-n;o>=e;o-=n)i=fh(o/n|0,t[o],t[o+1],i);return i&&dn(i,i.next)&&(bs(i),i=i.next),i}function Tr(t,e){if(!t)return t;e||(e=t);let r=t,n;do if(n=!1,!r.steiner&&(dn(r,r.next)||ne(r.prev,r,r.next)===0)){if(bs(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function ws(t,e,r,n,s,i,o){if(!t)return;!o&&i&&Jx(t,n,s,i);let l=t;for(;t.prev!==t.next;){const a=t.prev,u=t.next;if(i?Hx(t,n,s,i):Vx(t)){e.push(a.i,t.i,u.i),bs(t),t=u.next,l=u.next;continue}if(t=u,t===l){o?o===1?(t=Wx(Tr(t),e),ws(t,e,r,n,s,i,2)):o===2&&Yx(t,e,r,n,s,i):ws(Tr(t),e,r,n,s,i,1);break}}}function Vx(t){const e=t.prev,r=t,n=t.next;if(ne(e,r,n)>=0)return!1;const s=e.x,i=r.x,o=n.x,l=e.y,a=r.y,u=n.y,c=Math.min(s,i,o),h=Math.min(l,a,u),f=Math.max(s,i,o),d=Math.max(l,a,u);let y=n.next;for(;y!==e;){if(y.x>=c&&y.x<=f&&y.y>=h&&y.y<=d&&Gn(s,l,i,a,o,u,y.x,y.y)&&ne(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Hx(t,e,r,n){const s=t.prev,i=t,o=t.next;if(ne(s,i,o)>=0)return!1;const l=s.x,a=i.x,u=o.x,c=s.y,h=i.y,f=o.y,d=Math.min(l,a,u),y=Math.min(c,h,f),_=Math.max(l,a,u),v=Math.max(c,h,f),m=ma(d,y,e,r,n),p=ma(_,v,e,r,n);let x=t.prevZ,w=t.nextZ;for(;x&&x.z>=m&&w&&w.z<=p;){if(x.x>=d&&x.x<=_&&x.y>=y&&x.y<=v&&x!==s&&x!==o&&Gn(l,c,a,h,u,f,x.x,x.y)&&ne(x.prev,x,x.next)>=0||(x=x.prevZ,w.x>=d&&w.x<=_&&w.y>=y&&w.y<=v&&w!==s&&w!==o&&Gn(l,c,a,h,u,f,w.x,w.y)&&ne(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;x&&x.z>=m;){if(x.x>=d&&x.x<=_&&x.y>=y&&x.y<=v&&x!==s&&x!==o&&Gn(l,c,a,h,u,f,x.x,x.y)&&ne(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;w&&w.z<=p;){if(w.x>=d&&w.x<=_&&w.y>=y&&w.y<=v&&w!==s&&w!==o&&Gn(l,c,a,h,u,f,w.x,w.y)&&ne(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Wx(t,e){let r=t;do{const n=r.prev,s=r.next.next;!dn(n,s)&&Zp(n,r,r.next,s)&&Ss(n,s)&&Ss(s,n)&&(e.push(n.i,r.i,s.i),bs(r),bs(r.next),r=t=s),r=r.next}while(r!==t);return Tr(r)}function Yx(t,e,r,n,s,i){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&rv(o,l)){let a=Jp(o,l);o=Tr(o,o.next),a=Tr(a,a.next),ws(o,e,r,n,s,i,0),ws(a,e,r,n,s,i,0);return}l=l.next}o=o.next}while(o!==t)}function Xx(t,e,r,n){const s=[];for(let i=0,o=e.length;i<o;i++){const l=e[i]*n,a=i<o-1?e[i+1]*n:t.length,u=Qp(t,l,a,n,!1);u===u.next&&(u.steiner=!0),s.push(tv(u))}s.sort(qx);for(let i=0;i<s.length;i++)r=Qx(s[i],r);return r}function qx(t,e){let r=t.x-e.x;if(r===0&&(r=t.y-e.y,r===0)){const n=(t.next.y-t.y)/(t.next.x-t.x),s=(e.next.y-e.y)/(e.next.x-e.x);r=n-s}return r}function Qx(t,e){const r=Kx(t,e);if(!r)return e;const n=Jp(r,t);return Tr(n,n.next),Tr(r,r.next)}function Kx(t,e){let r=e;const n=t.x,s=t.y;let i=-1/0,o;if(dn(t,r))return r;do{if(dn(t,r.next))return r.next;if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){const h=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=n&&h>i&&(i=h,o=r.x<r.next.x?r:r.next,h===n))return o}r=r.next}while(r!==e);if(!o)return null;const l=o,a=o.x,u=o.y;let c=1/0;r=o;do{if(n>=r.x&&r.x>=a&&n!==r.x&&Kp(s<u?n:i,s,a,u,s<u?i:n,s,r.x,r.y)){const h=Math.abs(s-r.y)/(n-r.x);Ss(r,t)&&(h<c||h===c&&(r.x>o.x||r.x===o.x&&Zx(o,r)))&&(o=r,c=h)}r=r.next}while(r!==l);return o}function Zx(t,e){return ne(t.prev,t,e.prev)<0&&ne(e.next,t,t.next)<0}function Jx(t,e,r,n){let s=t;do s.z===0&&(s.z=ma(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,ev(s)}function ev(t){let e,r=1;do{let n=t,s;t=null;let i=null;for(e=0;n;){e++;let o=n,l=0;for(let u=0;u<r&&(l++,o=o.nextZ,!!o);u++);let a=r;for(;l>0||a>0&&o;)l!==0&&(a===0||!o||n.z<=o.z)?(s=n,n=n.nextZ,l--):(s=o,o=o.nextZ,a--),i?i.nextZ=s:t=s,s.prevZ=i,i=s;n=o}i.nextZ=null,r*=2}while(e>1);return t}function ma(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tv(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Kp(t,e,r,n,s,i,o,l){return(s-o)*(e-l)>=(t-o)*(i-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(i-l)>=(s-o)*(n-l)}function Gn(t,e,r,n,s,i,o,l){return!(t===o&&e===l)&&Kp(t,e,r,n,s,i,o,l)}function rv(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nv(t,e)&&(Ss(t,e)&&Ss(e,t)&&sv(t,e)&&(ne(t.prev,t,e.prev)||ne(t,e.prev,e))||dn(t,e)&&ne(t.prev,t,t.next)>0&&ne(e.prev,e,e.next)>0)}function ne(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function dn(t,e){return t.x===e.x&&t.y===e.y}function Zp(t,e,r,n){const s=ii(ne(t,e,r)),i=ii(ne(t,e,n)),o=ii(ne(r,n,t)),l=ii(ne(r,n,e));return!!(s!==i&&o!==l||s===0&&si(t,r,e)||i===0&&si(t,n,e)||o===0&&si(r,t,n)||l===0&&si(r,e,n))}function si(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function ii(t){return t>0?1:t<0?-1:0}function nv(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Zp(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ss(t,e){return ne(t.prev,t,t.next)<0?ne(t,e,t.next)>=0&&ne(t,t.prev,e)>=0:ne(t,e,t.prev)<0||ne(t,t.next,e)<0}function sv(t,e){let r=t,n=!1;const s=(t.x+e.x)/2,i=(t.y+e.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&s<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Jp(t,e){const r=ga(t.i,t.x,t.y),n=ga(e.i,e.x,e.y),s=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function fh(t,e,r,n){const s=ga(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function bs(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ga(t,e,r){return{i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function iv(t,e,r,n){let s=0;for(let i=e,o=r-n;i<r;i+=n)s+=(t[o]-t[i])*(t[i+1]+t[o+1]),o=i;return s}const ov=dh.default||dh;var em=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(em||{});class lv{constructor(e){this.items=[],this._name=e}emit(e,r,n,s,i,o,l,a){const{name:u,items:c}=this;for(let h=0,f=c.length;h<f;h++)c[h][u](e,r,n,s,i,o,l,a);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const av=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],tm=class rm extends Gt{constructor(e){super(),this.tick=0,this.uid=ue("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...av,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Ux(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...rm.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){this.tick++;let n=e;if(n instanceof ir&&(n={container:n},r&&(Y(he,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor??(n.clearColor=this.background.colorRgba),n.clear??(n.clear=this.background.clearBeforeRender)),n.clearColor){const s=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=s?n.clearColor:nt.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.visible&&(n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n))}resize(e,r,n){const s=this.view.resolution;this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==s&&this.runners.resolutionChange.emit(n)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=em.ALL);const{clear:n,clearColor:s,target:i}=e;nt.shared.setValue(s??this.background.colorRgba),r.renderTarget.clear(i,n,nt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new lv(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}_addPipes(e,r){const n=r.reduce((s,i)=>(s[i.name]=i.value,s),{});e.forEach(s=>{const i=s.value,o=s.name,l=n[o];this.renderPipes[o]=new i(this,l?new l:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&mo.release(),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!$x())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};tm.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let nm=tm,oi;function uv(t){return oi!==void 0||(oi=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??nm.defaultOptions.failIfMajorPerformanceCaveat};try{if(!or.get().getWebGLRenderingContext())return!1;let s=or.get().createCanvas().getContext("webgl",e);const i=!!((r=s==null?void 0:s.getContextAttributes())!=null&&r.stencil);if(s){const o=s.getExtension("WEBGL_lose_context");o&&o.loseContext()}return s=null,i}catch{return!1}})()),oi}let li;async function cv(t={}){return li!==void 0||(li=await(async()=>{const e=or.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),li}const ph=["webgl","webgpu","canvas"];async function hv(t){let e=[];t.preference?(e.push(t.preference),ph.forEach(i=>{i!==t.preference&&e.push(i)})):e=ph.slice();let r,n={};for(let i=0;i<e.length;i++){const o=e[i];if(o==="webgpu"&&await cv()){const{WebGPURenderer:l}=await Xi(async()=>{const{WebGPURenderer:a}=await import("./WebGPURenderer-MFJ2y2dx.js");return{WebGPURenderer:a}},__vite__mapDeps([4,2,5,3]),import.meta.url);r=l,n={...t,...t.webgpu};break}else if(o==="webgl"&&uv(t.failIfMajorPerformanceCaveat??nm.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:l}=await Xi(async()=>{const{WebGLRenderer:a}=await import("./WebGLRenderer-DC6NA6b_.js");return{WebGLRenderer:a}},__vite__mapDeps([6,2,5]),import.meta.url);r=l,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const s=new r;return await s.init(n),s}const sm="8.15.0";class im{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,sm)}static destroy(){}}im.extension=W.Application;class dv{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,sm)}destroy(){this._renderer=null}}dv.extension={type:[W.WebGLSystem,W.WebGPUSystem],name:"initHook",priority:-10};const om=class ya{constructor(...e){this.stage=new ir,e[0]!==void 0&&Y(he,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new ir),this.renderer=await hv(e),ya._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Y(he,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=ya._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};om._plugins=[];let lm=om;lt.handleByList(W.Application,lm._plugins);lt.add(im);const mh=[{offset:0,color:"white"},{offset:1,color:"black"}],Su=class xa{constructor(...e){this.uid=ue("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let r=fv(e);r={...r.type==="radial"?xa.defaultRadialOptions:xa.defaultLinearOptions,...cp(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,r.type==="radial"?(this.center=r.center,this.outerCenter=r.outerCenter??this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation):(this.start=r.start,this.end=r.end),this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(s=>{this.addColorStop(s.offset,s.color)})}addColorStop(e,r){return this.colorStops.push({offset:e,color:nt.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:r}=this.start,{x:n,y:s}=this.end,i=n-e,o=s-r;const l=i<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(i<0){const v=e;e=n,n=v,i*=-1}if(o<0){const v=r;r=s,s=v,o*=-1}}const a=this.colorStops.length?this.colorStops:mh,u=this._textureSize,{canvas:c,context:h}=yh(u,1),f=l?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);gh(f,a),h.fillStyle=f,h.fillRect(0,0,u,1),this.texture=new Q({source:new qi({resource:c,addressMode:this._wrapMode})});const d=Math.sqrt(i*i+o*o),y=Math.atan2(o,i),_=new G;_.scale(d/u,1),_.rotate(y),_.translate(e,r),this.textureSpace==="local"&&_.scale(u,u),this.transform=_}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:mh,r=this._textureSize,{canvas:n,context:s}=yh(r,r),{x:i,y:o}=this.center,{x:l,y:a}=this.outerCenter,u=this.innerRadius,c=this.outerRadius,h=l-c,f=a-c,d=r/(c*2),y=(i-h)*d,_=(o-f)*d,v=s.createRadialGradient(y,_,u*d,(l-h)*d,(a-f)*d,c*d);gh(v,e),s.fillStyle=e[e.length-1].color,s.fillRect(0,0,r,r),s.fillStyle=v,s.translate(y,_),s.rotate(this.rotation),s.scale(1,this.scale),s.translate(-y,-_),s.fillRect(0,0,r,r),this.texture=new Q({source:new qi({resource:n,addressMode:this._wrapMode})});const m=new G;m.scale(1/d,1/d),m.translate(h,f),this.textureSpace==="local"&&m.scale(r,r),this.transform=m}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Su.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Su.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ns=Su;function gh(t,e){for(let r=0;r<e.length;r++){const n=e[r];t.addColorStop(n.offset,n.color)}}function yh(t,e){const r=or.get().createCanvas(t,e),n=r.getContext("2d");return{canvas:r,context:n}}function fv(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(Y("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??Ns.defaultLinearOptions.textureSize}),e}const xh={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class pv{constructor(e,r){this.uid=ue("fillPattern"),this._tick=0,this.transform=new G,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=xh[r].addressModeU,e.source.style.addressModeV=xh[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var mv=yv,ol={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},gv=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function yv(t){var e=[];return t.replace(gv,function(r,n,s){var i=n.toLowerCase();for(s=vv(s),i=="m"&&s.length>2&&(e.push([n].concat(s.splice(0,2))),i="l",n=n=="m"?"l":"L");;){if(s.length==ol[i])return s.unshift(n),e.push(s);if(s.length<ol[i])throw new Error("malformed path data");e.push([n].concat(s.splice(0,ol[i])))}}),e}var xv=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function vv(t){var e=t.match(xv);return e?e.map(Number):[]}const _v=Sa(mv);function wv(t,e){const r=_v(t),n=[];let s=null,i=0,o=0;for(let l=0;l<r.length;l++){const a=r[l],u=a[0],c=a;switch(u){case"M":i=c[1],o=c[2],e.moveTo(i,o);break;case"m":i+=c[1],o+=c[2],e.moveTo(i,o);break;case"H":i=c[1],e.lineTo(i,o);break;case"h":i+=c[1],e.lineTo(i,o);break;case"V":o=c[1],e.lineTo(i,o);break;case"v":o+=c[1],e.lineTo(i,o);break;case"L":i=c[1],o=c[2],e.lineTo(i,o);break;case"l":i+=c[1],o+=c[2],e.lineTo(i,o);break;case"C":i=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],i,o);break;case"c":e.bezierCurveTo(i+c[1],o+c[2],i+c[3],o+c[4],i+c[5],o+c[6]),i+=c[5],o+=c[6];break;case"S":i=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],i,o);break;case"s":e.bezierCurveToShort(i+c[1],o+c[2],i+c[3],o+c[4]),i+=c[3],o+=c[4];break;case"Q":i=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],i,o);break;case"q":e.quadraticCurveTo(i+c[1],o+c[2],i+c[3],o+c[4]),i+=c[3],o+=c[4];break;case"T":i=c[1],o=c[2],e.quadraticCurveToShort(i,o);break;case"t":i+=c[1],o+=c[2],e.quadraticCurveToShort(i,o);break;case"A":i=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],i,o);break;case"a":i+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],i,o);break;case"Z":case"z":e.closePath(),n.length>0&&(s=n.pop(),s?(i=s.startX,o=s.startY):(i=0,o=0)),s=null;break;default:Ve(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&s===null&&(s={startX:i,startY:o},n.push(s))}return e}class bu{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new bu(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,i=this.y-r;return s*=s,i*=i,s+i<=n}strokeContains(e,r,n,s=.5){if(this.radius===0)return!1;const i=this.x-e,o=this.y-r,l=this.radius,a=(1-s)*n,u=Math.sqrt(i*i+o*o);return u<=l+a&&u>l-(n-a)}getBounds(e){return e||(e=new ge),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Cu{constructor(e=0,r=0,n=0,s=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=s}clone(){return new Cu(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,s=(r-this.y)/this.halfHeight;return n*=n,s*=s,n+s<=1}strokeContains(e,r,n,s=.5){const{halfWidth:i,halfHeight:o}=this;if(i<=0||o<=0)return!1;const l=n*(1-s),a=n-l,u=i-a,c=o-a,h=i+l,f=o+l,d=e-this.x,y=r-this.y,_=d*d/(u*u)+y*y/(c*c),v=d*d/(h*h)+y*y/(f*f);return _>1&&v<=1}getBounds(e){return e||(e=new ge),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Sv(t,e,r,n,s,i){const o=t-r,l=e-n,a=s-r,u=i-n,c=o*a+l*u,h=a*a+u*u;let f=-1;h!==0&&(f=c/h);let d,y;f<0?(d=r,y=n):f>1?(d=s,y=i):(d=r+f*a,y=n+f*u);const _=t-d,v=e-y;return _*_+v*v}let bv,Cv;class Jn{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,i=r.length;s<i;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.closePath=!0}isClockwise(){let e=0;const r=this.points,n=r.length;for(let s=0;s<n;s+=2){const i=r[s],o=r[s+1],l=r[(s+2)%n],a=r[(s+3)%n];e+=(l-i)*(a+o)}return e<0}containsPolygon(e){const r=this.getBounds(bv),n=e.getBounds(Cv);if(!r.containsRect(n))return!1;const s=e.points;for(let i=0;i<s.length;i+=2){const o=s[i],l=s[i+1];if(!this.contains(o,l))return!1}return!0}clone(){const e=this.points.slice(),r=new Jn(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let i=0,o=s-1;i<s;o=i++){const l=this.points[i*2],a=this.points[i*2+1],u=this.points[o*2],c=this.points[o*2+1];a>r!=c>r&&e<(u-l)*((r-a)/(c-a))+l&&(n=!n)}return n}strokeContains(e,r,n,s=.5){const i=n*n,o=i*(1-s),l=i-o,{points:a}=this,u=a.length-(this.closePath?0:2);for(let c=0;c<u;c+=2){const h=a[c],f=a[c+1],d=a[(c+2)%a.length],y=a[(c+3)%a.length],_=Sv(e,r,h,f,d,y),v=Math.sign((d-h)*(r-f)-(y-f)*(e-h));if(_<=(v<0?l:o))return!0}return!1}getBounds(e){e||(e=new ge);const r=this.points;let n=1/0,s=-1/0,i=1/0,o=-1/0;for(let l=0,a=r.length;l<a;l+=2){const u=r[l],c=r[l+1];n=u<n?u:n,s=u>s?u:s,i=c<i?c:i,o=c>o?c:o}return e.x=n,e.width=s-n,e.y=i,e.height=o-i,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Y("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Y("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ai=(t,e,r,n,s,i,o)=>{const l=t-r,a=e-n,u=Math.sqrt(l*l+a*a);return u>=s-i&&u<=s+o};class ku{constructor(e=0,r=0,n=0,s=0,i=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=s,this.radius=i}getBounds(e){return e||(e=new ge),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new ku(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),i=r-(this.y+n);const o=n*n;if(s*s+i*i<=o||(s=e-(this.x+this.width-n),s*s+i*i<=o)||(i=r-(this.y+this.height-n),s*s+i*i<=o)||(s=e-(this.x+n),s*s+i*i<=o))return!0}return!1}strokeContains(e,r,n,s=.5){const{x:i,y:o,width:l,height:a,radius:u}=this,c=n*(1-s),h=n-c,f=i+u,d=o+u,y=l-u*2,_=a-u*2,v=i+l,m=o+a;return(e>=i-c&&e<=i+h||e>=v-h&&e<=v+c)&&r>=d&&r<=d+_||(r>=o-c&&r<=o+h||r>=m-h&&r<=m+c)&&e>=f&&e<=f+y?!0:e<f&&r<d&&ai(e,r,f,d,u,h,c)||e>v-u&&r<d&&ai(e,r,v-u,d,u,h,c)||e>v-u&&r>m-u&&ai(e,r,v-u,m-u,u,h,c)||e<f&&r>m-u&&ai(e,r,f,m-u,u,h,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const am={};function kv(t,e,r){let n=2166136261;for(let s=0;s<e;s++)n^=t[s].uid,n=Math.imul(n,16777619),n>>>=0;return am[n]||Mv(t,e,n,r)}function Mv(t,e,r,n){const s={};let i=0;for(let l=0;l<n;l++){const a=l<e?t[l]:Q.EMPTY.source;s[i++]=a.source,s[i++]=a.style}const o=new bi(s);return am[r]=o,o}class vh{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function _h(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const i=t.byteLength-r*8;if(i>0){const o=new Uint8Array(t,r*8,i);new Uint8Array(e,r*8,i).set(o)}}const Pv={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Tv=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(Tv||{});function wh(t,e){return e.alphaMode==="no-premultiply-alpha"&&Pv[t]||t}const Ev=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Av(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Nv(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=Ev.replace(/%forloop%/gi,Av(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(r)}return t}let Fr=null;function Rv(){var e;if(Fr)return Fr;const t=$p();return Fr=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Fr=Nv(Fr,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Fr}class jv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class Iv{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new jv,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const es=[];let Qi=0;mo.register({clear:()=>{if(es.length>0)for(const t of es)t&&t.destroy();es.length=0,Qi=0}});function Sh(){return Qi>0?es[--Qi]:new Iv}function bh(t){es[Qi++]=t}let En=0;const um=class cm{constructor(e){this.uid=ue("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...cm.defaultOptions,...e},e.maxTextures||(Y("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=Rv());const{maxTextures:r,attributesInitialSize:n,indicesInitialSize:s}=e;this.attributeBuffer=new vh(n*4),this.indexBuffer=new Uint16Array(s),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)bh(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const n=e._batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let n=Sh(),s=n.textures;s.clear();const i=r[this.elementStart];let o=wh(i.blendMode,i.texture._source),l=i.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const a=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,c=this.indexBuffer;let h=this._batchIndexSize,f=this._batchIndexStart,d="startBatch";const y=this.maxTextures;for(let _=this.elementStart;_<this.elementSize;++_){const v=r[_];r[_]=null;const p=v.texture._source,x=wh(v.blendMode,p),w=o!==x||l!==v.topology;if(p._batchTick===En&&!w){v._textureId=p._textureBindLocation,h+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,a,u,v._attributeStart,v._textureId),this.packQuadIndex(c,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,a,u,v._attributeStart,v._textureId),this.packIndex(v,c,v._indexStart,v._attributeStart/this.vertexSize)),v._batch=n;continue}p._batchTick=En,(s.count>=y||w)&&(this._finishBatch(n,f,h-f,s,o,l,e,d),d="renderBatch",f=h,o=x,l=v.topology,n=Sh(),s=n.textures,s.clear(),++En),v._textureId=p._textureBindLocation=s.count,s.ids[p.uid]=s.count,s.textures[s.count++]=p,v._batch=n,h+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,a,u,v._attributeStart,v._textureId),this.packQuadIndex(c,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,a,u,v._attributeStart,v._textureId),this.packIndex(v,c,v._indexStart,v._attributeStart/this.vertexSize))}s.count>0&&(this._finishBatch(n,f,h-f,s,o,l,e,d),f=h,++En),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=h}_finishBatch(e,r,n,s,i,o,l,a){e.gpuBindGroup=null,e.bindGroup=null,e.action=a,e.batcher=this,e.textures=s,e.blendMode=i,e.topology=o,e.start=r,e.size=n,++En,this.batches[this.batchIndex++]=e,l.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new vh(r);_h(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const s=n>65535?new Uint32Array(n):new Uint16Array(n);if(s.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let i=0;i<r.length;i++)s[i]=r[i];else _h(r.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}packIndex(e,r,n,s){const i=e.indices,o=e.indexSize,l=e.indexOffset,a=e.attributeOffset;for(let u=0;u<o;u++)r[n++]=s+i[u+l]-a}destroy(e={}){var r;if(this.batches!==null){for(let n=0;n<this.batchIndex;n++)bh(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&((r=this.shader)==null||r.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};um.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Fv=um;var Fe=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Fe||{});class Cs extends Gt{constructor(e){let{data:r,size:n}=e;const{usage:s,label:i,shrinkToFit:o}=e;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=ue("buffer"),this._resourceType="buffer",this._resourceId=ue("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n??(n=r==null?void 0:r.byteLength);const l=!!r;this.descriptor={size:n,usage:s,mappedAtCreation:l,label:i},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Fe.STATIC)}set static(e){e?this.descriptor.usage|=Fe.STATIC:this.descriptor.usage&=~Fe.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const s=this._data;if(this._data=e,this._dataInt32=null,!s||s.length!==e.length){!this.shrinkToFit&&s&&e.byteLength<s.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=ue("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}unload(){var e;this.emit("unload",this);for(const r in this._gpuData)(e=this._gpuData[r])==null||e.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function hm(t,e){if(!(t instanceof Cs)){let r=e?Fe.INDEX:Fe.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=Fe.INDEX|Fe.COPY_DST):(t=new Float32Array(t),r=Fe.VERTEX|Fe.COPY_DST)),t=new Cs({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function Lv(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const s=n.buffer.data;let i=1/0,o=1/0,l=-1/0,a=-1/0;const u=s.BYTES_PER_ELEMENT,c=(n.offset||0)/u,h=(n.stride||2*4)/u;for(let f=c;f<s.length;f+=h){const d=s[f],y=s[f+1];d>l&&(l=d),y>a&&(a=y),d<i&&(i=d),y<o&&(o=y)}return r.minX=i,r.minY=o,r.maxX=l,r.maxY=a,r}function Dv(t){return(t instanceof Cs||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=hm(t.buffer,!1),t}class zv extends Gt{constructor(e={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=ue("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new yt,this._boundsDirty=!0;const{attributes:r,indexBuffer:n,topology:s}=e;if(this.buffers=[],this.attributes={},r)for(const i in r)this.addAttribute(i,r[i]);this.instanceCount=e.instanceCount??1,n&&this.addIndex(n),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const n=Dv(r);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=hm(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Lv(this,"aPosition",this._bounds)):this._bounds}unload(){var e;this.emit("unload",this);for(const r in this._gpuData)(e=this._gpuData[r])==null||e.destroy();this._gpuData=Object.create(null)}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.unload(),(r=this.indexBuffer)==null||r.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Bv=new Float32Array(1),Gv=new Uint32Array(1);class Ov extends zv{constructor(){const r=new Cs({data:Bv,label:"attribute-batch-buffer",usage:Fe.VERTEX|Fe.COPY_DST,shrinkToFit:!1}),n=new Cs({data:Gv,label:"index-batch-buffer",usage:Fe.INDEX|Fe.COPY_DST,shrinkToFit:!1}),s=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:s,offset:0},aUV:{buffer:r,format:"float32x2",stride:s,offset:2*4},aColor:{buffer:r,format:"unorm8x4",stride:s,offset:4*4},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:s,offset:5*4}},indexBuffer:n})}}function Ch(t,e,r){if(t)for(const n in t){const s=n.toLocaleLowerCase(),i=e[s];if(i){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&i.push(`//----${r}----//`),i.push(o)}else Ve(`${n} placement hook does not exist in shader`)}}const Uv=/\{\{(.*?)\}\}/g;function kh(t){var n;const e={};return(((n=t.match(Uv))==null?void 0:n.map(s=>s.replace(/[{()}]/g,"")))??[]).forEach(s=>{e[s]=[]}),e}function Mh(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function Ph(t,e,r=!1){const n=[];Mh(e,n),t.forEach(l=>{l.header&&Mh(l.header,n)});const s=n;r&&s.sort();const i=s.map((l,a)=>`       @location(${a}) ${l},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${i}
`),o}function Th(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function $v(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function Vv(t){const e=/@.*?\s+/g;return t.replace(e,"")}function Hv(t,e){const r=[];Th(e,r),t.forEach(a=>{a.header&&Th(a.header,r)});let n=0;const s=r.sort().map(a=>a.indexOf("builtin")>-1?a:`@location(${n++}) ${a}`).join(`,
`),i=r.sort().map(a=>`       var ${Vv(a)};`).join(`
`),o=`return VSOutput(
            ${r.sort().map(a=>` ${$v(a)}`).join(`,
`)});`;let l=e.replace(/@out\s+[^;]+;\s*/g,"");return l=l.replace("{{struct}}",`
${s}
`),l=l.replace("{{start}}",`
${i}
`),l=l.replace("{{return}}",`
${o}
`),l}function Eh(t,e){let r=t;for(const n in e){const s=e[n];s.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${s.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const Xt=Object.create(null),ll=new Map;let Wv=0;function Yv({template:t,bits:e}){const r=dm(t,e);if(Xt[r])return Xt[r];const{vertex:n,fragment:s}=qv(t,e);return Xt[r]=fm(n,s,e),Xt[r]}function Xv({template:t,bits:e}){const r=dm(t,e);return Xt[r]||(Xt[r]=fm(t.vertex,t.fragment,e)),Xt[r]}function qv(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let s=Ph(r,t.vertex,!0);s=Hv(r,s);const i=Ph(n,t.fragment,!0);return{vertex:s,fragment:i}}function dm(t,e){return e.map(r=>(ll.has(r)||ll.set(r,Wv++),ll.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function fm(t,e,r){const n=kh(t),s=kh(e);return r.forEach(i=>{Ch(i.vertex,n,i.name),Ch(i.fragment,s,i.name)}),{vertex:Eh(t,n),fragment:Eh(e,s)}}const Qv=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Kv=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Zv=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Jv=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,e_={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},t_={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function r_({bits:t,name:e}){const r=Yv({template:{fragment:Kv,vertex:Qv},bits:[e_,...t]});return yo.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function n_({bits:t,name:e}){return new Hp({name:e,...Xv({template:{vertex:Zv,fragment:Jv},bits:[t_,...t]})})}const s_={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},i_={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},al={};function o_(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function l_(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function a_(t){return al[t]||(al[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${o_(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${l_(t)}
            `}}),al[t]}const ul={};function u_(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function c_(t){return ul[t]||(ul[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${u_(t)}
            `}}),ul[t]}const h_={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},d_={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ah={};function f_(t){let e=Ah[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=Ah[t]=new qp({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class Nh extends wu{constructor(e){const r=n_({name:"batch",bits:[i_,c_(e),d_]}),n=r_({name:"batch",bits:[s_,a_(e),h_]});super({glProgram:r,gpuProgram:n,resources:{batchSamplers:f_(e)}}),this.maxTextures=e}}let An=null;const pm=class mm extends Fv{constructor(e){super(e),this.geometry=new Ov,this.name=mm.extension.name,this.vertexSize=6,An??(An=new Nh(e.maxTextures)),this.shader=An}packAttributes(e,r,n,s,i){const o=i<<16|e.roundPixels&65535,l=e.transform,a=l.a,u=l.b,c=l.c,h=l.d,f=l.tx,d=l.ty,{positions:y,uvs:_}=e,v=e.color,m=e.attributeOffset,p=m+e.attributeSize;for(let x=m;x<p;x++){const w=x*2,C=y[w],b=y[w+1];r[s++]=a*C+c*b+f,r[s++]=h*b+u*C+d,r[s++]=_[w],r[s++]=_[w+1],n[s++]=v,n[s++]=o}}packQuadAttributes(e,r,n,s,i){const o=e.texture,l=e.transform,a=l.a,u=l.b,c=l.c,h=l.d,f=l.tx,d=l.ty,y=e.bounds,_=y.maxX,v=y.minX,m=y.maxY,p=y.minY,x=o.uvs,w=e.color,C=i<<16|e.roundPixels&65535;r[s+0]=a*v+c*p+f,r[s+1]=h*p+u*v+d,r[s+2]=x.x0,r[s+3]=x.y0,n[s+4]=w,n[s+5]=C,r[s+6]=a*_+c*p+f,r[s+7]=h*p+u*_+d,r[s+8]=x.x1,r[s+9]=x.y1,n[s+10]=w,n[s+11]=C,r[s+12]=a*_+c*m+f,r[s+13]=h*m+u*_+d,r[s+14]=x.x2,r[s+15]=x.y2,n[s+16]=w,n[s+17]=C,r[s+18]=a*v+c*m+f,r[s+19]=h*m+u*v+d,r[s+20]=x.x3,r[s+21]=x.y3,n[s+22]=w,n[s+23]=C}_updateMaxTextures(e){this.shader.maxTextures!==e&&(An=new Nh(e),this.shader=An)}destroy(){this.shader=null,super.destroy()}};pm.extension={type:[W.Batcher],name:"default"};let p_=pm;class m_{constructor(e){this.items=Object.create(null);const{renderer:r,type:n,onUnload:s,priority:i,name:o}=e;this._renderer=r,r.gc.addResourceHash(this,"items",n,i??0),this._onUnload=s,this.name=o}add(e){return this.items[e.uid]?!1:(this.items[e.uid]=e,e.once("unload",this.remove,this),e._gcLastUsed=this._renderer.gc.now,!0)}remove(e,...r){var s;if(!this.items[e.uid])return;const n=e._gpuData[this._renderer.uid];n&&((s=this._onUnload)==null||s.call(this,e,...r),n.destroy(),e._gpuData[this._renderer.uid]=null,this.items[e.uid]=null)}removeAll(...e){Object.values(this.items).forEach(r=>r&&this.remove(r,...e))}destroy(...e){this.removeAll(...e),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function g_(t,e,r,n,s,i,o,l=null){let a=0;r*=e,s*=i;const u=l.a,c=l.b,h=l.c,f=l.d,d=l.tx,y=l.ty;for(;a<o;){const _=t[r],v=t[r+1];n[s]=u*_+h*v+d,n[s+1]=c*_+f*v+y,s+=i,r+=e,a++}}function y_(t,e,r,n){let s=0;for(e*=r;s<n;)t[e]=0,t[e+1]=0,e+=r,s++}function gm(t,e,r,n,s){const i=e.a,o=e.b,l=e.c,a=e.d,u=e.tx,c=e.ty;r||(r=0),n||(n=2),s||(s=t.length/n-r);let h=r*n;for(let f=0;f<s;f++){const d=t[h],y=t[h+1];t[h]=i*d+l*y+u,t[h+1]=o*d+a*y+c,h+=n}}const x_=new G;class ym{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?wp(r,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||x_}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const ks={extension:{type:W.ShapeBuilder,name:"circle"},build(t,e){let r,n,s,i,o,l;if(t.type==="circle"){const w=t;if(o=l=w.radius,o<=0)return!1;r=w.x,n=w.y,s=i=0}else if(t.type==="ellipse"){const w=t;if(o=w.halfWidth,l=w.halfHeight,o<=0||l<=0)return!1;r=w.x,n=w.y,s=i=0}else{const w=t,C=w.width/2,b=w.height/2;r=w.x+C,n=w.y+b,o=l=Math.max(0,Math.min(w.radius,Math.min(C,b))),s=C-o,i=b-l}if(s<0||i<0)return!1;const a=Math.ceil(2.3*Math.sqrt(o+l)),u=a*8+(s?4:0)+(i?4:0);if(u===0)return!1;if(a===0)return e[0]=e[6]=r+s,e[1]=e[3]=n+i,e[2]=e[4]=r-s,e[5]=e[7]=n-i,!0;let c=0,h=a*4+(s?2:0)+2,f=h,d=u,y=s+o,_=i,v=r+y,m=r-y,p=n+_;if(e[c++]=v,e[c++]=p,e[--h]=p,e[--h]=m,i){const w=n-_;e[f++]=m,e[f++]=w,e[--d]=w,e[--d]=v}for(let w=1;w<a;w++){const C=Math.PI/2*(w/a),b=s+Math.cos(C)*o,S=i+Math.sin(C)*l,k=r+b,M=r-b,P=n+S,T=n-S;e[c++]=k,e[c++]=P,e[--h]=P,e[--h]=M,e[f++]=M,e[f++]=T,e[--d]=T,e[--d]=k}y=s,_=i+l,v=r+y,m=r-y,p=n+_;const x=n-_;return e[c++]=v,e[c++]=p,e[--d]=x,e[--d]=v,s&&(e[c++]=m,e[c++]=p,e[--d]=x,e[--d]=m),!0},triangulate(t,e,r,n,s,i){if(t.length===0)return;let o=0,l=0;for(let c=0;c<t.length;c+=2)o+=t[c],l+=t[c+1];o/=t.length/2,l/=t.length/2;let a=n;e[a*r]=o,e[a*r+1]=l;const u=a++;for(let c=0;c<t.length;c+=2)e[a*r]=t[c],e[a*r+1]=t[c+1],c>0&&(s[i++]=a,s[i++]=u,s[i++]=a-1),a++;s[i++]=u+1,s[i++]=u,s[i++]=a-1}},v_={...ks,extension:{...ks.extension,name:"ellipse"}},__={...ks,extension:{...ks.extension,name:"roundedRectangle"}},xm=1e-4,Rh=1e-4;function w_(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,s=t[e-2],i=t[e-1];n<e;n+=2){const o=t[n],l=t[n+1];r+=(o-s)*(l+i),s=o,i=l}return r<0?-1:1}function jh(t,e,r,n,s,i,o,l){const a=t-r*s,u=e-n*s,c=t+r*i,h=e+n*i;let f,d;o?(f=n,d=-r):(f=-n,d=r);const y=a+f,_=u+d,v=c+f,m=h+d;return l.push(y,_),l.push(v,m),2}function hr(t,e,r,n,s,i,o,l){const a=r-t,u=n-e;let c=Math.atan2(a,u),h=Math.atan2(s-t,i-e);l&&c<h?c+=Math.PI*2:!l&&c>h&&(h+=Math.PI*2);let f=c;const d=h-c,y=Math.abs(d),_=Math.sqrt(a*a+u*u),v=(15*y*Math.sqrt(_)/Math.PI>>0)+1,m=d/v;if(f+=m,l){o.push(t,e),o.push(r,n);for(let p=1,x=f;p<v;p++,x+=m)o.push(t,e),o.push(t+Math.sin(x)*_,e+Math.cos(x)*_);o.push(t,e),o.push(s,i)}else{o.push(r,n),o.push(t,e);for(let p=1,x=f;p<v;p++,x+=m)o.push(t+Math.sin(x)*_,e+Math.cos(x)*_),o.push(t,e);o.push(s,i),o.push(t,e)}return v*2}function S_(t,e,r,n,s,i){const o=xm;if(t.length===0)return;const l=e;let a=l.alignment;if(e.alignment!==.5){let A=w_(t);a=(a-.5)*A+.5}const u=new Me(t[0],t[1]),c=new Me(t[t.length-2],t[t.length-1]),h=n,f=Math.abs(u.x-c.x)<o&&Math.abs(u.y-c.y)<o;if(h){t=t.slice(),f&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const A=(u.x+c.x)*.5,D=(c.y+u.y)*.5;t.unshift(A,D),t.push(A,D)}const d=s,y=t.length/2;let _=t.length;const v=d.length/2,m=l.width/2,p=m*m,x=l.miterLimit*l.miterLimit;let w=t[0],C=t[1],b=t[2],S=t[3],k=0,M=0,P=-(C-S),T=w-b,F=0,N=0,z=Math.sqrt(P*P+T*T);P/=z,T/=z,P*=m,T*=m;const xe=a,j=(1-xe)*2,L=xe*2;h||(l.cap==="round"?_+=hr(w-P*(j-L)*.5,C-T*(j-L)*.5,w-P*j,C-T*j,w+P*L,C+T*L,d,!0)+2:l.cap==="square"&&(_+=jh(w,C,P,T,j,L,!0,d))),d.push(w-P*j,C-T*j),d.push(w+P*L,C+T*L);for(let A=1;A<y-1;++A){w=t[(A-1)*2],C=t[(A-1)*2+1],b=t[A*2],S=t[A*2+1],k=t[(A+1)*2],M=t[(A+1)*2+1],P=-(C-S),T=w-b,z=Math.sqrt(P*P+T*T),P/=z,T/=z,P*=m,T*=m,F=-(S-M),N=b-k,z=Math.sqrt(F*F+N*N),F/=z,N/=z,F*=m,N*=m;const D=b-w,V=C-S,K=b-k,Xe=M-S,qe=D*K+V*Xe,at=V*K-Xe*D,je=at<0;if(Math.abs(at)<.001*Math.abs(qe)){d.push(b-P*j,S-T*j),d.push(b+P*L,S+T*L),qe>=0&&(l.join==="round"?_+=hr(b,S,b-P*j,S-T*j,b-F*j,S-N*j,d,!1)+4:_+=2,d.push(b-F*L,S-N*L),d.push(b+F*j,S+N*j));continue}const X=(-P+w)*(-T+S)-(-P+b)*(-T+C),Nr=(-F+k)*(-N+S)-(-F+b)*(-N+M),U=(D*Nr-K*X)/at,Rr=(Xe*X-V*Nr)/at,gn=(U-b)*(U-b)+(Rr-S)*(Rr-S),Qe=b+(U-b)*j,Mt=S+(Rr-S)*j,Ke=b-(U-b)*L,cr=S-(Rr-S)*L,km=Math.min(D*D+V*V,K*K+Xe*Xe),Tu=je?j:L,Mm=km+Tu*Tu*p;gn<=Mm?l.join==="bevel"||gn/p>x?(je?(d.push(Qe,Mt),d.push(b+P*L,S+T*L),d.push(Qe,Mt),d.push(b+F*L,S+N*L)):(d.push(b-P*j,S-T*j),d.push(Ke,cr),d.push(b-F*j,S-N*j),d.push(Ke,cr)),_+=2):l.join==="round"?je?(d.push(Qe,Mt),d.push(b+P*L,S+T*L),_+=hr(b,S,b+P*L,S+T*L,b+F*L,S+N*L,d,!0)+4,d.push(Qe,Mt),d.push(b+F*L,S+N*L)):(d.push(b-P*j,S-T*j),d.push(Ke,cr),_+=hr(b,S,b-P*j,S-T*j,b-F*j,S-N*j,d,!1)+4,d.push(b-F*j,S-N*j),d.push(Ke,cr)):(d.push(Qe,Mt),d.push(Ke,cr)):(d.push(b-P*j,S-T*j),d.push(b+P*L,S+T*L),l.join==="round"?je?_+=hr(b,S,b+P*L,S+T*L,b+F*L,S+N*L,d,!0)+2:_+=hr(b,S,b-P*j,S-T*j,b-F*j,S-N*j,d,!1)+2:l.join==="miter"&&gn/p<=x&&(je?(d.push(Ke,cr),d.push(Ke,cr)):(d.push(Qe,Mt),d.push(Qe,Mt)),_+=2),d.push(b-F*j,S-N*j),d.push(b+F*L,S+N*L),_+=2)}w=t[(y-2)*2],C=t[(y-2)*2+1],b=t[(y-1)*2],S=t[(y-1)*2+1],P=-(C-S),T=w-b,z=Math.sqrt(P*P+T*T),P/=z,T/=z,P*=m,T*=m,d.push(b-P*j,S-T*j),d.push(b+P*L,S+T*L),h||(l.cap==="round"?_+=hr(b-P*(j-L)*.5,S-T*(j-L)*.5,b-P*j,S-T*j,b+P*L,S+T*L,d,!1)+2:l.cap==="square"&&(_+=jh(b,S,P,T,j,L,!1,d)));const R=Rh*Rh;for(let A=v;A<_+v-2;++A)w=d[A*2],C=d[A*2+1],b=d[(A+1)*2],S=d[(A+1)*2+1],k=d[(A+2)*2],M=d[(A+2)*2+1],!(Math.abs(w*(S-M)+b*(M-C)+k*(C-S))<R)&&i.push(A,A+1,A+2)}function b_(t,e,r,n){const s=xm;if(t.length===0)return;const i=t[0],o=t[1],l=t[t.length-2],a=t[t.length-1],u=e||Math.abs(i-l)<s&&Math.abs(o-a)<s,c=r,h=t.length/2,f=c.length/2;for(let d=0;d<h;d++)c.push(t[d*2]),c.push(t[d*2+1]);for(let d=0;d<h-1;d++)n.push(f+d,f+d+1);u&&n.push(f+h-1,f)}function vm(t,e,r,n,s,i,o){const l=ov(t,e,2);if(!l)return;for(let u=0;u<l.length;u+=3)i[o++]=l[u]+s,i[o++]=l[u+1]+s,i[o++]=l[u+2]+s;let a=s*n;for(let u=0;u<t.length;u+=2)r[a]=t[u],r[a+1]=t[u+1],a+=n}const C_=[],k_={extension:{type:W.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return!0},triangulate(t,e,r,n,s,i){vm(t,C_,e,r,n,s,i)}},M_={extension:{type:W.ShapeBuilder,name:"rectangle"},build(t,e){const r=t,n=r.x,s=r.y,i=r.width,o=r.height;return i>0&&o>0?(e[0]=n,e[1]=s,e[2]=n+i,e[3]=s,e[4]=n+i,e[5]=s+o,e[6]=n,e[7]=s+o,!0):!1},triangulate(t,e,r,n,s,i){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const l=n/r;s[i++]=l,s[i++]=l+1,s[i++]=l+2,s[i++]=l+1,s[i++]=l+3,s[i++]=l+2}},P_={extension:{type:W.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,r,n,s,i){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const l=n/r;s[i++]=l,s[i++]=l+1,s[i++]=l+2}},T_=new G,E_=new ge;function A_(t,e,r,n){const s=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const o=r.getBounds(E_);e.width&&o.pad(e.width);const{x:l,y:a}=o,u=1/o.width,c=1/o.height,h=-l*u,f=-a*c,d=s.a,y=s.b,_=s.c,v=s.d;s.a*=u,s.b*=u,s.c*=c,s.d*=c,s.tx=h*d+f*_+s.tx,s.ty=h*y+f*v+s.ty}else s.translate(e.texture.frame.x,e.texture.frame.y),s.scale(1/e.texture.source.width,1/e.texture.source.height);const i=e.texture.source.style;return!(e.fill instanceof Ns)&&i.addressMode==="clamp-to-edge"&&(i.addressMode="repeat",i.update()),n&&s.append(T_.copyFrom(n).invert()),s}const xo={};lt.handleByMap(W.ShapeBuilder,xo);lt.add(M_,k_,P_,ks,v_,__);const N_=new ge,R_=new G;function j_(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let s=0;s<t.instructions.length;s++){const i=t.instructions[s];if(i.action==="texture")I_(i.data,n,r);else if(i.action==="fill"||i.action==="stroke"){const o=i.action==="stroke",l=i.data.path.shapePath,a=i.data.style,u=i.data.hole;o&&u&&Ih(u.shapePath,a,!0,n,r),u&&(l.shapePrimitives[l.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),Ih(l,a,o,n,r)}}}function I_(t,e,r){const n=[],s=xo.rectangle,i=N_;i.x=t.dx,i.y=t.dy,i.width=t.dw,i.height=t.dh;const o=t.transform;if(!s.build(i,n))return;const{vertices:l,uvs:a,indices:u}=r,c=u.length,h=l.length/2;o&&gm(n,o),s.triangulate(n,l,2,h,u,c);const f=t.image,d=f.uvs;a.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const y=ot.get(ym);y.indexOffset=c,y.indexSize=u.length-c,y.attributeOffset=h,y.attributeSize=l.length/2-h,y.baseColor=t.style,y.alpha=t.alpha,y.texture=f,y.geometryData=r,e.push(y)}function Ih(t,e,r,n,s){const{vertices:i,uvs:o,indices:l}=s;t.shapePrimitives.forEach(({shape:a,transform:u,holes:c})=>{const h=[],f=xo[a.type];if(!f.build(a,h))return;const d=l.length,y=i.length/2;let _="triangle-list";if(u&&gm(h,u),r){const x=a.closePath??!0,w=e;w.pixelLine?(b_(h,x,i,l),_="line-list"):S_(h,w,!1,x,i,l)}else if(c){const x=[],w=h.slice();F_(c).forEach(b=>{x.push(w.length/2),w.push(...b)}),vm(w,x,i,2,y,l,d)}else f.triangulate(h,i,2,y,l,d);const v=o.length/2,m=e.texture;if(m!==Q.WHITE){const x=A_(R_,e,a,u);g_(i,2,y,o,v,2,i.length/2-y,x)}else y_(o,v,2,i.length/2-y);const p=ot.get(ym);p.indexOffset=d,p.indexSize=l.length-d,p.attributeOffset=y,p.attributeSize=i.length/2-y,p.baseColor=e.color,p.alpha=e.alpha,p.texture=m,p.geometryData=s,p.topology=_,n.push(p)})}function F_(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r].shape,s=[];xo[n.type].build(n,s)&&e.push(s)}return e}class L_{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(e=>{ot.return(e)}),this.graphicsData&&ot.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class D_{constructor(){this.instructions=new kp}init(e){const r=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(r):this.batcher=new p_({maxTextures:r}),this.instructions.reset()}get geometry(){return Y(E0,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Mu=class va{constructor(e){this._renderer=e,this._managedContexts=new m_({renderer:e,type:"resource",name:"graphicsContext"})}init(e){va.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??va.defaultOptions.bezierSmoothness}getContextRenderData(e){return e._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(e)}updateGpuContext(e){const r=!!e._gpuData[this._renderer.uid],n=e._gpuData[this._renderer.uid]||this._initContext(e);if(e.dirty||!r){r&&n.reset(),j_(e,n);const s=e.batchMode;e.customShader||s==="no-batch"?n.isBatchable=!1:s==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return e._gpuData[this._renderer.uid]||this._initContext(e)}_initContextRenderData(e){const r=ot.get(D_,{maxTextures:this._renderer.limits.maxBatchableTextures}),n=e._gpuData[this._renderer.uid],{batches:s,geometryData:i}=n;n.graphicsData=r;const o=i.vertices.length,l=i.indices.length;for(let h=0;h<s.length;h++)s[h].applyTransform=!1;const a=r.batcher;a.ensureAttributeBuffer(o),a.ensureIndexBuffer(l),a.begin();for(let h=0;h<s.length;h++){const f=s[h];a.add(f)}a.finish(r.instructions);const u=a.geometry;u.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),u.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let h=0;h<c.length;h++){const f=c[h];f.bindGroup=kv(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return r}_initContext(e){const r=new L_;return r.context=e,e._gpuData[this._renderer.uid]=r,this._managedContexts.add(e),r}destroy(){this._managedContexts.destroy(),this._renderer=null}};Mu.extension={type:[W.WebGLSystem,W.WebGPUSystem,W.CanvasSystem],name:"graphicsContext"};Mu.defaultOptions={bezierSmoothness:.5};let _m=Mu;const z_=8,ui=11920929e-14,B_=1;function wm(t,e,r,n,s,i,o,l,a,u){const h=Math.min(.99,Math.max(0,u??_m.defaultOptions.bezierSmoothness));let f=(B_-h)/1;return f*=f,G_(e,r,n,s,i,o,l,a,t,f),t}function G_(t,e,r,n,s,i,o,l,a,u){_a(t,e,r,n,s,i,o,l,a,u,0),a.push(o,l)}function _a(t,e,r,n,s,i,o,l,a,u,c){if(c>z_)return;const h=(t+r)/2,f=(e+n)/2,d=(r+s)/2,y=(n+i)/2,_=(s+o)/2,v=(i+l)/2,m=(h+d)/2,p=(f+y)/2,x=(d+_)/2,w=(y+v)/2,C=(m+x)/2,b=(p+w)/2;if(c>0){let S=o-t,k=l-e;const M=Math.abs((r-o)*k-(n-l)*S),P=Math.abs((s-o)*k-(i-l)*S);if(M>ui&&P>ui){if((M+P)*(M+P)<=u*(S*S+k*k)){a.push(C,b);return}}else if(M>ui){if(M*M<=u*(S*S+k*k)){a.push(C,b);return}}else if(P>ui){if(P*P<=u*(S*S+k*k)){a.push(C,b);return}}else if(S=C-(t+o)/2,k=b-(e+l)/2,S*S+k*k<=u){a.push(C,b);return}}_a(t,e,h,f,m,p,C,b,a,u,c+1),_a(C,b,x,w,_,v,o,l,a,u,c+1)}const O_=8,U_=11920929e-14,$_=1;function V_(t,e,r,n,s,i,o,l){const u=Math.min(.99,Math.max(0,l??_m.defaultOptions.bezierSmoothness));let c=($_-u)/1;return c*=c,H_(e,r,n,s,i,o,t,c),t}function H_(t,e,r,n,s,i,o,l){wa(o,t,e,r,n,s,i,l,0),o.push(s,i)}function wa(t,e,r,n,s,i,o,l,a){if(a>O_)return;const u=(e+n)/2,c=(r+s)/2,h=(n+i)/2,f=(s+o)/2,d=(u+h)/2,y=(c+f)/2;let _=i-e,v=o-r;const m=Math.abs((n-i)*v-(s-o)*_);if(m>U_){if(m*m<=l*(_*_+v*v)){t.push(d,y);return}}else if(_=d-(e+i)/2,v=y-(r+o)/2,_*_+v*v<=l){t.push(d,y);return}wa(t,e,r,u,c,d,y,l,a+1),wa(t,d,y,h,f,i,o,l,a+1)}function Sm(t,e,r,n,s,i,o,l){let a=Math.abs(s-i);(!o&&s>i||o&&i>s)&&(a=2*Math.PI-a),l||(l=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(a/Math.PI)))),l=Math.max(l,3);let u=a/l,c=s;u*=o?-1:1;for(let h=0;h<l+1;h++){const f=Math.cos(c),d=Math.sin(c),y=e+f*n,_=r+d*n;t.push(y,_),c+=u}}function W_(t,e,r,n,s,i){const o=t[t.length-2],a=t[t.length-1]-r,u=o-e,c=s-r,h=n-e,f=Math.abs(a*h-u*c);if(f<1e-8||i===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const d=a*a+u*u,y=c*c+h*h,_=a*c+u*h,v=i*Math.sqrt(d)/f,m=i*Math.sqrt(y)/f,p=v*_/d,x=m*_/y,w=v*h+m*u,C=v*c+m*a,b=u*(m+p),S=a*(m+p),k=h*(v+x),M=c*(v+x),P=Math.atan2(S-C,b-w),T=Math.atan2(M-C,k-w);Sm(t,w+e,C+r,i,P,T,u*c>h*a)}const ts=Math.PI*2,cl={centerX:0,centerY:0,ang1:0,ang2:0},hl=({x:t,y:e},r,n,s,i,o,l,a)=>{t*=r,e*=n;const u=s*t-i*e,c=i*t+s*e;return a.x=u+o,a.y=c+l,a};function Y_(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,s=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),l=Math.sin(t+e);return[{x:s-i*n,y:i+s*n},{x:o+l*n,y:l-o*n},{x:o,y:l}]}const Fh=(t,e,r,n)=>{const s=t*n-e*r<0?-1:1;let i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),s*Math.acos(i)},X_=(t,e,r,n,s,i,o,l,a,u,c,h,f)=>{const d=Math.pow(s,2),y=Math.pow(i,2),_=Math.pow(c,2),v=Math.pow(h,2);let m=d*y-d*v-y*_;m<0&&(m=0),m/=d*v+y*_,m=Math.sqrt(m)*(o===l?-1:1);const p=m*s/i*h,x=m*-i/s*c,w=u*p-a*x+(t+r)/2,C=a*p+u*x+(e+n)/2,b=(c-p)/s,S=(h-x)/i,k=(-c-p)/s,M=(-h-x)/i,P=Fh(1,0,b,S);let T=Fh(b,S,k,M);l===0&&T>0&&(T-=ts),l===1&&T<0&&(T+=ts),f.centerX=w,f.centerY=C,f.ang1=P,f.ang2=T};function q_(t,e,r,n,s,i,o,l=0,a=0,u=0){if(i===0||o===0)return;const c=Math.sin(l*ts/360),h=Math.cos(l*ts/360),f=h*(e-n)/2+c*(r-s)/2,d=-c*(e-n)/2+h*(r-s)/2;if(f===0&&d===0)return;i=Math.abs(i),o=Math.abs(o);const y=Math.pow(f,2)/Math.pow(i,2)+Math.pow(d,2)/Math.pow(o,2);y>1&&(i*=Math.sqrt(y),o*=Math.sqrt(y)),X_(e,r,n,s,i,o,a,u,c,h,f,d,cl);let{ang1:_,ang2:v}=cl;const{centerX:m,centerY:p}=cl;let x=Math.abs(v)/(ts/4);Math.abs(1-x)<1e-7&&(x=1);const w=Math.max(Math.ceil(x),1);v/=w;let C=t[t.length-2],b=t[t.length-1];const S={x:0,y:0};for(let k=0;k<w;k++){const M=Y_(_,v),{x:P,y:T}=hl(M[0],i,o,h,c,m,p,S),{x:F,y:N}=hl(M[1],i,o,h,c,m,p,S),{x:z,y:xe}=hl(M[2],i,o,h,c,m,p,S);wm(t,C,b,P,T,F,N,z,xe),C=z,b=xe,_+=v}}function Q_(t,e,r){const n=(o,l)=>{const a=l.x-o.x,u=l.y-o.y,c=Math.sqrt(a*a+u*u),h=a/c,f=u/c;return{len:c,nx:h,ny:f}},s=(o,l)=>{o===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)};let i=e[e.length-1];for(let o=0;o<e.length;o++){const l=e[o%e.length],a=l.radius??r;if(a<=0){s(o,l),i=l;continue}const u=e[(o+1)%e.length],c=n(l,i),h=n(l,u);if(c.len<1e-4||h.len<1e-4){s(o,l),i=l;continue}let f=Math.asin(c.nx*h.ny-c.ny*h.nx),d=1,y=!1;c.nx*h.nx-c.ny*-h.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,d=-1,y=!0):f>0&&(d=-1,y=!0);const _=f/2;let v,m=Math.abs(Math.cos(_)*a/Math.sin(_));m>Math.min(c.len/2,h.len/2)?(m=Math.min(c.len/2,h.len/2),v=Math.abs(m*Math.sin(_)/Math.cos(_))):v=a;const p=l.x+h.nx*m+-h.ny*v*d,x=l.y+h.ny*m+h.nx*v*d,w=Math.atan2(c.ny,c.nx)+Math.PI/2*d,C=Math.atan2(h.ny,h.nx)-Math.PI/2*d;o===0&&t.moveTo(p+Math.cos(w)*v,x+Math.sin(w)*v),t.arc(p,x,v,w,C,y),i=l}}function K_(t,e,r,n){const s=(l,a)=>Math.sqrt((l.x-a.x)**2+(l.y-a.y)**2),i=(l,a,u)=>({x:l.x+(a.x-l.x)*u,y:l.y+(a.y-l.y)*u}),o=e.length;for(let l=0;l<o;l++){const a=e[(l+1)%o],u=a.radius??r;if(u<=0){l===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y);continue}const c=e[l],h=e[(l+2)%o],f=s(c,a);let d;if(f<1e-4)d=a;else{const v=Math.min(f/2,u);d=i(a,c,v/f)}const y=s(h,a);let _;if(y<1e-4)_=a;else{const v=Math.min(y/2,u);_=i(a,h,v/y)}l===0?t.moveTo(d.x,d.y):t.lineTo(d.x,d.y),t.quadraticCurveTo(a.x,a.y,_.x,_.y,n)}}const Z_=new ge;class J_{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new yt,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,s=n[n.length-2],i=n[n.length-1];return(s!==e||i!==r)&&n.push(e,r),this}arc(e,r,n,s,i,o){this._ensurePoly(!1);const l=this._currentPoly.points;return Sm(l,e,r,n,s,i,o),this}arcTo(e,r,n,s,i){this._ensurePoly();const o=this._currentPoly.points;return W_(o,e,r,n,s,i),this}arcToSvg(e,r,n,s,i,o,l){const a=this._currentPoly.points;return q_(a,this._currentPoly.lastX,this._currentPoly.lastY,o,l,e,r,n,s,i),this}bezierCurveTo(e,r,n,s,i,o,l){this._ensurePoly();const a=this._currentPoly;return wm(this._currentPoly.points,a.lastX,a.lastY,e,r,n,s,i,o,l),this}quadraticCurveTo(e,r,n,s,i){this._ensurePoly();const o=this._currentPoly;return V_(this._currentPoly.points,o.lastX,o.lastY,e,r,n,s,i),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));const n=this.shapePrimitives,s=n.length;for(let i=0;i<e.instructions.length;i++){const o=e.instructions[i];this[o.action](...o.data)}if(e.checkForHoles&&n.length-s>1){let i=null;for(let o=s;o<n.length;o++){const l=n[o];if(l.shape.type==="polygon"){const a=l.shape,u=i==null?void 0:i.shape;u&&u.containsPolygon(a)?(i.holes||(i.holes=[]),i.holes.push(l),n.copyWithin(o,o+1),n.length--,o--):i=l}}}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,s,i){return this.drawShape(new ge(e,r,n,s),i),this}circle(e,r,n,s){return this.drawShape(new bu(e,r,n),s),this}poly(e,r,n){const s=new Jn(e);return s.closePath=r,this.drawShape(s,n),this}regularPoly(e,r,n,s,i=0,o){s=Math.max(s|0,3);const l=-1*Math.PI/2+i,a=Math.PI*2/s,u=[];for(let c=0;c<s;c++){const h=l-c*a;u.push(e+n*Math.cos(h),r+n*Math.sin(h))}return this.poly(u,!0,o),this}roundPoly(e,r,n,s,i,o=0,l){if(s=Math.max(s|0,3),i<=0)return this.regularPoly(e,r,n,s,o);const a=n*Math.sin(Math.PI/s)-.001;i=Math.min(i,a);const u=-1*Math.PI/2+o,c=Math.PI*2/s,h=(s-2)*Math.PI/s/2;for(let f=0;f<s;f++){const d=f*c+u,y=e+n*Math.cos(d),_=r+n*Math.sin(d),v=d+Math.PI+h,m=d-Math.PI-h,p=y+i*Math.cos(v),x=_+i*Math.sin(v),w=y+i*Math.cos(m),C=_+i*Math.sin(m);f===0?this.moveTo(p,x):this.lineTo(p,x),this.quadraticCurveTo(y,_,w,C,l)}return this.closePath()}roundShape(e,r,n=!1,s){return e.length<3?this:(n?K_(this,e,r,s):Q_(this,e,r),this.closePath())}filletRect(e,r,n,s,i){if(i===0)return this.rect(e,r,n,s);const o=Math.min(n,s)/2,l=Math.min(o,Math.max(-o,i)),a=e+n,u=r+s,c=l<0?-l:0,h=Math.abs(l);return this.moveTo(e,r+h).arcTo(e+c,r+c,e+h,r,h).lineTo(a-h,r).arcTo(a-c,r+c,a,r+h,h).lineTo(a,u-h).arcTo(a-c,u-c,e+n-h,u,h).lineTo(e+h,u).arcTo(e+c,u-c,e,u-h,h).closePath()}chamferRect(e,r,n,s,i,o){if(i<=0)return this.rect(e,r,n,s);const l=Math.min(i,Math.min(n,s)/2),a=e+n,u=r+s,c=[e+l,r,a-l,r,a,r+l,a,u-l,a-l,u,e+l,u,e,u-l,e,r+l];for(let h=c.length-1;h>=2;h-=2)c[h]===c[h-2]&&c[h-1]===c[h-3]&&c.splice(h-1,2);return this.poly(c,!0,o)}ellipse(e,r,n,s,i){return this.drawShape(new Cu(e,r,n,s),i),this}roundRect(e,r,n,s,i,o){return this.drawShape(new ku(e,r,n,s,i),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new Jn,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Jn,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,s=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const i=r.transform,o=n;n=i.a*n+i.c*s+i.tx,s=i.b*o+i.d*s+i.ty}this._currentPoly.points.push(n,s)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const s=r[n],i=s.shape.getBounds(Z_);s.transform?e.addRect(i,s.transform):e.addRect(i)}return e}}class It{constructor(e,r=!1){this.instructions=[],this.uid=ue("graphicsPath"),this._dirty=!0,this.checkForHoles=r,typeof e=="string"?wv(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new J_(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,s,i){const o=this.instructions[this.instructions.length-1],l=this.getLastPoint(Me.shared);let a=0,u=0;if(!o||o.action!=="bezierCurveTo")a=l.x,u=l.y;else{a=o.data[2],u=o.data[3];const c=l.x,h=l.y;a=c+(c-a),u=h+(h-u)}return this.instructions.push({action:"bezierCurveTo",data:[a,u,e,r,n,s,i]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const s=this.instructions[this.instructions.length-1],i=this.getLastPoint(Me.shared);let o=0,l=0;if(!s||s.action!=="quadraticCurveTo")o=i.x,l=i.y;else{o=s.data[0],l=s.data[1];const a=i.x,u=i.y;o=a+(a-o),l=u+(u-l)}return this.instructions.push({action:"quadraticCurveTo",data:[o,l,e,r,n]}),this._dirty=!0,this}rect(e,r,n,s,i){return this.instructions.push({action:"rect",data:[e,r,n,s,i]}),this._dirty=!0,this}circle(e,r,n,s){return this.instructions.push({action:"circle",data:[e,r,n,s]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,s,i,o,l){i||(i=s/2);const a=-1*Math.PI/2+o,u=n*2,c=Math.PI*2/u,h=[];for(let f=0;f<u;f++){const d=f%2?i:s,y=f*c+a;h.push(e+d*Math.cos(y),r+d*Math.sin(y))}return this.poly(h,!0,l),this}clone(e=!1){const r=new It;if(r.checkForHoles=this.checkForHoles,!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n];r.instructions.push({action:s.action,data:s.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,s=e.c,i=e.d,o=e.tx,l=e.ty;let a=0,u=0,c=0,h=0,f=0,d=0,y=0,_=0;for(let v=0;v<this.instructions.length;v++){const m=this.instructions[v],p=m.data;switch(m.action){case"moveTo":case"lineTo":a=p[0],u=p[1],p[0]=r*a+s*u+o,p[1]=n*a+i*u+l;break;case"bezierCurveTo":c=p[0],h=p[1],f=p[2],d=p[3],a=p[4],u=p[5],p[0]=r*c+s*h+o,p[1]=n*c+i*h+l,p[2]=r*f+s*d+o,p[3]=n*f+i*d+l,p[4]=r*a+s*u+o,p[5]=n*a+i*u+l;break;case"quadraticCurveTo":c=p[0],h=p[1],a=p[2],u=p[3],p[0]=r*c+s*h+o,p[1]=n*c+i*h+l,p[2]=r*a+s*u+o,p[3]=n*a+i*u+l;break;case"arcToSvg":a=p[5],u=p[6],y=p[0],_=p[1],p[0]=r*y+s*_,p[1]=n*y+i*_,p[5]=r*a+s*u+o,p[6]=n*a+i*u+l;break;case"circle":p[4]=Nn(p[3],e);break;case"rect":p[4]=Nn(p[4],e);break;case"ellipse":p[8]=Nn(p[8],e);break;case"roundRect":p[5]=Nn(p[5],e);break;case"addPath":p[0].transform(e);break;case"poly":p[2]=Nn(p[2],e);break;default:Ve("unknown transform action",m.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function Nn(t,e){return t?t.prepend(e):e.clone()}function oe(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function e1(t,e){const r=t.querySelectorAll("defs");for(let n=0;n<r.length;n++){const s=r[n];for(let i=0;i<s.children.length;i++){const o=s.children[i];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=t1(o);break;case"radialgradient":e.defs[o.id]=r1();break}}}}function t1(t){const e=oe(t,"x1",0),r=oe(t,"y1",0),n=oe(t,"x2",1),s=oe(t,"y2",0),i=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new Ns(e,r,n,s,i==="objectBoundingBox"?"local":"global");for(let l=0;l<t.children.length;l++){const a=t.children[l],u=oe(a,"offset",0),c=nt.shared.setValue(a.getAttribute("stop-color")).toNumber();o.addColorStop(u,c)}return o}function r1(t){return Ve("[SVG Parser] Radial gradients are not yet supported"),new Ns(0,0,1,0)}function Lh(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Dh={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function bm(t,e){const r=t.getAttribute("style"),n={},s={},i={strokeStyle:n,fillStyle:s,useFill:!1,useStroke:!1};for(const o in Dh){const l=t.getAttribute(o);l&&zh(e,i,o,l.trim())}if(r){const o=r.split(";");for(let l=0;l<o.length;l++){const a=o[l].trim(),[u,c]=a.split(":");Dh[u]&&zh(e,i,u,c.trim())}}return{strokeStyle:i.useStroke?n:null,fillStyle:i.useFill?s:null,useFill:i.useFill,useStroke:i.useStroke}}function zh(t,e,r,n){switch(r){case"stroke":if(n!=="none"){if(n.startsWith("url(")){const s=Lh(n);e.strokeStyle.fill=t.defs[s]}else e.strokeStyle.color=nt.shared.setValue(n).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(n);break;case"fill":if(n!=="none"){if(n.startsWith("url(")){const s=Lh(n);e.fillStyle.fill=t.defs[s]}else e.fillStyle.color=nt.shared.setValue(n).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(n);break;case"stroke-opacity":e.strokeStyle.alpha=Number(n);break;case"opacity":e.fillStyle.alpha=Number(n),e.strokeStyle.alpha=Number(n);break}}function n1(t){if(t.length<=2)return!0;const e=t.map(l=>l.area).sort((l,a)=>a-l),[r,n]=e,s=e[e.length-1],i=r/n,o=n/s;return!(i>3&&o<2)}function s1(t){return t.split(/(?=[Mm])/).filter(n=>n.trim().length>0)}function i1(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const r=e.map(Number),n=[],s=[];for(let c=0;c<r.length;c+=2)c+1<r.length&&(n.push(r[c]),s.push(r[c+1]));if(n.length===0||s.length===0)return 0;const i=Math.min(...n),o=Math.max(...n),l=Math.min(...s),a=Math.max(...s);return(o-i)*(a-l)}function Bh(t,e){const r=new It(t,!1);for(const n of r.instructions)e.instructions.push(n)}function o1(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const r={context:e,defs:{},path:new It};e1(t,r);const n=t.children,{fillStyle:s,strokeStyle:i}=bm(t,r);for(let o=0;o<n.length;o++){const l=n[o];l.nodeName.toLowerCase()!=="defs"&&Cm(l,r,s,i)}return e}function Cm(t,e,r,n){const s=t.children,{fillStyle:i,strokeStyle:o}=bm(t,e);i&&r?r={...r,...i}:i&&(r=i),o&&n?n={...n,...o}:o&&(n=o);const l=!r&&!n;l&&(r={color:0});let a,u,c,h,f,d,y,_,v,m,p,x,w,C,b,S,k;switch(t.nodeName.toLowerCase()){case"path":{C=t.getAttribute("d");const M=t.getAttribute("fill-rule"),P=s1(C),T=M==="evenodd",F=P.length>1;if(T&&F){const z=P.map(j=>({path:j,area:i1(j)}));if(z.sort((j,L)=>L.area-j.area),P.length>3||!n1(z))for(let j=0;j<z.length;j++){const L=z[j],R=j===0;e.context.beginPath();const A=new It(void 0,!0);Bh(L.path,A),e.context.path(A),R?(r&&e.context.fill(r),n&&e.context.stroke(n)):e.context.cut()}else for(let j=0;j<z.length;j++){const L=z[j],R=j%2===1;e.context.beginPath();const A=new It(void 0,!0);Bh(L.path,A),e.context.path(A),R?e.context.cut():(r&&e.context.fill(r),n&&e.context.stroke(n))}}else{const z=M?M==="evenodd":!0;b=new It(C,z),e.context.path(b),r&&e.context.fill(r),n&&e.context.stroke(n)}break}case"circle":y=oe(t,"cx",0),_=oe(t,"cy",0),v=oe(t,"r",0),e.context.ellipse(y,_,v,v),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"rect":a=oe(t,"x",0),u=oe(t,"y",0),S=oe(t,"width",0),k=oe(t,"height",0),m=oe(t,"rx",0),p=oe(t,"ry",0),m||p?e.context.roundRect(a,u,S,k,m||p):e.context.rect(a,u,S,k),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"ellipse":y=oe(t,"cx",0),_=oe(t,"cy",0),m=oe(t,"rx",0),p=oe(t,"ry",0),e.context.beginPath(),e.context.ellipse(y,_,m,p),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"line":c=oe(t,"x1",0),h=oe(t,"y1",0),f=oe(t,"x2",0),d=oe(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,h),e.context.lineTo(f,d),n&&e.context.stroke(n);break;case"polygon":w=t.getAttribute("points"),x=w.match(/-?\d+/g).map(M=>parseInt(M,10)),e.context.poly(x,!0),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"polyline":w=t.getAttribute("points"),x=w.match(/-?\d+/g).map(M=>parseInt(M,10)),e.context.poly(x,!1),n&&e.context.stroke(n);break;case"g":case"svg":break;default:{Ve(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}l&&(r=null);for(let M=0;M<s.length;M++)Cm(s[M],e,r,n)}function l1(t){return nt.isColorLike(t)}function Gh(t){return t instanceof pv}function Oh(t){return t instanceof Ns}function a1(t){return t instanceof Q}function u1(t,e,r){const n=nt.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=Q.WHITE,{...r,...t}}function c1(t,e,r){return t.texture=e,{...r,...t}}function Uh(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function $h(t,e,r){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...r,...t}}function h1(t,e){const r={...e,...t},n=nt.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r}function On(t,e){if(t==null)return null;const r={},n=t;return l1(t)?u1(r,t,e):a1(t)?c1(r,t,e):Gh(t)?Uh(r,t,e):Oh(t)?$h(r,t,e):n.fill&&Gh(n.fill)?Uh(n,n.fill,e):n.fill&&Oh(n.fill)?$h(n,n.fill,e):h1(n,e)}function Vh(t,e){const{width:r,alignment:n,miterLimit:s,cap:i,join:o,pixelLine:l,...a}=e,u=On(t,a);return u?{width:r,alignment:n,miterLimit:s,cap:i,join:o,pixelLine:l,...u}:null}const d1=new Me,Hh=new G,Pu=class wt extends Gt{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=ue("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new It,this._transform=new G,this._fillStyle={...wt.defaultFillStyle},this._strokeStyle={...wt.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new yt,this._boundsDirty=!0}clone(){const e=new wt;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=On(e,wt.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Vh(e,wt.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=On(e,wt.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=On(e,wt.defaultStrokeStyle),this}texture(e,r,n,s,i,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:s||0,dw:i||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?nt.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new It,this}fill(e,r){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&(s==null?void 0:s.action)==="stroke"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(Y(he,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=On(e,wt.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(Me.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&(n==null?void 0:n.action)==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=Vh(e,wt.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,s,i,o){this._tick++;const l=this._transform;return this._activePath.arc(l.a*e+l.c*r+l.tx,l.b*e+l.d*r+l.ty,n,s,i,o),this}arcTo(e,r,n,s,i){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,i),this}arcToSvg(e,r,n,s,i,o,l){this._tick++;const a=this._transform;return this._activePath.arcToSvg(e,r,n,s,i,a.a*o+a.c*l+a.tx,a.b*o+a.d*l+a.ty),this}bezierCurveTo(e,r,n,s,i,o,l){this._tick++;const a=this._transform;return this._activePath.bezierCurveTo(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,a.a*n+a.c*s+a.tx,a.b*n+a.d*s+a.ty,a.a*i+a.c*o+a.tx,a.b*i+a.d*o+a.ty,l),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,s){return this._tick++,this._activePath.ellipse(e,r,n,s,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,s=this._activePath.instructions,i=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return s.length===1&&s[0].action==="moveTo"?(s[0].data[0]=i,s[0].data[1]=o,this):(this._activePath.moveTo(i,o),this)}quadraticCurveTo(e,r,n,s,i){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,i),this}rect(e,r,n,s){return this._tick++,this._activePath.rect(e,r,n,s,this._transform.clone()),this}roundRect(e,r,n,s,i){return this._tick++,this._activePath.roundRect(e,r,n,s,i,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,s,i=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,s,i,o),this}roundPoly(e,r,n,s,i,o){return this._tick++,this._activePath.roundPoly(e,r,n,s,i,o),this}roundShape(e,r,n,s){return this._tick++,this._activePath.roundShape(e,r,n,s),this}filletRect(e,r,n,s,i){return this._tick++,this._activePath.filletRect(e,r,n,s,i),this}chamferRect(e,r,n,s,i,o){return this._tick++,this._activePath.chamferRect(e,r,n,s,i,o),this}star(e,r,n,s,i=0,o=0){return this._tick++,this._activePath.star(e,r,n,s,i,o,this._transform.clone()),this}svg(e){return this._tick++,o1(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,s,i,o){return e instanceof G?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,s,i,o),this)}transform(e,r,n,s,i,o){return e instanceof G?(this._transform.append(e),this):(Hh.set(e,r,n,s,i,o),this._transform.append(Hh),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],s=n.action;if(s==="fill"){const i=n.data;e.addBounds(i.path.bounds)}else if(s==="texture"){const i=n.data;e.addFrame(i.dx,i.dy,i.dx+i.dw,i.dy+i.dh,i.transform)}if(s==="stroke"){const i=n.data,o=i.style.alignment,l=i.style.width*(1-o),a=i.path.bounds;e.addFrame(a.minX-l,a.minY-l,a.maxX+l,a.maxY+l)}}return e}containsPoint(e){var s;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let i=0;i<r.length;i++){const o=r[i],l=o.data,a=l.path;if(!o.action||!a)continue;const u=l.style,c=a.shapePath.shapePrimitives;for(let h=0;h<c.length;h++){const f=c[h].shape;if(!u||!f)continue;const d=c[h].transform,y=d?d.applyInverse(e,d1):e;if(o.action==="fill")n=f.contains(y.x,y.y);else{const v=u;n=f.strokeContains(y.x,y.y,v.width,v.alignment)}const _=l.hole;if(_){const v=(s=_.shapePath)==null?void 0:s.shapePrimitives;if(v)for(let m=0;m<v.length;m++)v[m].shape.contains(y.x,y.y)&&(n=!1)}if(n)return!0}}return n}unload(){var e;this.emit("unload",this);for(const r in this._gpuData)(e=this._gpuData[r])==null||e.destroy();this._gpuData=Object.create(null)}destroy(e=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(n)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(n))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Pu.defaultFillStyle={color:16777215,alpha:1,texture:Q.WHITE,matrix:null,fill:null,textureSpace:"local"};Pu.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Q.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Rn=Pu;class Ki extends Pp{constructor(e){e instanceof Rn&&(e={context:e});const{context:r,roundPixels:n,...s}=e||{};super({label:"Graphics",...s}),this.renderPipeId="graphics",r?this.context=r:(this.context=this._ownedContext=new Rn,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=e,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_onTouch(e){this._gcLastUsed=e,this._context._gcLastUsed=e}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Ki(this._context.clone()):(this._ownedContext=null,new Ki(this._context))}lineStyle(e,r,n){Y(he,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const s={};return e&&(s.width=e),r&&(s.color=r),n&&(s.alpha=n),this.context.strokeStyle=s,this}beginFill(e,r){Y(he,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e!==void 0&&(n.color=e),r!==void 0&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){Y(he,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Rn.defaultStrokeStyle.width||e.color!==Rn.defaultStrokeStyle.color||e.alpha!==Rn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Y(he,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Y(he,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Y(he,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Y(he,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Y(he,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Y(he,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}lt.add(_0,w0);const f1=({mapTiles:t,colonyLocation:e,selectedTarget:r,onHexSelect:n,mapRevealCounter:s=0})=>{const i=$.useRef(null),o=$.useRef(null),l=$.useRef(null),a=$.useRef(0),[u,c]=$.useState(0),[h,f]=$.useState(!1);return $.useEffect(()=>{let d=0;t.forEach(y=>{y.revealed&&d++}),d!==a.current&&(a.current=d,c(y=>y+1))},[t]),$.useEffect(()=>{if(!i.current||h)return;let d=!0;const y=(v,m,p)=>{const x=(v-300)/p,w=(m-200)/p,C=x*Math.sqrt(3)/3-w/3,b=w*2/3,S=-C-b;let k=Math.round(C),M=Math.round(b);const P=Math.round(S),T=Math.abs(k-C),F=Math.abs(M-b),N=Math.abs(P-S);return T>F&&T>N?k=-M-P:F>N&&(M=-k-P),{q:k,r:M}};return(async()=>{const v=new lm;if(await v.init({width:600,height:400,backgroundColor:1710618}),!d||!i.current){v.destroy(!0);return}i.current.appendChild(v.canvas),o.current=v,f(!0);const m=25,p=new Ki;v.stage.eventMode="static",v.stage.hitArea=v.screen,v.stage.on("pointerdown",S=>{const k=S.global,M=y(k.x,k.y,m),P=t.get(`${M.q},${M.r}`);P&&!P.revealed&&n&&n(M.q,M.r)});const x={field:9139029,forest:2969622,mountain:6316128,water:1981023},w={field:11178096,forest:8956484,mountain:8947848,water:4878245},C=(S,k,M,P,T)=>{p.lineStyle(2,T),p.beginFill(P);for(let F=0;F<6;F++){const N=Math.PI/3*F-Math.PI/2,z=S+M*Math.cos(N),xe=k+M*Math.sin(N);F===0?p.moveTo(z,xe):p.lineTo(z,xe)}p.closePath(),p.endFill()};(()=>{if(p.clear(),t.forEach(M=>{const P=300+m*Math.sqrt(3)*(M.q+M.r/2),T=200+m*(3/2)*M.r;M.revealed?C(P,T,m,x[M.terrain],w[M.terrain]):C(P,T,m,657930,3355443)}),r){const M=t.get(`${r.q},${r.r}`);if(M&&!M.revealed){const P=300+m*Math.sqrt(3)*(r.q+r.r/2),T=200+m*(3/2)*r.r;p.lineStyle(3,16755200);const F=m*.6;p.moveTo(P-F,T),p.lineTo(P+F,T),p.moveTo(P,T-F),p.lineTo(P,T+F),p.lineStyle(2,16755200),p.drawCircle(P,T,m*.5)}}const S=300+m*Math.sqrt(3)*(e.q+e.r/2),k=200+m*(3/2)*e.r;p.lineStyle(3,16766720),p.beginFill(16766720,.3),p.drawCircle(S,k,m*.6),p.endFill(),p.lineStyle(0),p.beginFill(16766720),p.drawCircle(S,k,4),p.endFill()})(),l.current=p,v.stage.addChild(p)})(),()=>{d=!1,o.current&&(o.current.destroy(!0),o.current=null,f(!1))}},[]),$.useEffect(()=>{if(l.current&&h){const d=l.current,y=25;d.clear();const _={field:9139029,forest:2969622,mountain:6316128,water:1981023},v={field:11178096,forest:8956484,mountain:8947848,water:4878245},m=(w,C,b,S,k)=>{d.lineStyle(2,k),d.beginFill(S);for(let M=0;M<6;M++){const P=Math.PI/3*M-Math.PI/2,T=w+b*Math.cos(P),F=C+b*Math.sin(P);M===0?d.moveTo(T,F):d.lineTo(T,F)}d.closePath(),d.endFill()};if(t.forEach(w=>{const C=300+y*Math.sqrt(3)*(w.q+w.r/2),b=200+y*(3/2)*w.r;w.revealed?m(C,b,y,_[w.terrain],v[w.terrain]):m(C,b,y,657930,3355443)}),r){const w=t.get(`${r.q},${r.r}`);if(w&&!w.revealed){const C=300+y*Math.sqrt(3)*(r.q+r.r/2),b=200+y*(3/2)*r.r;d.lineStyle(3,16755200);const S=y*.6;d.moveTo(C-S,b),d.lineTo(C+S,b),d.moveTo(C,b-S),d.lineTo(C,b+S),d.lineStyle(2,16755200),d.drawCircle(C,b,y*.5)}}const p=300+y*Math.sqrt(3)*(e.q+e.r/2),x=200+y*(3/2)*e.r;d.lineStyle(3,16766720),d.beginFill(16766720,.3),d.drawCircle(p,x,y*.6),d.endFill(),d.lineStyle(0),d.beginFill(16766720),d.drawCircle(p,x,4),d.endFill()}},[r,u,e,h,s]),g.jsx("div",{ref:i,className:"border border-gray-700 rounded"})},p1=({state:t,mapTiles:e,colonyLocation:r,selectedTarget:n,handleHexSelect:s,mapRevealCounter:i,expeditionWorkers:o,setExpeditionWorkers:l,expeditions:a,handleSendExpedition:u})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-amber-300",children:"Territory Map"}),g.jsxs("div",{className:"mb-4 flex gap-4 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#8b7355"}}),g.jsx("span",{children:"Fields"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#2d5016"}}),g.jsx("span",{children:"Forest"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#606060"}}),g.jsx("span",{children:"Mountains"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#1e3a5f"}}),g.jsx("span",{children:"Water"})]})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(f1,{mapTiles:e,colonyLocation:r,selectedTarget:n,onHexSelect:s,mapRevealCounter:i})}),g.jsxs("div",{className:"mt-4 bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-2 text-amber-200",children:"Launch Expedition"}),n&&g.jsxs("div",{className:"mb-3 p-2 bg-amber-900/20 border border-amber-700 rounded text-sm",children:["Target selected: (",n.q,", ",n.r,")"]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-gray-400 block mb-1",children:"Expedition Size"}),g.jsx("input",{type:"number",min:"1",max:t.idle,value:o,onChange:c=>l(Math.min(t.idle,Math.max(1,parseInt(c.target.value)||1))),className:"w-full bg-gray-800 text-white px-3 py-2 rounded border border-gray-600"})]}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"text-sm text-gray-400 mb-1",children:["Available Workers: ",t.idle]}),g.jsx("button",{onClick:u,disabled:!n||t.idle<o,className:"w-full px-4 py-2 bg-amber-600 hover:bg-amber-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold rounded transition-colors",children:"Send Expedition"})]})]}),g.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click an unexplored hex to select target, then click Send"}),a.length>0&&g.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[g.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Active Expeditions:"}),g.jsx("div",{className:"space-y-1",children:a.filter(c=>c.status==="in-progress").map(c=>g.jsxs("div",{className:"text-xs text-gray-300 flex justify-between",children:[g.jsxs("span",{children:[c.workers," workers  (",c.targetQ,", ",c.targetR,")"]}),g.jsxs("span",{className:"text-amber-400",children:["Returns Day ",c.arrivalDay]})]},c.id))})]})]}),g.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3 text-sm",children:(()=>{let c=0,h=0,f=0;return e.forEach(d=>{d.revealed&&(d.terrain==="field"&&c++,d.terrain==="forest"&&h++,d.terrain==="mountain"&&f++)}),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-700",children:[g.jsx("div",{className:"text-gray-400",children:"Fields Available"}),g.jsx("div",{className:"text-xl font-bold text-amber-200",children:c}),g.jsx("div",{className:"text-xs text-gray-500",children:"Grain production"})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-700",children:[g.jsx("div",{className:"text-gray-400",children:"Forest Tiles"}),g.jsx("div",{className:"text-xl font-bold text-green-400",children:h}),g.jsx("div",{className:"text-xs text-gray-500",children:"Wood production"})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-700",children:[g.jsx("div",{className:"text-gray-400",children:"Mountain Tiles"}),g.jsx("div",{className:"text-xl font-bold text-gray-400",children:f}),g.jsx("div",{className:"text-xs text-gray-500",children:"Stone production"})]})]})})()}),g.jsx("div",{className:"mt-4 text-sm text-gray-400",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),g.jsx("span",{children:"Orange crosshair marks selected expedition target"})]})})]}),m1=({state:t})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-amber-300",children:"Resource Details"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-3 text-amber-200 flex items-center gap-2",children:" Food Resources"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Rations (1.0 value):"}),g.jsx("span",{className:"font-bold",children:t.rations})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Berries (0.3 value):"}),g.jsx("span",{className:"font-bold",children:t.berries})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Small Game (0.8 value):"}),g.jsx("span",{className:"font-bold",children:t.smallGame})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Large Game (2.0 value):"}),g.jsx("span",{className:"font-bold",children:t.largeGame})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Grain (0.5 value):"}),g.jsx("span",{className:"font-bold",children:t.grain})]})]})]}),g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-3 text-amber-200 flex items-center gap-2",children:" Wood Resources"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Sticks (firewood):"}),g.jsx("span",{className:"font-bold",children:t.sticks})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Logs (construction):"}),g.jsx("span",{className:"font-bold",children:t.logs})]})]})]}),g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-3 text-amber-200 flex items-center gap-2",children:" Stone Resources"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Rocks:"}),g.jsx("span",{className:"font-bold",children:t.rocks})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Stone:"}),g.jsx("span",{className:"font-bold",children:t.stone})]})]})]}),g.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-3 text-amber-200 flex items-center gap-2",children:" Tools"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-gray-400",children:"Available tools:"}),g.jsx("span",{className:"font-bold",children:t.tools})]}),g.jsx("div",{className:"text-xs text-gray-500",children:"Woodcutters limited by tool count"})]})]})]}),g.jsxs("div",{className:"mt-4 bg-gray-900 p-4 rounded border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-2 text-amber-200",children:"Terrain Requirements"}),g.jsxs("div",{className:"text-sm space-y-1 text-gray-400",children:[g.jsxs("div",{children:[" ",g.jsx("span",{className:"text-green-400",children:"Fields"}),": Berries, Small Game, Rocks, Sticks"]}),g.jsxs("div",{children:[" ",g.jsx("span",{className:"text-green-600",children:"Forests"}),": Berries, Small Game, Large Game, Sticks, Logs"]}),g.jsxs("div",{children:[" ",g.jsx("span",{className:"text-gray-400",children:"Mountains"}),": Stone"]})]})]})]});function g1(){const{state:t,allocateLabor:e,timeSpeed:r,setTimeSpeed:n,gameStarted:s,setGameStarted:i,chronicle:o,chronicleRef:l,mapTiles:a,colonyLocation:u,regenerateMap:c,currentSeed:h,expeditions:f,startExpedition:d,mapRevealCounter:y}=m0(),_=yu(t),v=n0(t),m=s0(t),[p,x]=$.useState("dashboard"),[w,C]=$.useState(!1),[b,S]=$.useState(5),[k,M]=$.useState(null),P=(N,z)=>{M({q:N,r:z})},T=()=>{k&&d(k.q,k.r,b)&&M(null)};$.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[o,l]),$.useEffect(()=>{const N=z=>{(z.key==="d"||z.key==="D")&&!(z.target instanceof HTMLInputElement)&&!(z.target instanceof HTMLTextAreaElement)&&C(xe=>!xe)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]);const F=["Dashboard","Labor","Map","Resources"];return s?g.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4",children:[g.jsx("button",{onClick:()=>C(!w),className:"fixed top-4 right-4 z-50 px-3 py-1 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-xs font-mono transition-colors",title:"Toggle Debug Mode (D)",children:w?" ON":" OFF"}),w&&g.jsx(i0,{state:t,timeSpeed:r,gameStarted:s,chronicle:o,mapTiles:a,colonyLocation:u,onClose:()=>C(!1),regenerateMap:c,currentSeed:h}),g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-4 border border-gray-700",children:[g.jsx("h1",{className:"text-3xl font-bold text-amber-400 mb-2",children:"Kingdom Planner"}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex gap-6 text-sm",children:[g.jsxs("div",{children:["Day ",t.day," - ",t.season]}),g.jsxs("div",{children:["Population: ",t.population]}),g.jsxs("div",{className:_<20?"text-red-400":"",children:["Food: ",_]}),g.jsxs("div",{children:["Firewood: ",v]}),g.jsxs("div",{children:["Tools: ",t.tools]}),g.jsxs("div",{children:["Stores: ",m]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"Time:"}),["paused","slow","normal","fast","veryFast"].map(N=>g.jsx("button",{onClick:()=>n(N),className:`px-3 py-1 rounded text-sm transition-colors ${r===N?N==="paused"?"bg-red-600 text-white":"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:`${N} (${Kn[N]}ms)`,children:N==="paused"?"":N==="slow"?"":N==="normal"?"":N==="fast"?"":""},N))]})]})]}),g.jsx("div",{className:"flex gap-2 mb-4",children:F.map(N=>g.jsx("button",{onClick:()=>x(N.toLowerCase()),className:`px-4 py-2 rounded transition-colors ${p===N.toLowerCase()?"bg-amber-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:N},N))}),g.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[p==="dashboard"&&g.jsx(g0,{state:t,totalFood:_,stores:m}),p==="labor"&&g.jsx(y0,{state:t,allocateLabor:e}),p==="map"&&g.jsx(p1,{state:t,mapTiles:a,colonyLocation:u,selectedTarget:k,handleHexSelect:P,mapRevealCounter:y,expeditionWorkers:b,setExpeditionWorkers:S,expeditions:f,handleSendExpedition:T}),p==="resources"&&g.jsx(m1,{state:t})]}),g.jsxs("div",{className:"mt-4 bg-gray-800 rounded-lg p-4 border border-gray-700",children:[g.jsx("h3",{className:"font-semibold mb-2 text-amber-300",children:"Chronicle"}),g.jsx("div",{ref:l,className:"max-h-32 overflow-y-auto text-sm space-y-1",children:o.map((N,z)=>g.jsxs("div",{className:`${N.type==="danger"?"text-red-400":N.type==="warning"?"text-yellow-400":"text-gray-400"}`,children:[g.jsxs("span",{className:"text-gray-500",children:["Day ",N.day,":"]})," ",N.message]},z))})]})]})]}):g.jsx(r0,{onStart:()=>i(!0)})}dl.createRoot(document.getElementById("root")).render(g.jsx(Vm.StrictMode,{children:g.jsx(g1,{})}));export{nt as $,nm as A,Fe as B,ir as C,or as D,W as E,ot as F,mo as G,vp as H,yt as I,Mp as J,rh as K,vs as L,G as M,Ix as N,$x as O,Me as P,ge as Q,fa as R,wu as S,ri as T,ca as U,lv as V,sh as W,el as X,ih as Y,hx as Z,fp as _,yo as a,ux as a0,Sp as a1,sm as a2,Y as a3,he as a4,dv as a5,zv as a6,Nv as a7,n_ as a8,i_ as a9,c_ as aa,d_ as ab,f_ as ac,Rn as ad,On as ae,Vh as af,Ns as ag,pv as ah,qi as ai,Dr as aj,ym as ak,wh as al,vh as am,Ki as an,R0 as ao,_m as ap,Hp as b,Gt as c,m_ as d,lt as e,_h as f,kv as g,Tv as h,Cs as i,bi as j,_u as k,em as l,Ip as m,$c as n,xt as o,qp as p,r_ as q,W0 as r,s_ as s,a_ as t,ue as u,h_ as v,Ve as w,Q as x,N0 as y,p_ as z};
//# sourceMappingURL=index--UxaUfpK.js.map
